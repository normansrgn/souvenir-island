function RT(i,e){for(var s=0;s<e.length;s++){const r=e[s];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in i)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function ml(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ff={exports:{}},Fa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function AT(){if(U_)return Fa;U_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Fa.Fragment=e,Fa.jsx=s,Fa.jsxs=s,Fa}var j_;function NT(){return j_||(j_=1,Ff.exports=AT()),Ff.exports}var v=NT(),Yf={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function OT(){if(H_)return se;H_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,P={};function j(C,L,K){this.props=C,this.context=L,this.refs=P,this.updater=K||x}j.prototype.isReactComponent={},j.prototype.setState=function(C,L){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,L,"setState")},j.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ee(){}ee.prototype=j.prototype;function Q(C,L,K){this.props=C,this.context=L,this.refs=P,this.updater=K||x}var Z=Q.prototype=new ee;Z.constructor=Q,U(Z,j.prototype),Z.isPureReactComponent=!0;var ce=Array.isArray,$={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function ze(C,L,K,G,z,re){return K=re.ref,{$$typeof:i,type:C,key:L,ref:K!==void 0?K:null,props:re}}function dt(C,L){return ze(C.type,L,void 0,void 0,void 0,C.props)}function Y(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function ae(C){var L={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(K){return L[K]})}var at=/\/+/g;function Ct(C,L){return typeof C=="object"&&C!==null&&C.key!=null?ae(""+C.key):L.toString(36)}function yt(){}function wt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(yt,yt):(C.status="pending",C.then(function(L){C.status==="pending"&&(C.status="fulfilled",C.value=L)},function(L){C.status==="pending"&&(C.status="rejected",C.reason=L)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Ze(C,L,K,G,z){var re=typeof C;(re==="undefined"||re==="boolean")&&(C=null);var ie=!1;if(C===null)ie=!0;else switch(re){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(C.$$typeof){case i:case e:ie=!0;break;case y:return ie=C._init,Ze(ie(C._payload),L,K,G,z)}}if(ie)return z=z(C),ie=G===""?"."+Ct(C,0):G,ce(z)?(K="",ie!=null&&(K=ie.replace(at,"$&/")+"/"),Ze(z,L,K,"",function(De){return De})):z!=null&&(Y(z)&&(z=dt(z,K+(z.key==null||C&&C.key===z.key?"":(""+z.key).replace(at,"$&/")+"/")+ie)),L.push(z)),1;ie=0;var Fe=G===""?".":G+":";if(ce(C))for(var he=0;he<C.length;he++)G=C[he],re=Fe+Ct(G,he),ie+=Ze(G,L,K,re,z);else if(he=b(C),typeof he=="function")for(C=he.call(C),he=0;!(G=C.next()).done;)G=G.value,re=Fe+Ct(G,he++),ie+=Ze(G,L,K,re,z);else if(re==="object"){if(typeof C.then=="function")return Ze(wt(C),L,K,G,z);throw L=String(C),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ie}function H(C,L,K){if(C==null)return C;var G=[],z=0;return Ze(C,G,"","",function(re){return L.call(K,re,z++)}),G}function J(C){if(C._status===-1){var L=C._result;L=L(),L.then(function(K){(C._status===0||C._status===-1)&&(C._status=1,C._result=K)},function(K){(C._status===0||C._status===-1)&&(C._status=2,C._result=K)}),C._status===-1&&(C._status=0,C._result=L)}if(C._status===1)return C._result.default;throw C._result}var q=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function be(){}return se.Children={map:H,forEach:function(C,L,K){H(C,function(){L.apply(this,arguments)},K)},count:function(C){var L=0;return H(C,function(){L++}),L},toArray:function(C){return H(C,function(L){return L})||[]},only:function(C){if(!Y(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},se.Component=j,se.Fragment=s,se.Profiler=o,se.PureComponent=Q,se.StrictMode=r,se.Suspense=p,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,se.act=function(){throw Error("act(...) is not supported in production builds of React.")},se.cache=function(C){return function(){return C.apply(null,arguments)}},se.cloneElement=function(C,L,K){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var G=U({},C.props),z=C.key,re=void 0;if(L!=null)for(ie in L.ref!==void 0&&(re=void 0),L.key!==void 0&&(z=""+L.key),L)!ve.call(L,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&L.ref===void 0||(G[ie]=L[ie]);var ie=arguments.length-2;if(ie===1)G.children=K;else if(1<ie){for(var Fe=Array(ie),he=0;he<ie;he++)Fe[he]=arguments[he+2];G.children=Fe}return ze(C.type,z,void 0,void 0,re,G)},se.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},se.createElement=function(C,L,K){var G,z={},re=null;if(L!=null)for(G in L.key!==void 0&&(re=""+L.key),L)ve.call(L,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(z[G]=L[G]);var ie=arguments.length-2;if(ie===1)z.children=K;else if(1<ie){for(var Fe=Array(ie),he=0;he<ie;he++)Fe[he]=arguments[he+2];z.children=Fe}if(C&&C.defaultProps)for(G in ie=C.defaultProps,ie)z[G]===void 0&&(z[G]=ie[G]);return ze(C,re,void 0,void 0,null,z)},se.createRef=function(){return{current:null}},se.forwardRef=function(C){return{$$typeof:h,render:C}},se.isValidElement=Y,se.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:J}},se.memo=function(C,L){return{$$typeof:m,type:C,compare:L===void 0?null:L}},se.startTransition=function(C){var L=$.T,K={};$.T=K;try{var G=C(),z=$.S;z!==null&&z(K,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(be,q)}catch(re){q(re)}finally{$.T=L}},se.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},se.use=function(C){return $.H.use(C)},se.useActionState=function(C,L,K){return $.H.useActionState(C,L,K)},se.useCallback=function(C,L){return $.H.useCallback(C,L)},se.useContext=function(C){return $.H.useContext(C)},se.useDebugValue=function(){},se.useDeferredValue=function(C,L){return $.H.useDeferredValue(C,L)},se.useEffect=function(C,L){return $.H.useEffect(C,L)},se.useId=function(){return $.H.useId()},se.useImperativeHandle=function(C,L,K){return $.H.useImperativeHandle(C,L,K)},se.useInsertionEffect=function(C,L){return $.H.useInsertionEffect(C,L)},se.useLayoutEffect=function(C,L){return $.H.useLayoutEffect(C,L)},se.useMemo=function(C,L){return $.H.useMemo(C,L)},se.useOptimistic=function(C,L){return $.H.useOptimistic(C,L)},se.useReducer=function(C,L,K){return $.H.useReducer(C,L,K)},se.useRef=function(C){return $.H.useRef(C)},se.useState=function(C){return $.H.useState(C)},se.useSyncExternalStore=function(C,L,K){return $.H.useSyncExternalStore(C,L,K)},se.useTransition=function(){return $.H.useTransition()},se.version="19.0.0",se}var z_;function nh(){return z_||(z_=1,Yf.exports=OT()),Yf.exports}var T=nh();const zi=ml(T),IT=RT({__proto__:null,default:zi},[T]);var Kf={exports:{}},Ya={},Wf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function DT(){return B_||(B_=1,function(i){function e(H,J){var q=H.length;H.push(J);e:for(;0<q;){var be=q-1>>>1,C=H[be];if(0<o(C,J))H[be]=J,H[q]=C,q=be;else break e}}function s(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],q=H.pop();if(q!==J){H[0]=q;e:for(var be=0,C=H.length,L=C>>>1;be<L;){var K=2*(be+1)-1,G=H[K],z=K+1,re=H[z];if(0>o(G,q))z<C&&0>o(re,G)?(H[be]=re,H[z]=q,be=z):(H[be]=G,H[K]=q,be=K);else if(z<C&&0>o(re,q))H[be]=re,H[z]=q,be=z;else break e}}return J}function o(H,J){var q=H.sortIndex-J.sortIndex;return q!==0?q:H.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var p=[],m=[],y=1,E=null,b=3,x=!1,U=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Z(H){for(var J=s(m);J!==null;){if(J.callback===null)r(m);else if(J.startTime<=H)r(m),J.sortIndex=J.expirationTime,e(p,J);else break;J=s(m)}}function ce(H){if(P=!1,Z(H),!U)if(s(p)!==null)U=!0,wt();else{var J=s(m);J!==null&&Ze(ce,J.startTime-H)}}var $=!1,ve=-1,ze=5,dt=-1;function Y(){return!(i.unstable_now()-dt<ze)}function ae(){if($){var H=i.unstable_now();dt=H;var J=!0;try{e:{U=!1,P&&(P=!1,ee(ve),ve=-1),x=!0;var q=b;try{t:{for(Z(H),E=s(p);E!==null&&!(E.expirationTime>H&&Y());){var be=E.callback;if(typeof be=="function"){E.callback=null,b=E.priorityLevel;var C=be(E.expirationTime<=H);if(H=i.unstable_now(),typeof C=="function"){E.callback=C,Z(H),J=!0;break t}E===s(p)&&r(p),Z(H)}else r(p);E=s(p)}if(E!==null)J=!0;else{var L=s(m);L!==null&&Ze(ce,L.startTime-H),J=!1}}break e}finally{E=null,b=q,x=!1}J=void 0}}finally{J?at():$=!1}}}var at;if(typeof Q=="function")at=function(){Q(ae)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,yt=Ct.port2;Ct.port1.onmessage=ae,at=function(){yt.postMessage(null)}}else at=function(){j(ae,0)};function wt(){$||($=!0,at())}function Ze(H,J){ve=j(function(){H(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_continueExecution=function(){U||x||(U=!0,wt())},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ze=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return s(p)},i.unstable_next=function(H){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var q=b;b=J;try{return H()}finally{b=q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=b;b=H;try{return J()}finally{b=q}},i.unstable_scheduleCallback=function(H,J,q){var be=i.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?be+q:be):q=be,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=q+C,H={id:y++,callback:J,priorityLevel:H,startTime:q,expirationTime:C,sortIndex:-1},q>be?(H.sortIndex=q,e(m,H),s(p)===null&&H===s(m)&&(P?(ee(ve),ve=-1):P=!0,Ze(ce,q-be))):(H.sortIndex=C,e(p,H),U||x||(U=!0,wt())),H},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(H){var J=b;return function(){var q=b;b=J;try{return H.apply(this,arguments)}finally{b=q}}}}($f)),$f}var P_;function xT(){return P_||(P_=1,Wf.exports=DT()),Wf.exports}var Xf={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function MT(){if(q_)return mt;q_=1;var i=nh();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:m,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(p,m,null,y)},mt.flushSync=function(p){var m=f.T,y=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=m,r.p=y,r.d.f()}},mt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},mt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},mt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,E=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:x}):y==="script"&&r.d.X(p,{crossOrigin:E,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},mt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,E=h(y,m.crossOrigin);r.d.L(p,y,{crossOrigin:E,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},mt.requestFormReset=function(p){r.d.r(p)},mt.unstable_batchedUpdates=function(p,m){return p(m)},mt.useFormState=function(p,m,y){return f.H.useFormState(p,m,y)},mt.useFormStatus=function(){return f.H.useHostTransitionStatus()},mt.version="19.0.0",mt}var V_;function jy(){if(V_)return Xf.exports;V_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xf.exports=MT(),Xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function kT(){if(G_)return Ya;G_=1;var i=xT(),e=nh(),s=jy();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),ce=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function ve(t){return t===null||typeof t!="object"?null:(t=$&&t[$]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Symbol.for("react.client.reference");function dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ze?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case P:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Provider";case b:return(t._context.displayName||"Context")+".Consumer";case U:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return n=t.displayName||null,n!==null?n:dt(t.type)||"Memo";case Q:n=t._payload,t=t._init;try{return dt(t(n))}catch{}}return null}var Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=Object.assign,at,Ct;function yt(t){if(at===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);at=n&&n[1]||"",Ct=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+t+Ct}var wt=!1;function Ze(t,n){if(!t||wt)return"";wt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(I){var O=I}Reflect.construct(t,[],k)}else{try{k.call()}catch(I){O=I}t.call(k.prototype)}}else{try{throw Error()}catch(I){O=I}(k=t())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(I){if(I&&O&&typeof I.stack=="string")return[I.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var S=g.split(`
`),R=_.split(`
`);for(u=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(l===S.length||u===R.length)for(l=S.length-1,u=R.length-1;1<=l&&0<=u&&S[l]!==R[u];)u--;for(;1<=l&&0<=u;l--,u--)if(S[l]!==R[u]){if(l!==1||u!==1)do if(l--,u--,0>u||S[l]!==R[u]){var D=`
`+S[l].replace(" at new "," at ");return t.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",t.displayName)),D}while(1<=l&&0<=u);break}}}finally{wt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yt(a):""}function H(t){switch(t.tag){case 26:case 27:case 5:return yt(t.type);case 16:return yt("Lazy");case 13:return yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return t=Ze(t.type,!1),t;case 11:return t=Ze(t.type.render,!1),t;case 1:return t=Ze(t.type,!0),t;default:return""}}function J(t){try{var n="";do n+=H(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function q(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function be(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(q(t)!==t)throw Error(r(188))}function L(t){var n=t.alternate;if(!n){if(n=q(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var u=a.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===a)return C(u),t;if(d===l)return C(u),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=d;else{for(var g=!1,_=u.child;_;){if(_===a){g=!0,a=u,l=d;break}if(_===l){g=!0,l=u,a=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===a){g=!0,a=d,l=u;break}if(_===l){g=!0,l=d,a=u;break}_=_.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function K(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=K(t),n!==null)return n;t=t.sibling}return null}var G=Array.isArray,z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ie=[],Fe=-1;function he(t){return{current:t}}function De(t){0>Fe||(t.current=ie[Fe],ie[Fe]=null,Fe--)}function Se(t,n){Fe++,ie[Fe]=t.current,t.current=n}var Et=he(null),Vt=he(null),Rt=he(null),an=he(null);function Ce(t,n){switch(Se(Rt,n),Se(Vt,t),Se(Et,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?f_(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=f_(t),n=d_(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}De(Et),Se(Et,n)}function ln(){De(Et),De(Vt),De(Rt)}function In(t){t.memoizedState!==null&&Se(an,t);var n=Et.current,a=d_(n,t.type);n!==a&&(Se(Vt,t),Se(Et,a))}function Hs(t){Vt.current===t&&(De(Et),De(Vt)),an.current===t&&(De(an),Ba._currentValue=re)}var Yr=Object.prototype.hasOwnProperty,Kr=i.unstable_scheduleCallback,Wr=i.unstable_cancelCallback,Uc=i.unstable_shouldYield,jc=i.unstable_requestPaint,Mt=i.unstable_now,Hc=i.unstable_getCurrentPriorityLevel,_e=i.unstable_ImmediatePriority,Dn=i.unstable_UserBlockingPriority,Wi=i.unstable_NormalPriority,lS=i.unstable_LowPriority,np=i.unstable_IdlePriority,oS=i.log,cS=i.unstable_setDisableYieldValue,$r=null,kt=null;function uS(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot($r,t,void 0,(t.current.flags&128)===128)}catch{}}function ui(t){if(typeof oS=="function"&&cS(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode($r,t)}catch{}}var Lt=Math.clz32?Math.clz32:hS,fS=Math.log,dS=Math.LN2;function hS(t){return t>>>=0,t===0?32:31-(fS(t)/dS|0)|0}var Al=128,Nl=4194304;function $i(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ol(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,u=t.suspendedLanes,d=t.pingedLanes,g=t.warmLanes;t=t.finishedLanes!==0;var _=a&134217727;return _!==0?(a=_&~u,a!==0?l=$i(a):(d&=_,d!==0?l=$i(d):t||(g=_&~g,g!==0&&(l=$i(g))))):(_=a&~u,_!==0?l=$i(_):d!==0?l=$i(d):t||(g=a&~g,g!==0&&(l=$i(g)))),l===0?0:n!==0&&n!==l&&!(n&u)&&(u=l&-l,g=n&-n,u>=g||u===32&&(g&4194176)!==0)?n:l}function Xr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function pS(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ip(){var t=Al;return Al<<=1,!(Al&4194176)&&(Al=128),t}function sp(){var t=Nl;return Nl<<=1,!(Nl&62914560)&&(Nl=4194304),t}function zc(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Qr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mS(t,n,a,l,u,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var _=t.entanglements,S=t.expirationTimes,R=t.hiddenUpdates;for(a=g&~a;0<a;){var D=31-Lt(a),k=1<<D;_[D]=0,S[D]=-1;var O=R[D];if(O!==null)for(R[D]=null,D=0;D<O.length;D++){var I=O[D];I!==null&&(I.lane&=-536870913)}a&=~k}l!==0&&rp(t,l,0),d!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function rp(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Lt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function ap(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Lt(a),u=1<<l;u&n|t[l]&n&&(t[l]|=n),a&=~u}}function lp(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function op(){var t=z.p;return t!==0?t:(t=window.event,t===void 0?32:I_(t.type))}function gS(t,n){var a=z.p;try{return z.p=t,n()}finally{z.p=a}}var fi=Math.random().toString(36).slice(2),ht="__reactFiber$"+fi,At="__reactProps$"+fi,zs="__reactContainer$"+fi,Bc="__reactEvents$"+fi,_S="__reactListeners$"+fi,vS="__reactHandles$"+fi,cp="__reactResources$"+fi,Zr="__reactMarker$"+fi;function Pc(t){delete t[ht],delete t[At],delete t[Bc],delete t[_S],delete t[vS]}function Xi(t){var n=t[ht];if(n)return n;for(var a=t.parentNode;a;){if(n=a[zs]||a[ht]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=m_(t);t!==null;){if(a=t[ht])return a;t=m_(t)}return n}t=a,a=t.parentNode}return null}function Bs(t){if(t=t[ht]||t[zs]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Jr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ps(t){var n=t[cp];return n||(n=t[cp]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Je(t){t[Zr]=!0}var up=new Set,fp={};function Qi(t,n){qs(t,n),qs(t+"Capture",n)}function qs(t,n){for(fp[t]=n,t=0;t<n.length;t++)up.add(n[t])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dp={},hp={};function ES(t){return Yr.call(hp,t)?!0:Yr.call(dp,t)?!1:yS.test(t)?hp[t]=!0:(dp[t]=!0,!1)}function Il(t,n,a){if(ES(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Dl(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Mn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pp(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function SS(t){var n=pp(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xl(t){t._valueTracker||(t._valueTracker=SS(t))}function mp(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=pp(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ml(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bS=/[\n"\\]/g;function Ft(t){return t.replace(bS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qc(t,n,a,l,u,d,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Gt(n)):t.value!==""+Gt(n)&&(t.value=""+Gt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Vc(t,g,Gt(n)):a!=null?Vc(t,g,Gt(a)):l!=null&&t.removeAttribute("value"),u==null&&d!=null&&(t.defaultChecked=!!d),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Gt(_):t.removeAttribute("name")}function gp(t,n,a,l,u,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Gt(a):"",n=n!=null?""+Gt(n):a,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Vc(t,n,a){n==="number"&&Ml(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vs(t,n,a,l){if(t=t.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=n.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Gt(a),n=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function _p(t,n,a){if(n!=null&&(n=""+Gt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Gt(a):""}function vp(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(G(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Gt(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Gs(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var TS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yp(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||TS.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ep(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&a[u]!==l&&yp(t,u,l)}else for(var d in n)n.hasOwnProperty(d)&&yp(t,d,n[d])}function Gc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(t){return wS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fc=null;function Yc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fs=null,Ys=null;function Sp(t){var n=Bs(t);if(n&&(t=n.stateNode)){var a=t[At]||null;e:switch(t=n.stateNode,n.type){case"input":if(qc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ft(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var u=l[At]||null;if(!u)throw Error(r(90));qc(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&mp(l)}break e;case"textarea":_p(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Vs(t,!!a.multiple,n,!1)}}}var Kc=!1;function bp(t,n,a){if(Kc)return t(n,a);Kc=!0;try{var l=t(n);return l}finally{if(Kc=!1,(Fs!==null||Ys!==null)&&(vo(),Fs&&(n=Fs,t=Ys,Ys=Fs=null,Sp(n),t)))for(n=0;n<t.length;n++)Sp(t[n])}}function ea(t,n){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Wc=!1;if(xn)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Wc=!1}var di=null,$c=null,Ll=null;function Tp(){if(Ll)return Ll;var t,n=$c,a=n.length,l,u="value"in di?di.value:di.textContent,d=u.length;for(t=0;t<a&&n[t]===u[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===u[d-l];l++);return Ll=u.slice(t,1<l?1-l:void 0)}function Ul(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jl(){return!0}function Cp(){return!1}function Nt(t){function n(a,l,u,d,g){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(a=t[_],this[_]=a?a(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?jl:Cp,this.isPropagationStopped=Cp,this}return ae(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hl=Nt(Zi),na=ae({},Zi,{view:0,detail:0}),RS=Nt(na),Xc,Qc,ia,zl=ae({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ia&&(ia&&t.type==="mousemove"?(Xc=t.screenX-ia.screenX,Qc=t.screenY-ia.screenY):Qc=Xc=0,ia=t),Xc)},movementY:function(t){return"movementY"in t?t.movementY:Qc}}),wp=Nt(zl),AS=ae({},zl,{dataTransfer:0}),NS=Nt(AS),OS=ae({},na,{relatedTarget:0}),Zc=Nt(OS),IS=ae({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),DS=Nt(IS),xS=ae({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MS=Nt(xS),kS=ae({},Zi,{data:0}),Rp=Nt(kS),LS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},US={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=jS[t])?!!n[t]:!1}function Jc(){return HS}var zS=ae({},na,{key:function(t){if(t.key){var n=LS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?US[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(t){return t.type==="keypress"?Ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BS=Nt(zS),PS=ae({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=Nt(PS),qS=ae({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),VS=Nt(qS),GS=ae({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),FS=Nt(GS),YS=ae({},zl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KS=Nt(YS),WS=ae({},Zi,{newState:0,oldState:0}),$S=Nt(WS),XS=[9,13,27,32],eu=xn&&"CompositionEvent"in window,sa=null;xn&&"documentMode"in document&&(sa=document.documentMode);var QS=xn&&"TextEvent"in window&&!sa,Np=xn&&(!eu||sa&&8<sa&&11>=sa),Op=" ",Ip=!1;function Dp(t,n){switch(t){case"keyup":return XS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ks=!1;function ZS(t,n){switch(t){case"compositionend":return xp(n);case"keypress":return n.which!==32?null:(Ip=!0,Op);case"textInput":return t=n.data,t===Op&&Ip?null:t;default:return null}}function JS(t,n){if(Ks)return t==="compositionend"||!eu&&Dp(t,n)?(t=Tp(),Ll=$c=di=null,Ks=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Np&&n.locale!=="ko"?null:n.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eb[t.type]:n==="textarea"}function kp(t,n,a,l){Fs?Ys?Ys.push(l):Ys=[l]:Fs=l,n=To(n,"onChange"),0<n.length&&(a=new Hl("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var ra=null,aa=null;function tb(t){a_(t,0)}function Bl(t){var n=Jr(t);if(mp(n))return t}function Lp(t,n){if(t==="change")return n}var Up=!1;if(xn){var tu;if(xn){var nu="oninput"in document;if(!nu){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),nu=typeof jp.oninput=="function"}tu=nu}else tu=!1;Up=tu&&(!document.documentMode||9<document.documentMode)}function Hp(){ra&&(ra.detachEvent("onpropertychange",zp),aa=ra=null)}function zp(t){if(t.propertyName==="value"&&Bl(aa)){var n=[];kp(n,aa,t,Yc(t)),bp(tb,n)}}function nb(t,n,a){t==="focusin"?(Hp(),ra=n,aa=a,ra.attachEvent("onpropertychange",zp)):t==="focusout"&&Hp()}function ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bl(aa)}function sb(t,n){if(t==="click")return Bl(n)}function rb(t,n){if(t==="input"||t==="change")return Bl(n)}function ab(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ut=typeof Object.is=="function"?Object.is:ab;function la(t,n){if(Ut(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Yr.call(n,u)||!Ut(t[u],n[u]))return!1}return!0}function Bp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,n){var a=Bp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bp(a)}}function qp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ml(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ml(t.document)}return n}function iu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function lb(t,n){var a=Vp(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&qp(n.ownerDocument.documentElement,n)){if(l!==null&&iu(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var u=n.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!a.extend&&d>l&&(u=l,l=d,d=u),u=Pp(n,d);var g=Pp(n,l);u&&g&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ob=xn&&"documentMode"in document&&11>=document.documentMode,Ws=null,su=null,oa=null,ru=!1;function Gp(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ru||Ws==null||Ws!==Ml(l)||(l=Ws,"selectionStart"in l&&iu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),oa&&la(oa,l)||(oa=l,l=To(su,"onSelect"),0<l.length&&(n=new Hl("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ws)))}function Ji(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var $s={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},au={},Fp={};xn&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function es(t){if(au[t])return au[t];if(!$s[t])return t;var n=$s[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Fp)return au[t]=n[a];return t}var Yp=es("animationend"),Kp=es("animationiteration"),Wp=es("animationstart"),cb=es("transitionrun"),ub=es("transitionstart"),fb=es("transitioncancel"),$p=es("transitionend"),Xp=new Map,Qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function on(t,n){Xp.set(t,n),Qi(n,[t])}var Yt=[],Xs=0,lu=0;function Pl(){for(var t=Xs,n=lu=Xs=0;n<t;){var a=Yt[n];Yt[n++]=null;var l=Yt[n];Yt[n++]=null;var u=Yt[n];Yt[n++]=null;var d=Yt[n];if(Yt[n++]=null,l!==null&&u!==null){var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}d!==0&&Zp(a,u,d)}}function ql(t,n,a,l){Yt[Xs++]=t,Yt[Xs++]=n,Yt[Xs++]=a,Yt[Xs++]=l,lu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ou(t,n,a,l){return ql(t,n,a,l),Vl(t)}function hi(t,n){return ql(t,null,null,n),Vl(t)}function Zp(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var u=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(u=!0)),t=d,d=d.return;u&&n!==null&&t.tag===3&&(d=t.stateNode,u=31-Lt(a),d=d.hiddenUpdates,t=d[u],t===null?d[u]=[n]:t.push(n),n.lane=a|536870912)}function Vl(t){if(50<Ma)throw Ma=0,mf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Qs={},Jp=new WeakMap;function Kt(t,n){if(typeof t=="object"&&t!==null){var a=Jp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:J(n)},Jp.set(t,n),n)}return{value:t,source:n,stack:J(n)}}var Zs=[],Js=0,Gl=null,Fl=0,Wt=[],$t=0,ts=null,kn=1,Ln="";function ns(t,n){Zs[Js++]=Fl,Zs[Js++]=Gl,Gl=t,Fl=n}function em(t,n,a){Wt[$t++]=kn,Wt[$t++]=Ln,Wt[$t++]=ts,ts=t;var l=kn;t=Ln;var u=32-Lt(l)-1;l&=~(1<<u),a+=1;var d=32-Lt(n)+u;if(30<d){var g=u-u%5;d=(l&(1<<g)-1).toString(32),l>>=g,u-=g,kn=1<<32-Lt(n)+u|a<<u|l,Ln=d+t}else kn=1<<d|a<<u|l,Ln=t}function cu(t){t.return!==null&&(ns(t,1),em(t,1,0))}function uu(t){for(;t===Gl;)Gl=Zs[--Js],Zs[Js]=null,Fl=Zs[--Js],Zs[Js]=null;for(;t===ts;)ts=Wt[--$t],Wt[$t]=null,Ln=Wt[--$t],Wt[$t]=null,kn=Wt[--$t],Wt[$t]=null}var St=null,lt=null,ye=!1,cn=null,_n=!1,fu=Error(r(519));function is(t){var n=Error(r(418,""));throw fa(Kt(n,t)),fu}function tm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ht]=t,n[At]=l,a){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(a=0;a<La.length;a++)fe(La[a],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":fe("invalid",n),gp(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xl(n);break;case"select":fe("invalid",n);break;case"textarea":fe("invalid",n),vp(n,l.value,l.defaultValue,l.children),xl(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||u_(n.textContent,a)?(l.popover!=null&&(fe("beforetoggle",n),fe("toggle",n)),l.onScroll!=null&&fe("scroll",n),l.onScrollEnd!=null&&fe("scrollend",n),l.onClick!=null&&(n.onclick=Co),n=!0):n=!1,n||is(t)}function nm(t){for(St=t.return;St;)switch(St.tag){case 3:case 27:_n=!0;return;case 5:case 13:_n=!1;return;default:St=St.return}}function ca(t){if(t!==St)return!1;if(!ye)return nm(t),ye=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||xf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&lt&&is(t),nm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){lt=fn(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}lt=null}}else lt=St?fn(t.stateNode.nextSibling):null;return!0}function ua(){lt=St=null,ye=!1}function fa(t){cn===null?cn=[t]:cn.push(t)}var da=Error(r(460)),im=Error(r(474)),du={then:function(){}};function sm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yl(){}function rm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Yl,Yl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===da?Error(r(483)):t;default:if(typeof n.status=="string")n.then(Yl,Yl);else{if(t=xe,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===da?Error(r(483)):t}throw ha=n,da}}var ha=null;function am(){if(ha===null)throw Error(r(459));var t=ha;return ha=null,t}var er=null,pa=0;function Kl(t){var n=pa;return pa+=1,er===null&&(er=[]),rm(er,t,n)}function ma(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wl(t,n){throw n.$$typeof===c?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function lm(t){var n=t._init;return n(t._payload)}function om(t){function n(A,w){if(t){var N=A.deletions;N===null?(A.deletions=[w],A.flags|=16):N.push(w)}}function a(A,w){if(!t)return null;for(;w!==null;)n(A,w),w=w.sibling;return null}function l(A){for(var w=new Map;A!==null;)A.key!==null?w.set(A.key,A):w.set(A.index,A),A=A.sibling;return w}function u(A,w){return A=wi(A,w),A.index=0,A.sibling=null,A}function d(A,w,N){return A.index=N,t?(N=A.alternate,N!==null?(N=N.index,N<w?(A.flags|=33554434,w):N):(A.flags|=33554434,w)):(A.flags|=1048576,w)}function g(A){return t&&A.alternate===null&&(A.flags|=33554434),A}function _(A,w,N,M){return w===null||w.tag!==6?(w=lf(N,A.mode,M),w.return=A,w):(w=u(w,N),w.return=A,w)}function S(A,w,N,M){var V=N.type;return V===p?D(A,w,N.props.children,M,N.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Q&&lm(V)===w.type)?(w=u(w,N.props),ma(w,N),w.return=A,w):(w=ho(N.type,N.key,N.props,null,A.mode,M),ma(w,N),w.return=A,w)}function R(A,w,N,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=of(N,A.mode,M),w.return=A,w):(w=u(w,N.children||[]),w.return=A,w)}function D(A,w,N,M,V){return w===null||w.tag!==7?(w=hs(N,A.mode,M,V),w.return=A,w):(w=u(w,N),w.return=A,w)}function k(A,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=lf(""+w,A.mode,N),w.return=A,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case f:return N=ho(w.type,w.key,w.props,null,A.mode,N),ma(N,w),N.return=A,N;case h:return w=of(w,A.mode,N),w.return=A,w;case Q:var M=w._init;return w=M(w._payload),k(A,w,N)}if(G(w)||ve(w))return w=hs(w,A.mode,N,null),w.return=A,w;if(typeof w.then=="function")return k(A,Kl(w),N);if(w.$$typeof===x)return k(A,co(A,w),N);Wl(A,w)}return null}function O(A,w,N,M){var V=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return V!==null?null:_(A,w,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return N.key===V?S(A,w,N,M):null;case h:return N.key===V?R(A,w,N,M):null;case Q:return V=N._init,N=V(N._payload),O(A,w,N,M)}if(G(N)||ve(N))return V!==null?null:D(A,w,N,M,null);if(typeof N.then=="function")return O(A,w,Kl(N),M);if(N.$$typeof===x)return O(A,w,co(A,N),M);Wl(A,N)}return null}function I(A,w,N,M,V){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return A=A.get(N)||null,_(w,A,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return A=A.get(M.key===null?N:M.key)||null,S(w,A,M,V);case h:return A=A.get(M.key===null?N:M.key)||null,R(w,A,M,V);case Q:var oe=M._init;return M=oe(M._payload),I(A,w,N,M,V)}if(G(M)||ve(M))return A=A.get(N)||null,D(w,A,M,V,null);if(typeof M.then=="function")return I(A,w,N,Kl(M),V);if(M.$$typeof===x)return I(A,w,N,co(w,M),V);Wl(w,M)}return null}function F(A,w,N,M){for(var V=null,oe=null,W=w,X=w=0,nt=null;W!==null&&X<N.length;X++){W.index>X?(nt=W,W=null):nt=W.sibling;var Ee=O(A,W,N[X],M);if(Ee===null){W===null&&(W=nt);break}t&&W&&Ee.alternate===null&&n(A,W),w=d(Ee,w,X),oe===null?V=Ee:oe.sibling=Ee,oe=Ee,W=nt}if(X===N.length)return a(A,W),ye&&ns(A,X),V;if(W===null){for(;X<N.length;X++)W=k(A,N[X],M),W!==null&&(w=d(W,w,X),oe===null?V=W:oe.sibling=W,oe=W);return ye&&ns(A,X),V}for(W=l(W);X<N.length;X++)nt=I(W,A,X,N[X],M),nt!==null&&(t&&nt.alternate!==null&&W.delete(nt.key===null?X:nt.key),w=d(nt,w,X),oe===null?V=nt:oe.sibling=nt,oe=nt);return t&&W.forEach(function(xi){return n(A,xi)}),ye&&ns(A,X),V}function ne(A,w,N,M){if(N==null)throw Error(r(151));for(var V=null,oe=null,W=w,X=w=0,nt=null,Ee=N.next();W!==null&&!Ee.done;X++,Ee=N.next()){W.index>X?(nt=W,W=null):nt=W.sibling;var xi=O(A,W,Ee.value,M);if(xi===null){W===null&&(W=nt);break}t&&W&&xi.alternate===null&&n(A,W),w=d(xi,w,X),oe===null?V=xi:oe.sibling=xi,oe=xi,W=nt}if(Ee.done)return a(A,W),ye&&ns(A,X),V;if(W===null){for(;!Ee.done;X++,Ee=N.next())Ee=k(A,Ee.value,M),Ee!==null&&(w=d(Ee,w,X),oe===null?V=Ee:oe.sibling=Ee,oe=Ee);return ye&&ns(A,X),V}for(W=l(W);!Ee.done;X++,Ee=N.next())Ee=I(W,A,X,Ee.value,M),Ee!==null&&(t&&Ee.alternate!==null&&W.delete(Ee.key===null?X:Ee.key),w=d(Ee,w,X),oe===null?V=Ee:oe.sibling=Ee,oe=Ee);return t&&W.forEach(function(wT){return n(A,wT)}),ye&&ns(A,X),V}function qe(A,w,N,M){if(typeof N=="object"&&N!==null&&N.type===p&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case f:e:{for(var V=N.key;w!==null;){if(w.key===V){if(V=N.type,V===p){if(w.tag===7){a(A,w.sibling),M=u(w,N.props.children),M.return=A,A=M;break e}}else if(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Q&&lm(V)===w.type){a(A,w.sibling),M=u(w,N.props),ma(M,N),M.return=A,A=M;break e}a(A,w);break}else n(A,w);w=w.sibling}N.type===p?(M=hs(N.props.children,A.mode,M,N.key),M.return=A,A=M):(M=ho(N.type,N.key,N.props,null,A.mode,M),ma(M,N),M.return=A,A=M)}return g(A);case h:e:{for(V=N.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){a(A,w.sibling),M=u(w,N.children||[]),M.return=A,A=M;break e}else{a(A,w);break}else n(A,w);w=w.sibling}M=of(N,A.mode,M),M.return=A,A=M}return g(A);case Q:return V=N._init,N=V(N._payload),qe(A,w,N,M)}if(G(N))return F(A,w,N,M);if(ve(N)){if(V=ve(N),typeof V!="function")throw Error(r(150));return N=V.call(N),ne(A,w,N,M)}if(typeof N.then=="function")return qe(A,w,Kl(N),M);if(N.$$typeof===x)return qe(A,w,co(A,N),M);Wl(A,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,w!==null&&w.tag===6?(a(A,w.sibling),M=u(w,N),M.return=A,A=M):(a(A,w),M=lf(N,A.mode,M),M.return=A,A=M),g(A)):a(A,w)}return function(A,w,N,M){try{pa=0;var V=qe(A,w,N,M);return er=null,V}catch(W){if(W===da)throw W;var oe=Jt(29,W,null,A.mode);return oe.lanes=M,oe.return=A,oe}finally{}}}var ss=om(!0),cm=om(!1),tr=he(null),$l=he(0);function um(t,n){t=Yn,Se($l,t),Se(tr,n),Yn=t|n.baseLanes}function hu(){Se($l,Yn),Se(tr,tr.current)}function pu(){Yn=$l.current,De(tr),De($l)}var Xt=he(null),vn=null;function pi(t){var n=t.alternate;Se(Xe,Xe.current&1),Se(Xt,t),vn===null&&(n===null||tr.current!==null||n.memoizedState!==null)&&(vn=t)}function fm(t){if(t.tag===22){if(Se(Xe,Xe.current),Se(Xt,t),vn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(vn=t)}}else mi()}function mi(){Se(Xe,Xe.current),Se(Xt,Xt.current)}function Un(t){De(Xt),vn===t&&(vn=null),De(Xe)}var Xe=he(0);function Xl(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var db=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},hb=i.unstable_scheduleCallback,pb=i.unstable_NormalPriority,Qe={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mu(){return{controller:new db,data:new Map,refCount:0}}function ga(t){t.refCount--,t.refCount===0&&hb(pb,function(){t.controller.abort()})}var _a=null,gu=0,nr=0,ir=null;function mb(t,n){if(_a===null){var a=_a=[];gu=0,nr=Tf(),ir={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gu++,n.then(dm,dm),n}function dm(){if(--gu===0&&_a!==null){ir!==null&&(ir.status="fulfilled");var t=_a;_a=null,nr=0,ir=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function gb(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var hm=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&mb(t,n),hm!==null&&hm(t,n)};var rs=he(null);function _u(){var t=rs.current;return t!==null?t:xe.pooledCache}function Ql(t,n){n===null?Se(rs,rs.current):Se(rs,n.pool)}function pm(){var t=_u();return t===null?null:{parent:Qe._currentValue,pool:t}}var gi=0,le=null,we=null,Ye=null,Zl=!1,sr=!1,as=!1,Jl=0,va=0,rr=null,_b=0;function Ve(){throw Error(r(321))}function vu(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Ut(t[a],n[a]))return!1;return!0}function yu(t,n,a,l,u,d){return gi=d,le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?ls:_i,as=!1,d=a(l,u),as=!1,sr&&(d=gm(n,a,l,u)),mm(t),d}function mm(t){Y.H=yn;var n=we!==null&&we.next!==null;if(gi=0,Ye=we=le=null,Zl=!1,va=0,rr=null,n)throw Error(r(300));t===null||et||(t=t.dependencies,t!==null&&oo(t)&&(et=!0))}function gm(t,n,a,l){le=t;var u=0;do{if(sr&&(rr=null),va=0,sr=!1,25<=u)throw Error(r(301));if(u+=1,Ye=we=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=os,d=n(a,l)}while(sr);return d}function vb(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?ya(n):n,t=t.useState()[0],(we!==null?we.memoizedState:null)!==t&&(le.flags|=1024),n}function Eu(){var t=Jl!==0;return Jl=0,t}function Su(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function bu(t){if(Zl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Zl=!1}gi=0,Ye=we=le=null,sr=!1,va=Jl=0,rr=null}function Ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?le.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function Ke(){if(we===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var n=Ye===null?le.memoizedState:Ye.next;if(n!==null)Ye=n,we=t;else{if(t===null)throw le.alternate===null?Error(r(467)):Error(r(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ye===null?le.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}var eo;eo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ya(t){var n=va;return va+=1,rr===null&&(rr=[]),t=rm(rr,t,n),n=le,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?ls:_i),t}function to(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ya(t);if(t.$$typeof===x)return pt(t)}throw Error(r(438,String(t)))}function Tu(t){var n=null,a=le.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=eo(),le.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=ce;return n.index++,a}function jn(t,n){return typeof n=="function"?n(t):n}function no(t){var n=Ke();return Cu(n,we,t)}function Cu(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=t.baseQueue,d=l.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}n.baseQueue=u=d,l.pending=null}if(d=t.baseState,u===null)t.memoizedState=d;else{n=u.next;var _=g=null,S=null,R=n,D=!1;do{var k=R.lane&-536870913;if(k!==R.lane?(pe&k)===k:(gi&k)===k){var O=R.revertLane;if(O===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),k===nr&&(D=!0);else if((gi&O)===O){R=R.next,O===nr&&(D=!0);continue}else k={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=k,g=d):S=S.next=k,le.lanes|=O,Ri|=O;k=R.action,as&&a(d,k),d=R.hasEagerState?R.eagerState:a(d,k)}else O={lane:k,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=O,g=d):S=S.next=O,le.lanes|=k,Ri|=k;R=R.next}while(R!==null&&R!==n);if(S===null?g=d:S.next=_,!Ut(d,t.memoizedState)&&(et=!0,D&&(a=ir,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=S,l.lastRenderedState=d}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wu(t){var n=Ke(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,u=a.pending,d=n.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do d=t(d,g.action),g=g.next;while(g!==u);Ut(d,n.memoizedState)||(et=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function _m(t,n,a){var l=le,u=Ke(),d=ye;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Ut((we||u).memoizedState,a);if(g&&(u.memoizedState=a,et=!0),u=u.queue,Nu(Em.bind(null,l,u,t),[t]),u.getSnapshot!==n||g||Ye!==null&&Ye.memoizedState.tag&1){if(l.flags|=2048,ar(9,ym.bind(null,l,u,a,n),{destroy:void 0},null),xe===null)throw Error(r(349));d||gi&60||vm(l,n,a)}return a}function vm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=le.updateQueue,n===null?(n=eo(),le.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function ym(t,n,a,l){n.value=a,n.getSnapshot=l,Sm(n)&&bm(t)}function Em(t,n,a){return a(function(){Sm(n)&&bm(t)})}function Sm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Ut(t,a)}catch{return!0}}function bm(t){var n=hi(t,2);n!==null&&bt(n,t,2)}function Ru(t){var n=Ot();if(typeof t=="function"){var a=t;if(t=a(),as){ui(!0);try{a()}finally{ui(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:t},n}function Tm(t,n,a,l){return t.baseState=a,Cu(t,we,typeof l=="function"?l:jn)}function yb(t,n,a,l,u){if(ro(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Cm(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Cm(t,n){var a=n.action,l=n.payload,u=t.state;if(n.isTransition){var d=Y.T,g={};Y.T=g;try{var _=a(u,l),S=Y.S;S!==null&&S(g,_),wm(t,n,_)}catch(R){Au(t,n,R)}finally{Y.T=d}}else try{d=a(u,l),wm(t,n,d)}catch(R){Au(t,n,R)}}function wm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Rm(t,n,l)},function(l){return Au(t,n,l)}):Rm(t,n,a)}function Rm(t,n,a){n.status="fulfilled",n.value=a,Am(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Cm(t,a)))}function Au(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Am(n),n=n.next;while(n!==l)}t.action=null}function Am(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Nm(t,n){return n}function Om(t,n){if(ye){var a=xe.formState;if(a!==null){e:{var l=le;if(ye){if(lt){t:{for(var u=lt,d=_n;u.nodeType!==8;){if(!d){u=null;break t}if(u=fn(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){lt=fn(u.nextSibling),l=u.data==="F!";break e}}is(l)}l=!1}l&&(n=a[0])}}return a=Ot(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:n},a.queue=l,a=Km.bind(null,le,l),l.dispatch=a,l=Ru(!1),d=Mu.bind(null,le,!1,l.queue),l=Ot(),u={state:n,dispatch:null,action:t,pending:null},l.queue=u,a=yb.bind(null,le,u,d,a),u.dispatch=a,l.memoizedState=t,[n,a,!1]}function Im(t){var n=Ke();return Dm(n,we,t)}function Dm(t,n,a){n=Cu(t,n,Nm)[0],t=no(jn)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ya(n):n;var l=Ke(),u=l.queue,d=u.dispatch;return a!==l.memoizedState&&(le.flags|=2048,ar(9,Eb.bind(null,u,a),{destroy:void 0},null)),[n,d,t]}function Eb(t,n){t.action=n}function xm(t){var n=Ke(),a=we;if(a!==null)return Dm(n,a,t);Ke(),n=n.memoizedState,a=Ke();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ar(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=le.updateQueue,n===null&&(n=eo(),le.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Mm(){return Ke().memoizedState}function io(t,n,a,l){var u=Ot();le.flags|=t,u.memoizedState=ar(1|n,a,{destroy:void 0},l===void 0?null:l)}function so(t,n,a,l){var u=Ke();l=l===void 0?null:l;var d=u.memoizedState.inst;we!==null&&l!==null&&vu(l,we.memoizedState.deps)?u.memoizedState=ar(n,a,d,l):(le.flags|=t,u.memoizedState=ar(1|n,a,d,l))}function km(t,n){io(8390656,8,t,n)}function Nu(t,n){so(2048,8,t,n)}function Lm(t,n){return so(4,2,t,n)}function Um(t,n){return so(4,4,t,n)}function jm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hm(t,n,a){a=a!=null?a.concat([t]):null,so(4,4,jm.bind(null,n,t),a)}function Ou(){}function zm(t,n){var a=Ke();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&vu(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Bm(t,n){var a=Ke();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&vu(n,l[1]))return l[0];if(l=t(),as){ui(!0);try{t()}finally{ui(!1)}}return a.memoizedState=[l,n],l}function Iu(t,n,a){return a===void 0||gi&1073741824?t.memoizedState=n:(t.memoizedState=a,t=qg(),le.lanes|=t,Ri|=t,a)}function Pm(t,n,a,l){return Ut(a,n)?a:tr.current!==null?(t=Iu(t,a,l),Ut(t,n)||(et=!0),t):gi&42?(t=qg(),le.lanes|=t,Ri|=t,n):(et=!0,t.memoizedState=a)}function qm(t,n,a,l,u){var d=z.p;z.p=d!==0&&8>d?d:8;var g=Y.T,_={};Y.T=_,Mu(t,!1,n,a);try{var S=u(),R=Y.S;if(R!==null&&R(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var D=gb(S,l);Ea(t,n,D,Bt(t))}else Ea(t,n,l,Bt(t))}catch(k){Ea(t,n,{then:function(){},status:"rejected",reason:k},Bt())}finally{z.p=d,Y.T=g}}function Sb(){}function Du(t,n,a,l){if(t.tag!==5)throw Error(r(476));var u=Vm(t).queue;qm(t,u,n,re,a===null?Sb:function(){return Gm(t),a(l)})}function Vm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:re},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gm(t){var n=Vm(t).next.queue;Ea(t,n,{},Bt())}function xu(){return pt(Ba)}function Fm(){return Ke().memoizedState}function Ym(){return Ke().memoizedState}function bb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Bt();t=Ei(a);var l=Si(n,t,a);l!==null&&(bt(l,n,a),Ta(l,n,a)),n={cache:mu()},t.payload=n;return}n=n.return}}function Tb(t,n,a){var l=Bt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ro(t)?Wm(n,a):(a=ou(t,n,a,l),a!==null&&(bt(a,t,l),$m(a,n,l)))}function Km(t,n,a){var l=Bt();Ea(t,n,a,l)}function Ea(t,n,a,l){var u={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ro(t))Wm(n,u);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,_=d(g,a);if(u.hasEagerState=!0,u.eagerState=_,Ut(_,g))return ql(t,n,u,0),xe===null&&Pl(),!1}catch{}finally{}if(a=ou(t,n,u,l),a!==null)return bt(a,t,l),$m(a,n,l),!0}return!1}function Mu(t,n,a,l){if(l={lane:2,revertLane:Tf(),action:l,hasEagerState:!1,eagerState:null,next:null},ro(t)){if(n)throw Error(r(479))}else n=ou(t,a,l,2),n!==null&&bt(n,t,2)}function ro(t){var n=t.alternate;return t===le||n!==null&&n===le}function Wm(t,n){sr=Zl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function $m(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ap(t,a)}}var yn={readContext:pt,use:to,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve};yn.useCacheRefresh=Ve,yn.useMemoCache=Ve,yn.useHostTransitionStatus=Ve,yn.useFormState=Ve,yn.useActionState=Ve,yn.useOptimistic=Ve;var ls={readContext:pt,use:to,useCallback:function(t,n){return Ot().memoizedState=[t,n===void 0?null:n],t},useContext:pt,useEffect:km,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,io(4194308,4,jm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return io(4194308,4,t,n)},useInsertionEffect:function(t,n){io(4,2,t,n)},useMemo:function(t,n){var a=Ot();n=n===void 0?null:n;var l=t();if(as){ui(!0);try{t()}finally{ui(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ot();if(a!==void 0){var u=a(n);if(as){ui(!0);try{a(n)}finally{ui(!1)}}}else u=n;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=Tb.bind(null,le,t),[l.memoizedState,t]},useRef:function(t){var n=Ot();return t={current:t},n.memoizedState=t},useState:function(t){t=Ru(t);var n=t.queue,a=Km.bind(null,le,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Ou,useDeferredValue:function(t,n){var a=Ot();return Iu(a,t,n)},useTransition:function(){var t=Ru(!1);return t=qm.bind(null,le,t.queue,!0,!1),Ot().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=le,u=Ot();if(ye){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),xe===null)throw Error(r(349));pe&60||vm(l,n,a)}u.memoizedState=a;var d={value:a,getSnapshot:n};return u.queue=d,km(Em.bind(null,l,d,t),[t]),l.flags|=2048,ar(9,ym.bind(null,l,d,a,n),{destroy:void 0},null),a},useId:function(){var t=Ot(),n=xe.identifierPrefix;if(ye){var a=Ln,l=kn;a=(l&~(1<<32-Lt(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Jl++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=_b++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return Ot().memoizedState=bb.bind(null,le)}};ls.useMemoCache=Tu,ls.useHostTransitionStatus=xu,ls.useFormState=Om,ls.useActionState=Om,ls.useOptimistic=function(t){var n=Ot();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mu.bind(null,le,!0,a),a.dispatch=n,[t,n]};var _i={readContext:pt,use:to,useCallback:zm,useContext:pt,useEffect:Nu,useImperativeHandle:Hm,useInsertionEffect:Lm,useLayoutEffect:Um,useMemo:Bm,useReducer:no,useRef:Mm,useState:function(){return no(jn)},useDebugValue:Ou,useDeferredValue:function(t,n){var a=Ke();return Pm(a,we.memoizedState,t,n)},useTransition:function(){var t=no(jn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:ya(t),n]},useSyncExternalStore:_m,useId:Fm};_i.useCacheRefresh=Ym,_i.useMemoCache=Tu,_i.useHostTransitionStatus=xu,_i.useFormState=Im,_i.useActionState=Im,_i.useOptimistic=function(t,n){var a=Ke();return Tm(a,we,t,n)};var os={readContext:pt,use:to,useCallback:zm,useContext:pt,useEffect:Nu,useImperativeHandle:Hm,useInsertionEffect:Lm,useLayoutEffect:Um,useMemo:Bm,useReducer:wu,useRef:Mm,useState:function(){return wu(jn)},useDebugValue:Ou,useDeferredValue:function(t,n){var a=Ke();return we===null?Iu(a,t,n):Pm(a,we.memoizedState,t,n)},useTransition:function(){var t=wu(jn)[0],n=Ke().memoizedState;return[typeof t=="boolean"?t:ya(t),n]},useSyncExternalStore:_m,useId:Fm};os.useCacheRefresh=Ym,os.useMemoCache=Tu,os.useHostTransitionStatus=xu,os.useFormState=xm,os.useActionState=xm,os.useOptimistic=function(t,n){var a=Ke();return we!==null?Tm(a,we,t,n):(a.baseState=t,[t,a.queue.dispatch])};function ku(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:ae({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lu={isMounted:function(t){return(t=t._reactInternals)?q(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Bt(),u=Ei(l);u.payload=n,a!=null&&(u.callback=a),n=Si(t,u,l),n!==null&&(bt(n,t,l),Ta(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Bt(),u=Ei(l);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=Si(t,u,l),n!==null&&(bt(n,t,l),Ta(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Bt(),l=Ei(a);l.tag=2,n!=null&&(l.callback=n),n=Si(t,l,a),n!==null&&(bt(n,t,a),Ta(n,t,a))}};function Xm(t,n,a,l,u,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!la(a,l)||!la(u,d):!0}function Qm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Lu.enqueueReplaceState(n,n.state,null)}function cs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=ae({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var ao=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zm(t){ao(t)}function Jm(t){console.error(t)}function eg(t){ao(t)}function lo(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function tg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Uu(t,n,a){return a=Ei(a),a.tag=3,a.payload={element:null},a.callback=function(){lo(t,n)},a}function ng(t){return t=Ei(t),t.tag=3,t}function ig(t,n,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var d=l.value;t.payload=function(){return u(d)},t.callback=function(){tg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){tg(n,a,l),typeof u!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function Cb(t,n,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ba(n,a,u,!0),a=Xt.current,a!==null){switch(a.tag){case 13:return vn===null?vf():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===du?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ef(t,l,u)),!1;case 22:return a.flags|=65536,l===du?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ef(t,l,u)),!1}throw Error(r(435,a.tag))}return Ef(t,l,u),vf(),!1}if(ye)return n=Xt.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==fu&&(t=Error(r(422),{cause:l}),fa(Kt(t,a)))):(l!==fu&&(n=Error(r(423),{cause:l}),fa(Kt(n,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=Kt(l,a),u=Uu(t.stateNode,l,u),Qu(t,u),Pe!==4&&(Pe=2)),!1;var d=Error(r(520),{cause:l});if(d=Kt(d,a),Da===null?Da=[d]:Da.push(d),Pe!==4&&(Pe=2),n===null)return!0;l=Kt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=Uu(a.stateNode,l,t),Qu(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ai===null||!Ai.has(d))))return a.flags|=65536,u&=-u,a.lanes|=u,u=ng(u),ig(u,t,a,l),Qu(a,u),!1}a=a.return}while(a!==null);return!1}var sg=Error(r(461)),et=!1;function ot(t,n,a,l){n.child=t===null?cm(n,null,a,l):ss(n,t.child,a,l)}function rg(t,n,a,l,u){a=a.render;var d=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return fs(n),l=yu(t,n,a,g,d,u),_=Eu(),t!==null&&!et?(Su(t,n,u),Hn(t,n,u)):(ye&&_&&cu(n),n.flags|=1,ot(t,n,l,u),n.child)}function ag(t,n,a,l,u){if(t===null){var d=a.type;return typeof d=="function"&&!af(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,lg(t,n,d,l,u)):(t=ho(a.type,null,l,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Fu(t,u)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:la,a(g,l)&&t.ref===n.ref)return Hn(t,n,u)}return n.flags|=1,t=wi(d,l),t.ref=n.ref,t.return=n,n.child=t}function lg(t,n,a,l,u){if(t!==null){var d=t.memoizedProps;if(la(d,l)&&t.ref===n.ref)if(et=!1,n.pendingProps=l=d,Fu(t,u))t.flags&131072&&(et=!0);else return n.lanes=t.lanes,Hn(t,n,u)}return ju(t,n,a,l,u)}function og(t,n,a){var l=n.pendingProps,u=l.children,d=(n.stateNode._pendingVisibility&2)!==0,g=t!==null?t.memoizedState:null;if(Sa(t,n),l.mode==="hidden"||d){if(n.flags&128){if(l=g!==null?g.baseLanes|a:a,t!==null){for(u=n.child=t.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return cg(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ql(n,g!==null?g.cachePool:null),g!==null?um(n,g):hu(),fm(n);else return n.lanes=n.childLanes=536870912,cg(t,n,g!==null?g.baseLanes|a:a,a)}else g!==null?(Ql(n,g.cachePool),um(n,g),mi(),n.memoizedState=null):(t!==null&&Ql(n,null),hu(),mi());return ot(t,n,u,a),n.child}function cg(t,n,a,l){var u=_u();return u=u===null?null:{parent:Qe._currentValue,pool:u},n.memoizedState={baseLanes:a,cachePool:u},t!==null&&Ql(n,null),hu(),fm(n),t!==null&&ba(t,n,l,!0),null}function Sa(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function ju(t,n,a,l,u){return fs(n),a=yu(t,n,a,l,void 0,u),l=Eu(),t!==null&&!et?(Su(t,n,u),Hn(t,n,u)):(ye&&l&&cu(n),n.flags|=1,ot(t,n,a,u),n.child)}function ug(t,n,a,l,u,d){return fs(n),n.updateQueue=null,a=gm(n,l,a,u),mm(t),l=Eu(),t!==null&&!et?(Su(t,n,d),Hn(t,n,d)):(ye&&l&&cu(n),n.flags|=1,ot(t,n,a,d),n.child)}function fg(t,n,a,l,u){if(fs(n),n.stateNode===null){var d=Qs,g=a.contextType;typeof g=="object"&&g!==null&&(d=pt(g)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},$u(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?pt(g):Qs,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(ku(n,a,g,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Lu.enqueueReplaceState(d,d.state,null),wa(n,l,d,u),Ca(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var _=n.memoizedProps,S=cs(a,_);d.props=S;var R=d.context,D=a.contextType;g=Qs,typeof D=="object"&&D!==null&&(g=pt(D));var k=a.getDerivedStateFromProps;D=typeof k=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,D||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||R!==g)&&Qm(n,d,l,g),yi=!1;var O=n.memoizedState;d.state=O,wa(n,l,d,u),Ca(),R=n.memoizedState,_||O!==R||yi?(typeof k=="function"&&(ku(n,a,k,l),R=n.memoizedState),(S=yi||Xm(n,a,S,l,O,R,g))?(D||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),d.props=l,d.state=R,d.context=g,l=S):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Xu(t,n),g=n.memoizedProps,D=cs(a,g),d.props=D,k=n.pendingProps,O=d.context,R=a.contextType,S=Qs,typeof R=="object"&&R!==null&&(S=pt(R)),_=a.getDerivedStateFromProps,(R=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==k||O!==S)&&Qm(n,d,l,S),yi=!1,O=n.memoizedState,d.state=O,wa(n,l,d,u),Ca();var I=n.memoizedState;g!==k||O!==I||yi||t!==null&&t.dependencies!==null&&oo(t.dependencies)?(typeof _=="function"&&(ku(n,a,_,l),I=n.memoizedState),(D=yi||Xm(n,a,D,l,O,I,S)||t!==null&&t.dependencies!==null&&oo(t.dependencies))?(R||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,I,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,I,S)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=I),d.props=l,d.state=I,d.context=S,l=D):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Sa(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=ss(n,t.child,null,u),n.child=ss(n,null,a,u)):ot(t,n,a,u),n.memoizedState=d.state,t=n.child):t=Hn(t,n,u),t}function dg(t,n,a,l){return ua(),n.flags|=256,ot(t,n,a,l),n.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function zu(t){return{baseLanes:t,cachePool:pm()}}function Bu(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=en),t}function hg(t,n,a){var l=n.pendingProps,u=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ye){if(u?pi(n):mi(),ye){var _=lt,S;if(S=_){e:{for(S=_,_=_n;S.nodeType!==8;){if(!_){_=null;break e}if(S=fn(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(n.memoizedState={dehydrated:_,treeContext:ts!==null?{id:kn,overflow:Ln}:null,retryLane:536870912},S=Jt(18,null,null,0),S.stateNode=_,S.return=n,n.child=S,St=n,lt=null,S=!0):S=!1}S||is(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?n.lanes=16:n.lanes=536870912,null;Un(n)}return _=l.children,l=l.fallback,u?(mi(),u=n.mode,_=qu({mode:"hidden",children:_},u),l=hs(l,u,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,u=n.child,u.memoizedState=zu(a),u.childLanes=Bu(t,g,a),n.memoizedState=Hu,l):(pi(n),Pu(n,_))}if(S=t.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(d)n.flags&256?(pi(n),n.flags&=-257,n=Vu(t,n,a)):n.memoizedState!==null?(mi(),n.child=t.child,n.flags|=128,n=null):(mi(),u=l.fallback,_=n.mode,l=qu({mode:"visible",children:l.children},_),u=hs(u,_,a,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,ss(n,t.child,null,a),l=n.child,l.memoizedState=zu(a),l.childLanes=Bu(t,g,a),n.memoizedState=Hu,n=u);else if(pi(n),_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var R=g.dgst;g=R,l=Error(r(419)),l.stack="",l.digest=g,fa({value:l,source:null,stack:null}),n=Vu(t,n,a)}else if(et||ba(t,n,a,!1),g=(a&t.childLanes)!==0,et||g){if(g=xe,g!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(g.suspendedLanes|a)?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,hi(t,l),bt(g,t,l),sg}_.data==="$?"||vf(),n=Vu(t,n,a)}else _.data==="$?"?(n.flags|=128,n.child=t.child,n=zb.bind(null,t),_._reactRetry=n,n=null):(t=S.treeContext,lt=fn(_.nextSibling),St=n,ye=!0,cn=null,_n=!1,t!==null&&(Wt[$t++]=kn,Wt[$t++]=Ln,Wt[$t++]=ts,kn=t.id,Ln=t.overflow,ts=n),n=Pu(n,l.children),n.flags|=4096);return n}return u?(mi(),u=l.fallback,_=n.mode,S=t.child,R=S.sibling,l=wi(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,R!==null?u=wi(R,u):(u=hs(u,_,a,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,_=t.child.memoizedState,_===null?_=zu(a):(S=_.cachePool,S!==null?(R=Qe._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=pm(),_={baseLanes:_.baseLanes|a,cachePool:S}),u.memoizedState=_,u.childLanes=Bu(t,g,a),n.memoizedState=Hu,l):(pi(n),a=t.child,t=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Pu(t,n){return n=qu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function qu(t,n){return zg(t,n,0,null)}function Vu(t,n,a){return ss(n,t.child,null,a),t=Pu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function pg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ku(t.return,n,a)}function Gu(t,n,a,l,u){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=u)}function mg(t,n,a){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(ot(t,n,l.children,a),l=Xe.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pg(t,a,n);else if(t.tag===19)pg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Se(Xe,l),u){case"forwards":for(a=n.child,u=null;a!==null;)t=a.alternate,t!==null&&Xl(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),Gu(n,!1,u,a,d);break;case"backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&Xl(t)===null){n.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}Gu(n,!0,a,null,d);break;case"together":Gu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ri|=n.lanes,!(a&n.childLanes))if(t!==null){if(ba(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Fu(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&oo(t)))}function wb(t,n,a){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),vi(n,Qe,t.memoizedState.cache),ua();break;case 27:case 5:In(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:vi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(pi(n),n.flags|=128,null):a&n.child.childLanes?hg(t,n,a):(pi(n),t=Hn(t,n,a),t!==null?t.sibling:null);pi(n);break;case 19:var u=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ba(t,n,a,!1),l=(a&n.childLanes)!==0),u){if(l)return mg(t,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Se(Xe,Xe.current),l)break;return null;case 22:case 23:return n.lanes=0,og(t,n,a);case 24:vi(n,Qe,t.memoizedState.cache)}return Hn(t,n,a)}function gg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)et=!0;else{if(!Fu(t,a)&&!(n.flags&128))return et=!1,wb(t,n,a);et=!!(t.flags&131072)}else et=!1,ye&&n.flags&1048576&&em(n,Fl,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")af(l)?(t=cs(l,t),n.tag=1,n=fg(null,n,l,t,a)):(n.tag=0,n=ju(null,n,l,t,a));else{if(l!=null){if(u=l.$$typeof,u===U){n.tag=11,n=rg(null,n,l,t,a);break e}else if(u===ee){n.tag=14,n=ag(null,n,l,t,a);break e}}throw n=dt(l)||l,Error(r(306,n,""))}}return n;case 0:return ju(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,u=cs(l,n.pendingProps),fg(t,n,l,u,a);case 3:e:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(r(387));var d=n.pendingProps;u=n.memoizedState,l=u.element,Xu(t,n),wa(n,d,null,a);var g=n.memoizedState;if(d=g.cache,vi(n,Qe,d),d!==u.cache&&Wu(n,[Qe],a,!0),Ca(),d=g.element,u.isDehydrated)if(u={element:d,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=dg(t,n,d,a);break e}else if(d!==l){l=Kt(Error(r(424)),n),fa(l),n=dg(t,n,d,a);break e}else for(lt=fn(n.stateNode.containerInfo.firstChild),St=n,ye=!0,cn=null,_n=!0,a=cm(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ua(),d===l){n=Hn(t,n,a);break e}ot(t,n,d,a)}n=n.child}return n;case 26:return Sa(t,n),t===null?(a=y_(n.type,null,n.pendingProps,null))?n.memoizedState=a:ye||(a=n.type,t=n.pendingProps,l=wo(Rt.current).createElement(a),l[ht]=n,l[At]=t,ct(l,a,t),Je(l),n.stateNode=l):n.memoizedState=y_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return In(n),t===null&&ye&&(l=n.stateNode=g_(n.type,n.pendingProps,Rt.current),St=n,_n=!0,lt=fn(l.firstChild)),l=n.pendingProps.children,t!==null||ye?ot(t,n,l,a):n.child=ss(n,null,l,a),Sa(t,n),n.child;case 5:return t===null&&ye&&((u=l=lt)&&(l=tT(l,n.type,n.pendingProps,_n),l!==null?(n.stateNode=l,St=n,lt=fn(l.firstChild),_n=!1,u=!0):u=!1),u||is(n)),In(n),u=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,xf(u,d)?l=null:g!==null&&xf(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=yu(t,n,vb,null,null,a),Ba._currentValue=u),Sa(t,n),ot(t,n,l,a),n.child;case 6:return t===null&&ye&&((t=a=lt)&&(a=nT(a,n.pendingProps,_n),a!==null?(n.stateNode=a,St=n,lt=null,t=!0):t=!1),t||is(n)),null;case 13:return hg(t,n,a);case 4:return Ce(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ss(n,null,l,a):ot(t,n,l,a),n.child;case 11:return rg(t,n,n.type,n.pendingProps,a);case 7:return ot(t,n,n.pendingProps,a),n.child;case 8:return ot(t,n,n.pendingProps.children,a),n.child;case 12:return ot(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,vi(n,n.type,l.value),ot(t,n,l.children,a),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,fs(n),u=pt(u),l=l(u),n.flags|=1,ot(t,n,l,a),n.child;case 14:return ag(t,n,n.type,n.pendingProps,a);case 15:return lg(t,n,n.type,n.pendingProps,a);case 19:return mg(t,n,a);case 22:return og(t,n,a);case 24:return fs(n),l=pt(Qe),t===null?(u=_u(),u===null&&(u=xe,d=mu(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=a),u=d),n.memoizedState={parent:l,cache:u},$u(n),vi(n,Qe,u)):(t.lanes&a&&(Xu(t,n),wa(n,null,null,a),Ca()),u=t.memoizedState,d=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),vi(n,Qe,l)):(l=d.cache,vi(n,Qe,l),l!==u.cache&&Wu(n,[Qe],a,!0))),ot(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}var Yu=he(null),us=null,zn=null;function vi(t,n,a){Se(Yu,n._currentValue),n._currentValue=a}function Bn(t){t._currentValue=Yu.current,De(Yu)}function Ku(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Wu(t,n,a,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var d=u.dependencies;if(d!==null){var g=u.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=u;for(var S=0;S<n.length;S++)if(_.context===n[S]){d.lanes|=a,_=d.alternate,_!==null&&(_.lanes|=a),Ku(d.return,a,t),l||(g=null);break e}d=_.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),Ku(g,a,t),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===t){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function ba(t,n,a,l){t=null;for(var u=n,d=!1;u!==null;){if(!d){if(u.flags&524288)d=!0;else if(u.flags&262144)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var _=u.type;Ut(u.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(u===an.current){if(g=u.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Ba):t=[Ba])}u=u.return}t!==null&&Wu(n,t,a,l),n.flags|=262144}function oo(t){for(t=t.firstContext;t!==null;){if(!Ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fs(t){us=t,zn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function pt(t){return _g(us,t)}function co(t,n){return us===null&&fs(t),_g(t,n)}function _g(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},zn===null){if(t===null)throw Error(r(308));zn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else zn=zn.next=n;return a}var yi=!1;function $u(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ei(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Si(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,He&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=Vl(t),Zp(t,null,a),n}return ql(t,l,n,a),Vl(t)}function Ta(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,ap(t,a)}}function Qu(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?u=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?u=d=n:d=d.next=n}else u=d=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Zu=!1;function Ca(){if(Zu){var t=ir;if(t!==null)throw t}}function wa(t,n,a,l){Zu=!1;var u=t.updateQueue;yi=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var S=_,R=S.next;S.next=null,g===null?d=R:g.next=R,g=S;var D=t.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==g&&(_===null?D.firstBaseUpdate=R:_.next=R,D.lastBaseUpdate=S))}if(d!==null){var k=u.baseState;g=0,D=R=S=null,_=d;do{var O=_.lane&-536870913,I=O!==_.lane;if(I?(pe&O)===O:(l&O)===O){O!==0&&O===nr&&(Zu=!0),D!==null&&(D=D.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var F=t,ne=_;O=n;var qe=a;switch(ne.tag){case 1:if(F=ne.payload,typeof F=="function"){k=F.call(qe,k,O);break e}k=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=ne.payload,O=typeof F=="function"?F.call(qe,k,O):F,O==null)break e;k=ae({},k,O);break e;case 2:yi=!0}}O=_.callback,O!==null&&(t.flags|=64,I&&(t.flags|=8192),I=u.callbacks,I===null?u.callbacks=[O]:I.push(O))}else I={lane:O,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(R=D=I,S=k):D=D.next=I,g|=O;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;I=_,_=I.next,I.next=null,u.lastBaseUpdate=I,u.shared.pending=null}}while(!0);D===null&&(S=k),u.baseState=S,u.firstBaseUpdate=R,u.lastBaseUpdate=D,d===null&&(u.shared.lanes=0),Ri|=g,t.lanes=g,t.memoizedState=k}}function vg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function yg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vg(a[t],n)}function Ra(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&t)===t){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==u)}}catch(_){Ie(n,n.return,_)}}function bi(t,n,a){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,u=n;var S=a;try{_()}catch(R){Ie(u,S,R)}}}l=l.next}while(l!==d)}}catch(R){Ie(n,n.return,R)}}function Eg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{yg(n,a)}catch(l){Ie(t,t.return,l)}}}function Sg(t,n,a){a.props=cs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ie(t,n,l)}}function ds(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var u=l;break;default:u=l}typeof a=="function"?t.refCleanup=a(u):a.current=u}}catch(d){Ie(t,n,d)}}function jt(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){Ie(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ie(t,n,u)}else a.current=null}function bg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){Ie(t,t.return,u)}}function Tg(t,n,a){try{var l=t.stateNode;Xb(l,t.type,a,n),l[At]=n}catch(u){Ie(t,t.return,u)}}function Cg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Ju(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Co));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ef(t,n,a),t=t.sibling;t!==null;)ef(t,n,a),t=t.sibling}function uo(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(uo(t,n,a),t=t.sibling;t!==null;)uo(t,n,a),t=t.sibling}var Pn=!1,Be=!1,tf=!1,wg=typeof WeakSet=="function"?WeakSet:Set,tt=null,Rg=!1;function Rb(t,n){if(t=t.containerInfo,If=Do,t=Vp(t),iu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,_=-1,S=-1,R=0,D=0,k=t,O=null;t:for(;;){for(var I;k!==a||u!==0&&k.nodeType!==3||(_=g+u),k!==d||l!==0&&k.nodeType!==3||(S=g+l),k.nodeType===3&&(g+=k.nodeValue.length),(I=k.firstChild)!==null;)O=k,k=I;for(;;){if(k===t)break t;if(O===a&&++R===u&&(_=g),O===d&&++D===l&&(S=g),(I=k.nextSibling)!==null)break;k=O,O=k.parentNode}k=I}a=_===-1||S===-1?null:{start:_,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:t,selectionRange:a},Do=!1,tt=n;tt!==null;)if(n=tt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,tt=t;else for(;tt!==null;){switch(n=tt,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=n,u=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var F=cs(a.type,u,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(F,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ne){Ie(a,a.return,ne)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Lf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,tt=t;break}tt=n.return}return F=Rg,Rg=!1,F}function Ag(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Vn(t,a),l&4&&Ra(5,a);break;case 1:if(Vn(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Ie(a,a.return,_)}else{var u=cs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ie(a,a.return,_)}}l&64&&Eg(a),l&512&&ds(a,a.return);break;case 3:if(Vn(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{yg(l,t)}catch(_){Ie(a,a.return,_)}}break;case 26:Vn(t,a),l&512&&ds(a,a.return);break;case 27:case 5:Vn(t,a),n===null&&l&4&&bg(a),l&512&&ds(a,a.return);break;case 12:Vn(t,a);break;case 13:Vn(t,a),l&4&&Ig(t,a);break;case 22:if(u=a.memoizedState!==null||Pn,!u){n=n!==null&&n.memoizedState!==null||Be;var d=Pn,g=Be;Pn=u,(Be=n)&&!g?Ti(t,a,(a.subtreeFlags&8772)!==0):Vn(t,a),Pn=d,Be=g}l&512&&(a.memoizedProps.mode==="manual"?ds(a,a.return):jt(a,a.return));break;default:Vn(t,a)}}function Ng(t){var n=t.alternate;n!==null&&(t.alternate=null,Ng(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Pc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var We=null,Ht=!1;function qn(t,n,a){for(a=a.child;a!==null;)Og(t,n,a),a=a.sibling}function Og(t,n,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount($r,a)}catch{}switch(a.tag){case 26:Be||jt(a,n),qn(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Be||jt(a,n);var l=We,u=Ht;for(We=a.stateNode,qn(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Pc(a),We=l,Ht=u;break;case 5:Be||jt(a,n);case 6:u=We;var d=Ht;if(We=null,qn(t,n,a),We=u,Ht=d,We!==null)if(Ht)try{t=We,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(g){Ie(a,n,g)}else try{We.removeChild(a.stateNode)}catch(g){Ie(a,n,g)}break;case 18:We!==null&&(Ht?(n=We,a=a.stateNode,n.nodeType===8?kf(n.parentNode,a):n.nodeType===1&&kf(n,a),Ga(n)):kf(We,a.stateNode));break;case 4:l=We,u=Ht,We=a.stateNode.containerInfo,Ht=!0,qn(t,n,a),We=l,Ht=u;break;case 0:case 11:case 14:case 15:Be||bi(2,a,n),Be||bi(4,a,n),qn(t,n,a);break;case 1:Be||(jt(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sg(a,n,l)),qn(t,n,a);break;case 21:qn(t,n,a);break;case 22:Be||jt(a,n),Be=(l=Be)||a.memoizedState!==null,qn(t,n,a),Be=l;break;default:qn(t,n,a)}}function Ig(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ga(t)}catch(a){Ie(n,n.return,a)}}function Ab(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new wg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new wg),n;default:throw Error(r(435,t.tag))}}function nf(t,n){var a=Ab(t);n.forEach(function(l){var u=Bb.bind(null,t,l);a.has(l)||(a.add(l),l.then(u,u))})}function Qt(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],d=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:case 5:We=_.stateNode,Ht=!1;break e;case 3:We=_.stateNode.containerInfo,Ht=!0;break e;case 4:We=_.stateNode.containerInfo,Ht=!0;break e}_=_.return}if(We===null)throw Error(r(160));Og(d,g,u),We=null,Ht=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dg(n,t),n=n.sibling}var un=null;function Dg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Qt(n,t),Zt(t),l&4&&(bi(3,t,t.return),Ra(3,t),bi(5,t,t.return));break;case 1:Qt(n,t),Zt(t),l&512&&(Be||a===null||jt(a,a.return)),l&64&&Pn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=un;if(Qt(n,t),Zt(t),l&512&&(Be||a===null||jt(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Zr]||d[ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(l),u.head.insertBefore(d,u.querySelector("head > title"))),ct(d,l,a),d[ht]=t,Je(d),l=d;break e;case"link":var g=b_("link","href",u).get(l+(a.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(_,1);break t}}d=u.createElement(l),ct(d,l,a),u.head.appendChild(d);break;case"meta":if(g=b_("meta","content",u).get(l+(a.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(_,1);break t}}d=u.createElement(l),ct(d,l,a),u.head.appendChild(d);break;default:throw Error(r(468,l))}d[ht]=t,Je(d),l=d}t.stateNode=l}else T_(u,t.type,t.stateNode);else t.stateNode=S_(u,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?T_(u,t.type,t.stateNode):S_(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Tg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){u=t.stateNode,d=t.memoizedProps;try{for(var S=u.firstChild;S;){var R=S.nextSibling,D=S.nodeName;S[Zr]||D==="HEAD"||D==="BODY"||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=R}for(var k=t.type,O=u.attributes;O.length;)u.removeAttributeNode(O[0]);ct(u,k,d),u[ht]=t,u[At]=d}catch(F){Ie(t,t.return,F)}}case 5:if(Qt(n,t),Zt(t),l&512&&(Be||a===null||jt(a,a.return)),t.flags&32){u=t.stateNode;try{Gs(u,"")}catch(F){Ie(t,t.return,F)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Tg(t,u,a!==null?a.memoizedProps:u)),l&1024&&(tf=!0);break;case 6:if(Qt(n,t),Zt(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Ie(t,t.return,F)}}break;case 3:if(No=null,u=un,un=Ro(n.containerInfo),Qt(n,t),un=u,Zt(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(F){Ie(t,t.return,F)}tf&&(tf=!1,xg(t));break;case 4:l=un,un=Ro(t.stateNode.containerInfo),Qt(n,t),Zt(t),un=l;break;case 12:Qt(n,t),Zt(t);break;case 13:Qt(n,t),Zt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(df=Mt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 22:if(l&512&&(Be||a===null||jt(a,a.return)),S=t.memoizedState!==null,R=a!==null&&a.memoizedState!==null,D=Pn,k=Be,Pn=D||S,Be=k||R,Qt(n,t),Be=k,Pn=D,Zt(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=S?n._visibility&-2:n._visibility|1,S&&(n=Pn||Be,a===null||R||n||lr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){R=a=n;try{if(u=R.stateNode,S)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=R.stateNode,_=R.memoizedProps.style;var I=_!=null&&_.hasOwnProperty("display")?_.display:null;g.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(F){Ie(R,R.return,F)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=S?"":R.memoizedProps}catch(F){Ie(R,R.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nf(t,a))));break;case 19:Qt(n,t),Zt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 21:break;default:Qt(n,t),Zt(t)}}function Zt(t){var n=t.flags;if(n&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Cg(a)){var l=a;break e}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var u=l.stateNode,d=Ju(t);uo(t,d,u);break;case 5:var g=l.stateNode;l.flags&32&&(Gs(g,""),l.flags&=-33);var _=Ju(t);uo(t,_,g);break;case 3:case 4:var S=l.stateNode.containerInfo,R=Ju(t);ef(t,R,S);break;default:throw Error(r(161))}}}catch(D){Ie(t,t.return,D)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Vn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ag(t,n.alternate,n),n=n.sibling}function lr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:bi(4,n,n.return),lr(n);break;case 1:jt(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Sg(n,n.return,a),lr(n);break;case 26:case 27:case 5:jt(n,n.return),lr(n);break;case 22:jt(n,n.return),n.memoizedState===null&&lr(n);break;default:lr(n)}t=t.sibling}}function Ti(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:Ti(u,d,a),Ra(4,d);break;case 1:if(Ti(u,d,a),l=d,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Ie(l,l.return,R)}if(l=d,u=l.updateQueue,u!==null){var _=l.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)vg(S[u],_)}catch(R){Ie(l,l.return,R)}}a&&g&64&&Eg(d),ds(d,d.return);break;case 26:case 27:case 5:Ti(u,d,a),a&&l===null&&g&4&&bg(d),ds(d,d.return);break;case 12:Ti(u,d,a);break;case 13:Ti(u,d,a),a&&g&4&&Ig(u,d);break;case 22:d.memoizedState===null&&Ti(u,d,a),ds(d,d.return);break;default:Ti(u,d,a)}n=n.sibling}}function sf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ga(a))}function rf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ga(t))}function Ci(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Mg(t,n,a,l),n=n.sibling}function Mg(t,n,a,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(t,n,a,l),u&2048&&Ra(9,n);break;case 3:Ci(t,n,a,l),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ga(t)));break;case 12:if(u&2048){Ci(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Ie(n,n.return,S)}}else Ci(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?Ci(t,n,a,l):Aa(t,n):d._visibility&4?Ci(t,n,a,l):(d._visibility|=4,or(t,n,a,l,(n.subtreeFlags&10256)!==0)),u&2048&&sf(n.alternate,n);break;case 24:Ci(t,n,a,l),u&2048&&rf(n.alternate,n);break;default:Ci(t,n,a,l)}}function or(t,n,a,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,g=n,_=a,S=l,R=g.flags;switch(g.tag){case 0:case 11:case 15:or(d,g,_,S,u),Ra(8,g);break;case 23:break;case 22:var D=g.stateNode;g.memoizedState!==null?D._visibility&4?or(d,g,_,S,u):Aa(d,g):(D._visibility|=4,or(d,g,_,S,u)),u&&R&2048&&sf(g.alternate,g);break;case 24:or(d,g,_,S,u),u&&R&2048&&rf(g.alternate,g);break;default:or(d,g,_,S,u)}n=n.sibling}}function Aa(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,u=l.flags;switch(l.tag){case 22:Aa(a,l),u&2048&&sf(l.alternate,l);break;case 24:Aa(a,l),u&2048&&rf(l.alternate,l);break;default:Aa(a,l)}n=n.sibling}}var Na=8192;function cr(t){if(t.subtreeFlags&Na)for(t=t.child;t!==null;)kg(t),t=t.sibling}function kg(t){switch(t.tag){case 26:cr(t),t.flags&Na&&t.memoizedState!==null&&mT(un,t.memoizedState,t.memoizedProps);break;case 5:cr(t);break;case 3:case 4:var n=un;un=Ro(t.stateNode.containerInfo),cr(t),un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Na,Na=16777216,cr(t),Na=n):cr(t));break;default:cr(t)}}function Lg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Oa(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tt=l,jg(l,t)}Lg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ug(t),t=t.sibling}function Ug(t){switch(t.tag){case 0:case 11:case 15:Oa(t),t.flags&2048&&bi(9,t,t.return);break;case 3:Oa(t);break;case 12:Oa(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,fo(t)):Oa(t);break;default:Oa(t)}}function fo(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];tt=l,jg(l,t)}Lg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:bi(8,n,n.return),fo(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,fo(n));break;default:fo(n)}t=t.sibling}}function jg(t,n){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:bi(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ga(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,tt=l;else e:for(a=t;tt!==null;){l=tt;var u=l.sibling,d=l.return;if(Ng(l),l===a){tt=null;break e}if(u!==null){u.return=d,tt=u;break e}tt=d}}}function Nb(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,n,a,l){return new Nb(t,n,a,l)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var a=t.alternate;return a===null?(a=Jt(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hg(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ho(t,n,a,l,u,d){var g=0;if(l=t,typeof t=="function")af(t)&&(g=1);else if(typeof t=="string")g=hT(t,a,Et.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return hs(a.children,u,d,n);case m:g=8,u|=24;break;case y:return t=Jt(12,a,n,u|2),t.elementType=y,t.lanes=d,t;case P:return t=Jt(13,a,n,u),t.elementType=P,t.lanes=d,t;case j:return t=Jt(19,a,n,u),t.elementType=j,t.lanes=d,t;case Z:return zg(a,u,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case E:case x:g=10;break e;case b:g=9;break e;case U:g=11;break e;case ee:g=14;break e;case Q:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Jt(g,a,n,u),n.elementType=t,n.type=l,n.lanes=d,n}function hs(t,n,a,l){return t=Jt(7,t,l,n),t.lanes=a,t}function zg(t,n,a,l){t=Jt(22,t,l,n),t.elementType=Z,t.lanes=a;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=u._current;if(d===null)throw Error(r(456));if(!(u._pendingVisibility&2)){var g=hi(d,2);g!==null&&(u._pendingVisibility|=2,bt(g,d,2))}},attach:function(){var d=u._current;if(d===null)throw Error(r(456));if(u._pendingVisibility&2){var g=hi(d,2);g!==null&&(u._pendingVisibility&=-3,bt(g,d,2))}}};return t.stateNode=u,t}function lf(t,n,a){return t=Jt(6,t,null,n),t.lanes=a,t}function of(t,n,a){return n=Jt(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Gn(t){t.flags|=4}function Bg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!C_(n)){if(n=Xt.current,n!==null&&((pe&4194176)===pe?vn!==null:(pe&62914560)!==pe&&!(pe&536870912)||n!==vn))throw ha=du,im;t.flags|=8192}}function po(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?sp():536870912,t.lanes|=n,fr|=n)}function Ia(t,n){if(!ye)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function je(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&31457280,l|=u.flags&31457280,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Ob(t,n,a){var l=n.pendingProps;switch(uu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Bn(Qe),ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ca(n)?Gn(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,cn!==null&&(gf(cn),cn=null))),je(n),null;case 26:return a=n.memoizedState,t===null?(Gn(n),a!==null?(je(n),Bg(n,a)):(je(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Gn(n),je(n),Bg(n,a)):(je(n),n.flags&=-16777217):(t.memoizedProps!==l&&Gn(n),je(n),n.flags&=-16777217),null;case 27:Hs(n),a=Rt.current;var u=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return je(n),null}t=Et.current,ca(n)?tm(n):(t=g_(u,l,a),n.stateNode=t,Gn(n))}return je(n),null;case 5:if(Hs(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Gn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return je(n),null}if(t=Et.current,ca(n))tm(n);else{switch(u=wo(Rt.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}t[ht]=n,t[At]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=t;e:switch(ct(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gn(n)}}return je(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Gn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Rt.current,ca(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,u=St,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[ht]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u_(t.nodeValue,a)),t||is(n)}else t=wo(t).createTextNode(l),t[ht]=n,n.stateNode=t}return je(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=ca(n),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ht]=n}else ua(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;je(n),u=!1}else cn!==null&&(gf(cn),cn=null),u=!0;if(!u)return n.flags&256?(Un(n),n):(Un(n),null)}if(Un(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==u&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),po(n,n.updateQueue),je(n),null;case 4:return ln(),t===null&&Af(n.stateNode.containerInfo),je(n),null;case 10:return Bn(n.type),je(n),null;case 19:if(De(Xe),u=n.memoizedState,u===null)return je(n),null;if(l=(n.flags&128)!==0,d=u.rendering,d===null)if(l)Ia(u,!1);else{if(Pe!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(d=Xl(t),d!==null){for(n.flags|=128,Ia(u,!1),t=d.updateQueue,n.updateQueue=t,po(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Hg(a,t),a=a.sibling;return Se(Xe,Xe.current&1|2),n.child}t=t.sibling}u.tail!==null&&Mt()>mo&&(n.flags|=128,l=!0,Ia(u,!1),n.lanes=4194304)}else{if(!l)if(t=Xl(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,po(n,t),Ia(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!ye)return je(n),null}else 2*Mt()-u.renderingStartTime>mo&&a!==536870912&&(n.flags|=128,l=!0,Ia(u,!1),n.lanes=4194304);u.isBackwards?(d.sibling=n.child,n.child=d):(t=u.last,t!==null?t.sibling=d:n.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Mt(),n.sibling=null,t=Xe.current,Se(Xe,l?t&1|2:t&1),n):(je(n),null);case 22:case 23:return Un(n),pu(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),a=n.updateQueue,a!==null&&po(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&De(rs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Bn(Qe),je(n),null;case 25:return null}throw Error(r(156,n.tag))}function Ib(t,n){switch(uu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bn(Qe),ln(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Hs(n),null;case 13:if(Un(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ua()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return De(Xe),null;case 4:return ln(),null;case 10:return Bn(n.type),null;case 22:case 23:return Un(n),pu(),t!==null&&De(rs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bn(Qe),null;case 25:return null;default:return null}}function Pg(t,n){switch(uu(n),n.tag){case 3:Bn(Qe),ln();break;case 26:case 27:case 5:Hs(n);break;case 4:ln();break;case 13:Un(n);break;case 19:De(Xe);break;case 10:Bn(n.type);break;case 22:case 23:Un(n),pu(),t!==null&&De(rs);break;case 24:Bn(Qe)}}var Db={getCacheForType:function(t){var n=pt(Qe),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},xb=typeof WeakMap=="function"?WeakMap:Map,He=0,xe=null,ue=null,pe=0,Me=0,zt=null,Fn=!1,ur=!1,cf=!1,Yn=0,Pe=0,Ri=0,ps=0,uf=0,en=0,fr=0,Da=null,En=null,ff=!1,df=0,mo=1/0,go=null,Ai=null,_o=!1,ms=null,xa=0,hf=0,pf=null,Ma=0,mf=null;function Bt(){if(He&2&&pe!==0)return pe&-pe;if(Y.T!==null){var t=nr;return t!==0?t:Tf()}return op()}function qg(){en===0&&(en=!(pe&536870912)||ye?ip():536870912);var t=Xt.current;return t!==null&&(t.flags|=32),en}function bt(t,n,a){(t===xe&&Me===2||t.cancelPendingCommit!==null)&&(dr(t,0),Kn(t,pe,en,!1)),Qr(t,a),(!(He&2)||t!==xe)&&(t===xe&&(!(He&2)&&(ps|=a),Pe===4&&Kn(t,pe,en,!1)),Sn(t))}function Vg(t,n,a){if(He&6)throw Error(r(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Xr(t,n),u=l?Lb(t,n):yf(t,n,!0),d=l;do{if(u===0){ur&&!l&&Kn(t,n,0,!1);break}else if(u===6)Kn(t,n,0,!Fn);else{if(a=t.current.alternate,d&&!Mb(a)){u=yf(t,n,!1),d=!1;continue}if(u===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;u=Da;var S=_.current.memoizedState.isDehydrated;if(S&&(dr(_,g).flags|=256),g=yf(_,g,!1),g!==2){if(cf&&!S){_.errorRecoveryDisabledLanes|=d,ps|=d,u=4;break e}d=En,En=u,d!==null&&gf(d)}u=g}if(d=!1,u!==2)continue}}if(u===1){dr(t,0),Kn(t,n,0,!0);break}e:{switch(l=t,u){case 0:case 1:throw Error(r(345));case 4:if((n&4194176)===n){Kn(l,n,en,!Fn);break e}break;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(d=df+300-Mt(),10<d)){if(Kn(l,n,en,!Fn),Ol(l,0)!==0)break e;l.timeoutHandle=h_(Gg.bind(null,l,a,En,go,ff,n,en,ps,fr,Fn,2,-0,0),d);break e}Gg(l,a,En,go,ff,n,en,ps,fr,Fn,0,-0,0)}}break}while(!0);Sn(t)}function gf(t){En===null?En=t:En.push.apply(En,t)}function Gg(t,n,a,l,u,d,g,_,S,R,D,k,O){var I=n.subtreeFlags;if((I&8192||(I&16785408)===16785408)&&(za={stylesheets:null,count:0,unsuspend:pT},kg(n),n=gT(),n!==null)){t.cancelPendingCommit=n(Qg.bind(null,t,a,l,u,g,_,S,1,k,O)),Kn(t,d,g,!R);return}Qg(t,a,l,u,g,_,S,D,k,O)}function Mb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],d=u.getSnapshot;u=u.value;try{if(!Ut(d(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Kn(t,n,a,l){n&=~uf,n&=~ps,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var u=n;0<u;){var d=31-Lt(u),g=1<<d;l[d]=-1,u&=~g}a!==0&&rp(t,a,n)}function vo(){return He&6?!0:(ka(0),!1)}function _f(){if(ue!==null){if(Me===0)var t=ue.return;else t=ue,zn=us=null,bu(t),er=null,pa=0,t=ue;for(;t!==null;)Pg(t.alternate,t),t=t.return;ue=null}}function dr(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Zb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_f(),xe=t,ue=a=wi(t.current,null),pe=n,Me=0,zt=null,Fn=!1,ur=Xr(t,n),cf=!1,fr=en=uf=ps=Ri=Pe=0,En=Da=null,ff=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var u=31-Lt(l),d=1<<u;n|=t[u],l&=~d}return Yn=n,Pl(),a}function Fg(t,n){le=null,Y.H=yn,n===da?(n=am(),Me=3):n===im?(n=am(),Me=4):Me=n===sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zt=n,ue===null&&(Pe=1,lo(t,Kt(n,t.current)))}function Yg(){var t=Y.H;return Y.H=yn,t===null?yn:t}function Kg(){var t=Y.A;return Y.A=Db,t}function vf(){Pe=4,Fn||(pe&4194176)!==pe&&Xt.current!==null||(ur=!0),!(Ri&134217727)&&!(ps&134217727)||xe===null||Kn(xe,pe,en,!1)}function yf(t,n,a){var l=He;He|=2;var u=Yg(),d=Kg();(xe!==t||pe!==n)&&(go=null,dr(t,n)),n=!1;var g=Pe;e:do try{if(Me!==0&&ue!==null){var _=ue,S=zt;switch(Me){case 8:_f(),g=6;break e;case 3:case 2:case 6:Xt.current===null&&(n=!0);var R=Me;if(Me=0,zt=null,hr(t,_,S,R),a&&ur){g=0;break e}break;default:R=Me,Me=0,zt=null,hr(t,_,S,R)}}kb(),g=Pe;break}catch(D){Fg(t,D)}while(!0);return n&&t.shellSuspendCounter++,zn=us=null,He=l,Y.H=u,Y.A=d,ue===null&&(xe=null,pe=0,Pl()),g}function kb(){for(;ue!==null;)Wg(ue)}function Lb(t,n){var a=He;He|=2;var l=Yg(),u=Kg();xe!==t||pe!==n?(go=null,mo=Mt()+500,dr(t,n)):ur=Xr(t,n);e:do try{if(Me!==0&&ue!==null){n=ue;var d=zt;t:switch(Me){case 1:Me=0,zt=null,hr(t,n,d,1);break;case 2:if(sm(d)){Me=0,zt=null,$g(n);break}n=function(){Me===2&&xe===t&&(Me=7),Sn(t)},d.then(n,n);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:sm(d)?(Me=0,zt=null,$g(n)):(Me=0,zt=null,hr(t,n,d,7));break;case 5:var g=null;switch(ue.tag){case 26:g=ue.memoizedState;case 5:case 27:var _=ue;if(!g||C_(g)){Me=0,zt=null;var S=_.sibling;if(S!==null)ue=S;else{var R=_.return;R!==null?(ue=R,yo(R)):ue=null}break t}}Me=0,zt=null,hr(t,n,d,5);break;case 6:Me=0,zt=null,hr(t,n,d,6);break;case 8:_f(),Pe=6;break e;default:throw Error(r(462))}}Ub();break}catch(D){Fg(t,D)}while(!0);return zn=us=null,Y.H=l,Y.A=u,He=a,ue!==null?0:(xe=null,pe=0,Pl(),Pe)}function Ub(){for(;ue!==null&&!Uc();)Wg(ue)}function Wg(t){var n=gg(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,n===null?yo(t):ue=n}function $g(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ug(a,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=ug(a,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:bu(n);default:Pg(a,n),n=ue=Hg(n,Yn),n=gg(a,n,Yn)}t.memoizedProps=t.pendingProps,n===null?yo(t):ue=n}function hr(t,n,a,l){zn=us=null,bu(n),er=null,pa=0;var u=n.return;try{if(Cb(t,u,n,a,pe)){Pe=1,lo(t,Kt(a,t.current)),ue=null;return}}catch(d){if(u!==null)throw ue=u,d;Pe=1,lo(t,Kt(a,t.current)),ue=null;return}n.flags&32768?(ye||l===1?t=!0:ur||pe&536870912?t=!1:(Fn=t=!0,(l===2||l===3||l===6)&&(l=Xt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xg(n,t)):yo(n)}function yo(t){var n=t;do{if(n.flags&32768){Xg(n,Fn);return}t=n.return;var a=Ob(n.alternate,n,Yn);if(a!==null){ue=a;return}if(n=n.sibling,n!==null){ue=n;return}ue=n=t}while(n!==null);Pe===0&&(Pe=5)}function Xg(t,n){do{var a=Ib(t.alternate,t);if(a!==null){a.flags&=32767,ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ue=t;return}ue=t=a}while(t!==null);Pe=6,ue=null}function Qg(t,n,a,l,u,d,g,_,S,R){var D=Y.T,k=z.p;try{z.p=2,Y.T=null,jb(t,n,a,l,k,u,d,g,_,S,R)}finally{Y.T=D,z.p=k}}function jb(t,n,a,l,u,d,g,_){do pr();while(ms!==null);if(He&6)throw Error(r(327));var S=t.finishedWork;if(l=t.finishedLanes,S===null)return null;if(t.finishedWork=null,t.finishedLanes=0,S===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var R=S.lanes|S.childLanes;if(R|=lu,mS(t,l,R,d,g,_),t===xe&&(ue=xe=null,pe=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||_o||(_o=!0,hf=R,pf=a,Pb(Wi,function(){return pr(),null})),a=(S.flags&15990)!==0,S.subtreeFlags&15990||a?(a=Y.T,Y.T=null,d=z.p,z.p=2,g=He,He|=4,Rb(t,S),Dg(S,t),lb(Df,t.containerInfo),Do=!!If,Df=If=null,t.current=S,Ag(t,S.alternate,S),jc(),He=g,z.p=d,Y.T=a):t.current=S,_o?(_o=!1,ms=t,xa=l):Zg(t,R),R=t.pendingLanes,R===0&&(Ai=null),uS(S.stateNode),Sn(t),n!==null)for(u=t.onRecoverableError,S=0;S<n.length;S++)R=n[S],u(R.value,{componentStack:R.stack});return xa&3&&pr(),R=t.pendingLanes,l&4194218&&R&42?t===mf?Ma++:(Ma=0,mf=t):Ma=0,ka(0),null}function Zg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ga(n)))}function pr(){if(ms!==null){var t=ms,n=hf;hf=0;var a=lp(xa),l=Y.T,u=z.p;try{if(z.p=32>a?32:a,Y.T=null,ms===null)var d=!1;else{a=pf,pf=null;var g=ms,_=xa;if(ms=null,xa=0,He&6)throw Error(r(331));var S=He;if(He|=4,Ug(g.current),Mg(g,g.current,_,a),He=S,ka(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot($r,g)}catch{}d=!0}return d}finally{z.p=u,Y.T=l,Zg(t,n)}}return!1}function Jg(t,n,a){n=Kt(a,n),n=Uu(t.stateNode,n,2),t=Si(t,n,2),t!==null&&(Qr(t,2),Sn(t))}function Ie(t,n,a){if(t.tag===3)Jg(t,t,a);else for(;n!==null;){if(n.tag===3){Jg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ai===null||!Ai.has(l))){t=Kt(a,t),a=ng(2),l=Si(n,a,2),l!==null&&(ig(a,l,n,t),Qr(l,2),Sn(l));break}}n=n.return}}function Ef(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new xb;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(cf=!0,u.add(a),t=Hb.bind(null,t,n,a),n.then(t,t))}function Hb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,xe===t&&(pe&a)===a&&(Pe===4||Pe===3&&(pe&62914560)===pe&&300>Mt()-df?!(He&2)&&dr(t,0):uf|=a,fr===pe&&(fr=0)),Sn(t)}function e_(t,n){n===0&&(n=sp()),t=hi(t,n),t!==null&&(Qr(t,n),Sn(t))}function zb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),e_(t,a)}function Bb(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),e_(t,a)}function Pb(t,n){return Kr(t,n)}var Eo=null,mr=null,Sf=!1,So=!1,bf=!1,gs=0;function Sn(t){t!==mr&&t.next===null&&(mr===null?Eo=mr=t:mr=mr.next=t),So=!0,Sf||(Sf=!0,Vb(qb))}function ka(t,n){if(!bf&&So){bf=!0;do for(var a=!1,l=Eo;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var d=0;else{var g=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-Lt(42|t)+1)-1,d&=u&~(g&~_),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,i_(l,d))}else d=pe,d=Ol(l,l===xe?d:0),!(d&3)||Xr(l,d)||(a=!0,i_(l,d));l=l.next}while(a);bf=!1}}function qb(){So=Sf=!1;var t=0;gs!==0&&(Qb()&&(t=gs),gs=0);for(var n=Mt(),a=null,l=Eo;l!==null;){var u=l.next,d=t_(l,n);d===0?(l.next=null,a===null?Eo=u:a.next=u,u===null&&(mr=a)):(a=l,(t!==0||d&3)&&(So=!0)),l=u}ka(t)}function t_(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-Lt(d),_=1<<g,S=u[g];S===-1?(!(_&a)||_&l)&&(u[g]=pS(_,n)):S<=n&&(t.expiredLanes|=_),d&=~_}if(n=xe,a=pe,a=Ol(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Me===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Wr(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||Xr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Wr(l),lp(a)){case 2:case 8:a=Dn;break;case 32:a=Wi;break;case 268435456:a=np;break;default:a=Wi}return l=n_.bind(null,t),a=Kr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Wr(l),t.callbackPriority=2,t.callbackNode=null,2}function n_(t,n){var a=t.callbackNode;if(pr()&&t.callbackNode!==a)return null;var l=pe;return l=Ol(t,t===xe?l:0),l===0?null:(Vg(t,l,n),t_(t,Mt()),t.callbackNode!=null&&t.callbackNode===a?n_.bind(null,t):null)}function i_(t,n){if(pr())return null;Vg(t,n,!0)}function Vb(t){Jb(function(){He&6?Kr(_e,t):t()})}function Tf(){return gs===0&&(gs=ip()),gs}function s_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kl(""+t)}function r_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function Gb(t,n,a,l,u){if(n==="submit"&&a&&a.stateNode===u){var d=s_((u[At]||null).action),g=l.submitter;g&&(n=(n=g[At]||null)?s_(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var _=new Hl("action","action",null,l,u);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gs!==0){var S=g?r_(u,g):new FormData(u);Du(a,{pending:!0,data:S,method:u.method,action:d},null,S)}}else typeof d=="function"&&(_.preventDefault(),S=g?r_(u,g):new FormData(u),Du(a,{pending:!0,data:S,method:u.method,action:d},d,S))},currentTarget:u}]})}}for(var Cf=0;Cf<Qp.length;Cf++){var wf=Qp[Cf],Fb=wf.toLowerCase(),Yb=wf[0].toUpperCase()+wf.slice(1);on(Fb,"on"+Yb)}on(Yp,"onAnimationEnd"),on(Kp,"onAnimationIteration"),on(Wp,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(cb,"onTransitionRun"),on(ub,"onTransitionStart"),on(fb,"onTransitionCancel"),on($p,"onTransitionEnd"),qs("onMouseEnter",["mouseout","mouseover"]),qs("onMouseLeave",["mouseout","mouseover"]),qs("onPointerEnter",["pointerout","pointerover"]),qs("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(La));function a_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],S=_.instance,R=_.currentTarget;if(_=_.listener,S!==d&&u.isPropagationStopped())break e;d=_,u.currentTarget=R;try{d(u)}catch(D){ao(D)}u.currentTarget=null,d=S}else for(g=0;g<l.length;g++){if(_=l[g],S=_.instance,R=_.currentTarget,_=_.listener,S!==d&&u.isPropagationStopped())break e;d=_,u.currentTarget=R;try{d(u)}catch(D){ao(D)}u.currentTarget=null,d=S}}}}function fe(t,n){var a=n[Bc];a===void 0&&(a=n[Bc]=new Set);var l=t+"__bubble";a.has(l)||(l_(n,t,2,!1),a.add(l))}function Rf(t,n,a){var l=0;n&&(l|=4),l_(a,t,l,n)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Af(t){if(!t[bo]){t[bo]=!0,up.forEach(function(a){a!=="selectionchange"&&(Kb.has(a)||Rf(a,!1,t),Rf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bo]||(n[bo]=!0,Rf("selectionchange",!1,n))}}function l_(t,n,a,l){switch(I_(n)){case 2:var u=yT;break;case 8:u=ET;break;default:u=Bf}a=u.bind(null,n,a,t),u=void 0,!Wc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(n,a,{capture:!0,passive:u}):t.addEventListener(n,a,!0):u!==void 0?t.addEventListener(n,a,{passive:u}):t.addEventListener(n,a,!1)}function Nf(t,n,a,l,u){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(g===4)for(g=l.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===u||S.nodeType===8&&S.parentNode===u))return;g=g.return}for(;_!==null;){if(g=Xi(_),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){l=d=g;continue e}_=_.parentNode}}l=l.return}bp(function(){var R=d,D=Yc(a),k=[];e:{var O=Xp.get(t);if(O!==void 0){var I=Hl,F=t;switch(t){case"keypress":if(Ul(a)===0)break e;case"keydown":case"keyup":I=BS;break;case"focusin":F="focus",I=Zc;break;case"focusout":F="blur",I=Zc;break;case"beforeblur":case"afterblur":I=Zc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=wp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=VS;break;case Yp:case Kp:case Wp:I=DS;break;case $p:I=FS;break;case"scroll":case"scrollend":I=RS;break;case"wheel":I=KS;break;case"copy":case"cut":case"paste":I=MS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Ap;break;case"toggle":case"beforetoggle":I=$S}var ne=(n&4)!==0,qe=!ne&&(t==="scroll"||t==="scrollend"),A=ne?O!==null?O+"Capture":null:O;ne=[];for(var w=R,N;w!==null;){var M=w;if(N=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||N===null||A===null||(M=ea(w,A),M!=null&&ne.push(Ua(w,M,N))),qe)break;w=w.return}0<ne.length&&(O=new I(O,F,null,a,D),k.push({event:O,listeners:ne}))}}if(!(n&7)){e:{if(O=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",O&&a!==Fc&&(F=a.relatedTarget||a.fromElement)&&(Xi(F)||F[zs]))break e;if((I||O)&&(O=D.window===D?D:(O=D.ownerDocument)?O.defaultView||O.parentWindow:window,I?(F=a.relatedTarget||a.toElement,I=R,F=F?Xi(F):null,F!==null&&(qe=q(F),ne=F.tag,F!==qe||ne!==5&&ne!==27&&ne!==6)&&(F=null)):(I=null,F=R),I!==F)){if(ne=wp,M="onMouseLeave",A="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(ne=Ap,M="onPointerLeave",A="onPointerEnter",w="pointer"),qe=I==null?O:Jr(I),N=F==null?O:Jr(F),O=new ne(M,w+"leave",I,a,D),O.target=qe,O.relatedTarget=N,M=null,Xi(D)===R&&(ne=new ne(A,w+"enter",F,a,D),ne.target=N,ne.relatedTarget=qe,M=ne),qe=M,I&&F)t:{for(ne=I,A=F,w=0,N=ne;N;N=gr(N))w++;for(N=0,M=A;M;M=gr(M))N++;for(;0<w-N;)ne=gr(ne),w--;for(;0<N-w;)A=gr(A),N--;for(;w--;){if(ne===A||A!==null&&ne===A.alternate)break t;ne=gr(ne),A=gr(A)}ne=null}else ne=null;I!==null&&o_(k,O,I,ne,!1),F!==null&&qe!==null&&o_(k,qe,F,ne,!0)}}e:{if(O=R?Jr(R):window,I=O.nodeName&&O.nodeName.toLowerCase(),I==="select"||I==="input"&&O.type==="file")var V=Lp;else if(Mp(O))if(Up)V=rb;else{V=ib;var oe=nb}else I=O.nodeName,!I||I.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&Gc(R.elementType)&&(V=Lp):V=sb;if(V&&(V=V(t,R))){kp(k,V,a,D);break e}oe&&oe(t,O,R),t==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&Vc(O,"number",O.value)}switch(oe=R?Jr(R):window,t){case"focusin":(Mp(oe)||oe.contentEditable==="true")&&(Ws=oe,su=R,oa=null);break;case"focusout":oa=su=Ws=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,Gp(k,a,D);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":Gp(k,a,D)}var W;if(eu)e:{switch(t){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Ks?Dp(t,a)&&(X="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(X="onCompositionStart");X&&(Np&&a.locale!=="ko"&&(Ks||X!=="onCompositionStart"?X==="onCompositionEnd"&&Ks&&(W=Tp()):(di=D,$c="value"in di?di.value:di.textContent,Ks=!0)),oe=To(R,X),0<oe.length&&(X=new Rp(X,t,null,a,D),k.push({event:X,listeners:oe}),W?X.data=W:(W=xp(a),W!==null&&(X.data=W)))),(W=QS?ZS(t,a):JS(t,a))&&(X=To(R,"onBeforeInput"),0<X.length&&(oe=new Rp("onBeforeInput","beforeinput",null,a,D),k.push({event:oe,listeners:X}),oe.data=W)),Gb(k,t,R,a,D)}a_(k,n)})}function Ua(t,n,a){return{instance:t,listener:n,currentTarget:a}}function To(t,n){for(var a=n+"Capture",l=[];t!==null;){var u=t,d=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=ea(t,a),u!=null&&l.unshift(Ua(t,u,d)),u=ea(t,n),u!=null&&l.push(Ua(t,u,d))),t=t.return}return l}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o_(t,n,a,l,u){for(var d=n._reactName,g=[];a!==null&&a!==l;){var _=a,S=_.alternate,R=_.stateNode;if(_=_.tag,S!==null&&S===l)break;_!==5&&_!==26&&_!==27||R===null||(S=R,u?(R=ea(a,d),R!=null&&g.unshift(Ua(a,R,S))):u||(R=ea(a,d),R!=null&&g.push(Ua(a,R,S)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var Wb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(Wb,`
`).replace($b,"")}function u_(t,n){return n=c_(n),c_(t)===n}function Co(){}function Re(t,n,a,l,u,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Gs(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Gs(t,""+l);break;case"className":Dl(t,"class",l);break;case"tabIndex":Dl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dl(t,a,l);break;case"style":Ep(t,l,d);break;case"data":if(n!=="object"){Dl(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=kl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Re(t,n,"name",u.name,u,null),Re(t,n,"formEncType",u.formEncType,u,null),Re(t,n,"formMethod",u.formMethod,u,null),Re(t,n,"formTarget",u.formTarget,u,null)):(Re(t,n,"encType",u.encType,u,null),Re(t,n,"method",u.method,u,null),Re(t,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=kl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Co);break;case"onScroll":l!=null&&fe("scroll",t);break;case"onScrollEnd":l!=null&&fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=kl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":fe("beforetoggle",t),fe("toggle",t),Il(t,"popover",l);break;case"xlinkActuate":Mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Il(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=CS.get(a)||a,Il(t,a,l))}}function Of(t,n,a,l,u,d){switch(a){case"style":Ep(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Gs(t,l):(typeof l=="number"||typeof l=="bigint")&&Gs(t,""+l);break;case"onScroll":l!=null&&fe("scroll",t);break;case"onScrollEnd":l!=null&&fe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Co);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fp.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,u),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,u);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Il(t,a,l)}}}function ct(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",t),fe("load",t);var l=!1,u=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Re(t,n,d,g,a,null)}}u&&Re(t,n,"srcSet",a.srcSet,a,null),l&&Re(t,n,"src",a.src,a,null);return;case"input":fe("invalid",t);var _=d=g=u=null,S=null,R=null;for(l in a)if(a.hasOwnProperty(l)){var D=a[l];if(D!=null)switch(l){case"name":u=D;break;case"type":g=D;break;case"checked":S=D;break;case"defaultChecked":R=D;break;case"value":d=D;break;case"defaultValue":_=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:Re(t,n,l,D,a,null)}}gp(t,d,_,S,R,g,u,!1),xl(t);return;case"select":fe("invalid",t),l=g=d=null;for(u in a)if(a.hasOwnProperty(u)&&(_=a[u],_!=null))switch(u){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Re(t,n,u,_,a,null)}n=d,a=g,t.multiple=!!l,n!=null?Vs(t,!!l,n,!1):a!=null&&Vs(t,!!l,a,!0);return;case"textarea":fe("invalid",t),d=u=l=null;for(g in a)if(a.hasOwnProperty(g)&&(_=a[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":u=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Re(t,n,g,_,a,null)}vp(t,l,u,d),xl(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Re(t,n,S,l,a,null)}return;case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":fe("load",t);break;case"video":case"audio":for(l=0;l<La.length;l++)fe(La[l],t);break;case"image":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"embed":case"source":case"link":fe("error",t),fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Re(t,n,R,l,a,null)}return;default:if(Gc(n)){for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!==void 0&&Of(t,n,D,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Re(t,n,_,l,a,null))}function Xb(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,g=null,_=null,S=null,R=null,D=null;for(I in a){var k=a[I];if(a.hasOwnProperty(I)&&k!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":S=k;default:l.hasOwnProperty(I)||Re(t,n,I,null,l,k)}}for(var O in l){var I=l[O];if(k=a[O],l.hasOwnProperty(O)&&(I!=null||k!=null))switch(O){case"type":d=I;break;case"name":u=I;break;case"checked":R=I;break;case"defaultChecked":D=I;break;case"value":g=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:I!==k&&Re(t,n,O,I,l,k)}}qc(t,g,_,S,R,D,d,u);return;case"select":I=g=_=O=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":I=S;default:l.hasOwnProperty(d)||Re(t,n,d,null,l,S)}for(u in l)if(d=l[u],S=a[u],l.hasOwnProperty(u)&&(d!=null||S!=null))switch(u){case"value":O=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==S&&Re(t,n,u,d,l,S)}n=_,a=g,l=I,O!=null?Vs(t,!!a,O,!1):!!l!=!!a&&(n!=null?Vs(t,!!a,n,!0):Vs(t,!!a,a?[]:"",!1));return;case"textarea":I=O=null;for(_ in a)if(u=a[_],a.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Re(t,n,_,null,l,u)}for(g in l)if(u=l[g],d=a[g],l.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"value":O=u;break;case"defaultValue":I=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==d&&Re(t,n,g,u,l,d)}_p(t,O,I);return;case"option":for(var F in a)if(O=a[F],a.hasOwnProperty(F)&&O!=null&&!l.hasOwnProperty(F))switch(F){case"selected":t.selected=!1;break;default:Re(t,n,F,null,l,O)}for(S in l)if(O=l[S],I=a[S],l.hasOwnProperty(S)&&O!==I&&(O!=null||I!=null))switch(S){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Re(t,n,S,O,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in a)O=a[ne],a.hasOwnProperty(ne)&&O!=null&&!l.hasOwnProperty(ne)&&Re(t,n,ne,null,l,O);for(R in l)if(O=l[R],I=a[R],l.hasOwnProperty(R)&&O!==I&&(O!=null||I!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:Re(t,n,R,O,l,I)}return;default:if(Gc(n)){for(var qe in a)O=a[qe],a.hasOwnProperty(qe)&&O!==void 0&&!l.hasOwnProperty(qe)&&Of(t,n,qe,void 0,l,O);for(D in l)O=l[D],I=a[D],!l.hasOwnProperty(D)||O===I||O===void 0&&I===void 0||Of(t,n,D,O,l,I);return}}for(var A in a)O=a[A],a.hasOwnProperty(A)&&O!=null&&!l.hasOwnProperty(A)&&Re(t,n,A,null,l,O);for(k in l)O=l[k],I=a[k],!l.hasOwnProperty(k)||O===I||O==null&&I==null||Re(t,n,k,O,l,I)}var If=null,Df=null;function wo(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Mf=null;function Qb(){var t=window.event;return t&&t.type==="popstate"?t===Mf?!1:(Mf=t,!0):(Mf=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(eT)}:h_;function eT(t){setTimeout(function(){throw t})}function kf(t,n){var a=n,l=0;do{var u=a.nextSibling;if(t.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(l===0){t.removeChild(u),Ga(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=u}while(a);Ga(n)}function Lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lf(a),Pc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tT(t,n,a,l){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Zr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==u.rel||t.getAttribute("href")!==(u.href==null?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=fn(t.nextSibling),t===null)break}return null}function nT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=fn(t.nextSibling),t===null))return null;return t}function fn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function m_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function g_(t,n,a){switch(n=wo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var tn=new Map,__=new Set;function Ro(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Wn=z.d;z.d={f:iT,r:sT,D:rT,C:aT,L:lT,m:oT,X:uT,S:cT,M:fT};function iT(){var t=Wn.f(),n=vo();return t||n}function sT(t){var n=Bs(t);n!==null&&n.tag===5&&n.type==="form"?Gm(n):Wn.r(t)}var _r=typeof document>"u"?null:document;function v_(t,n,a){var l=_r;if(l&&typeof n=="string"&&n){var u=Ft(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),__.has(u)||(__.add(u),t={rel:t,crossOrigin:a,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),ct(n,"link",t),Je(n),l.head.appendChild(n)))}}function rT(t){Wn.D(t),v_("dns-prefetch",t,null)}function aT(t,n){Wn.C(t,n),v_("preconnect",t,n)}function lT(t,n,a){Wn.L(t,n,a);var l=_r;if(l&&t&&n){var u='link[rel="preload"][as="'+Ft(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Ft(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Ft(a.imageSizes)+'"]')):u+='[href="'+Ft(t)+'"]';var d=u;switch(n){case"style":d=vr(t);break;case"script":d=yr(t)}tn.has(d)||(t=ae({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),tn.set(d,t),l.querySelector(u)!==null||n==="style"&&l.querySelector(ja(d))||n==="script"&&l.querySelector(Ha(d))||(n=l.createElement("link"),ct(n,"link",t),Je(n),l.head.appendChild(n)))}}function oT(t,n){Wn.m(t,n);var a=_r;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ft(l)+'"][href="'+Ft(t)+'"]',d=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=yr(t)}if(!tn.has(d)&&(t=ae({rel:"modulepreload",href:t},n),tn.set(d,t),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ha(d)))return}l=a.createElement("link"),ct(l,"link",t),Je(l),a.head.appendChild(l)}}}function cT(t,n,a){Wn.S(t,n,a);var l=_r;if(l&&t){var u=Ps(l).hoistableStyles,d=vr(t);n=n||"default";var g=u.get(d);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(ja(d)))_.loading=5;else{t=ae({rel:"stylesheet",href:t,"data-precedence":n},a),(a=tn.get(d))&&Uf(t,a);var S=g=l.createElement("link");Je(S),ct(S,"link",t),S._p=new Promise(function(R,D){S.onload=R,S.onerror=D}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Ao(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},u.set(d,g)}}}function uT(t,n){Wn.X(t,n);var a=_r;if(a&&t){var l=Ps(a).hoistableScripts,u=yr(t),d=l.get(u);d||(d=a.querySelector(Ha(u)),d||(t=ae({src:t,async:!0},n),(n=tn.get(u))&&jf(t,n),d=a.createElement("script"),Je(d),ct(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function fT(t,n){Wn.M(t,n);var a=_r;if(a&&t){var l=Ps(a).hoistableScripts,u=yr(t),d=l.get(u);d||(d=a.querySelector(Ha(u)),d||(t=ae({src:t,async:!0,type:"module"},n),(n=tn.get(u))&&jf(t,n),d=a.createElement("script"),Je(d),ct(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(u,d))}}function y_(t,n,a,l){var u=(u=Rt.current)?Ro(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=vr(a.href),a=Ps(u).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vr(a.href);var d=Ps(u).hoistableStyles,g=d.get(t);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=u.querySelector(ja(t)))&&!d._p&&(g.instance=d,g.state.loading=5),tn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},tn.set(t,a),d||dT(u,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=yr(a),a=Ps(u).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function vr(t){return'href="'+Ft(t)+'"'}function ja(t){return'link[rel="stylesheet"]['+t+"]"}function E_(t){return ae({},t,{"data-precedence":t.precedence,precedence:null})}function dT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ct(n,"link",a),Je(n),t.head.appendChild(n))}function yr(t){return'[src="'+Ft(t)+'"]'}function Ha(t){return"script[async]"+t}function S_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ft(a.href)+'"]');if(l)return n.instance=l,Je(l),l;var u=ae({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),ct(l,"style",u),Ao(l,a.precedence,t),n.instance=l;case"stylesheet":u=vr(a.href);var d=t.querySelector(ja(u));if(d)return n.state.loading|=4,n.instance=d,Je(d),d;l=E_(a),(u=tn.get(u))&&Uf(l,u),d=(t.ownerDocument||t).createElement("link"),Je(d);var g=d;return g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),ct(d,"link",l),n.state.loading|=4,Ao(d,a.precedence,t),n.instance=d;case"script":return d=yr(a.src),(u=t.querySelector(Ha(d)))?(n.instance=u,Je(u),u):(l=a,(u=tn.get(d))&&(l=ae({},a),jf(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),Je(u),ct(u,"link",l),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Ao(l,a.precedence,t));return n.instance}function Ao(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,d=u,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)d=_;else if(d!==u)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var No=null;function b_(t,n,a){if(No===null){var l=new Map,u=No=new Map;u.set(a,l)}else u=No,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var d=a[u];if(!(d[Zr]||d[ht]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(d):l.set(g,[d])}}return l}function T_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function hT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function C_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var za=null;function pT(){}function mT(t,n,a){if(za===null)throw Error(r(475));var l=za;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var u=vr(a.href),d=t.querySelector(ja(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Oo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Je(d);return}d=t.ownerDocument||t,a=E_(a),(u=tn.get(u))&&Uf(a,u),d=d.createElement("link"),Je(d);var g=d;g._p=new Promise(function(_,S){g.onload=_,g.onerror=S}),ct(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Oo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function gT(){if(za===null)throw Error(r(475));var t=za;return t.stylesheets&&t.count===0&&Hf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Hf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oo(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Io=null;function Hf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Io=new Map,n.forEach(_T,t),Io=null,Oo.call(t))}function _T(t,n){if(!(n.state.loading&4)){var a=Io.get(t);if(a)var l=a.get(null);else{a=new Map,Io.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var g=u[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}u=n.instance,g=u.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,u),a.set(g,u),this.count++,l=Oo.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),d?d.parentNode.insertBefore(u,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var Ba={$$typeof:x,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function vT(t,n,a,l,u,d,g,_){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.hiddenUpdates=zc(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function w_(t,n,a,l,u,d,g,_,S,R,D,k){return t=new vT(t,n,a,g,_,S,R,k),n=1,d===!0&&(n|=24),d=Jt(3,null,null,n),t.current=d,d.stateNode=t,n=mu(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},$u(d),t}function R_(t){return t?(t=Qs,t):Qs}function A_(t,n,a,l,u,d){u=R_(u),l.context===null?l.context=u:l.pendingContext=u,l=Ei(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Si(t,l,n),a!==null&&(bt(a,t,n),Ta(a,t,n))}function N_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function zf(t,n){N_(t,n),(t=t.alternate)&&N_(t,n)}function O_(t){if(t.tag===13){var n=hi(t,67108864);n!==null&&bt(n,t,67108864),zf(t,67108864)}}var Do=!0;function yT(t,n,a,l){var u=Y.T;Y.T=null;var d=z.p;try{z.p=2,Bf(t,n,a,l)}finally{z.p=d,Y.T=u}}function ET(t,n,a,l){var u=Y.T;Y.T=null;var d=z.p;try{z.p=8,Bf(t,n,a,l)}finally{z.p=d,Y.T=u}}function Bf(t,n,a,l){if(Do){var u=Pf(l);if(u===null)Nf(t,n,l,xo,a),D_(t,l);else if(bT(u,t,n,a,l))l.stopPropagation();else if(D_(t,l),n&4&&-1<ST.indexOf(t)){for(;u!==null;){var d=Bs(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=$i(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var S=1<<31-Lt(g);_.entanglements[1]|=S,g&=~S}Sn(d),!(He&6)&&(mo=Mt()+500,ka(0))}}break;case 13:_=hi(d,2),_!==null&&bt(_,d,2),vo(),zf(d,2)}if(d=Pf(l),d===null&&Nf(t,n,l,xo,a),d===u)break;u=d}u!==null&&l.stopPropagation()}else Nf(t,n,l,null,a)}}function Pf(t){return t=Yc(t),qf(t)}var xo=null;function qf(t){if(xo=null,t=Xi(t),t!==null){var n=q(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=be(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xo=t,null}function I_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hc()){case _e:return 2;case Dn:return 8;case Wi:case lS:return 32;case np:return 268435456;default:return 32}default:return 32}}var Vf=!1,Ni=null,Oi=null,Ii=null,Pa=new Map,qa=new Map,Di=[],ST="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,n){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Pa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(n.pointerId)}}function Va(t,n,a,l,u,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=Bs(n),n!==null&&O_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function bT(t,n,a,l,u){switch(n){case"focusin":return Ni=Va(Ni,t,n,a,l,u),!0;case"dragenter":return Oi=Va(Oi,t,n,a,l,u),!0;case"mouseover":return Ii=Va(Ii,t,n,a,l,u),!0;case"pointerover":var d=u.pointerId;return Pa.set(d,Va(Pa.get(d)||null,t,n,a,l,u)),!0;case"gotpointercapture":return d=u.pointerId,qa.set(d,Va(qa.get(d)||null,t,n,a,l,u)),!0}return!1}function x_(t){var n=Xi(t.target);if(n!==null){var a=q(n);if(a!==null){if(n=a.tag,n===13){if(n=be(a),n!==null){t.blockedOn=n,gS(t.priority,function(){if(a.tag===13){var l=Bt(),u=hi(a,l);u!==null&&bt(u,a,l),zf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Pf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fc=l,a.target.dispatchEvent(l),Fc=null}else return n=Bs(a),n!==null&&O_(n),t.blockedOn=a,!1;n.shift()}return!0}function M_(t,n,a){Mo(t)&&a.delete(n)}function TT(){Vf=!1,Ni!==null&&Mo(Ni)&&(Ni=null),Oi!==null&&Mo(Oi)&&(Oi=null),Ii!==null&&Mo(Ii)&&(Ii=null),Pa.forEach(M_),qa.forEach(M_)}function ko(t,n){t.blockedOn===n&&(t.blockedOn=null,Vf||(Vf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TT)))}var Lo=null;function k_(t){Lo!==t&&(Lo=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lo===t&&(Lo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],u=t[n+2];if(typeof l!="function"){if(qf(l||a)===null)continue;break}var d=Bs(a);d!==null&&(t.splice(n,3),n-=3,Du(d,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function Ga(t){function n(S){return ko(S,t)}Ni!==null&&ko(Ni,t),Oi!==null&&ko(Oi,t),Ii!==null&&ko(Ii,t),Pa.forEach(n),qa.forEach(n);for(var a=0;a<Di.length;a++){var l=Di[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Di.length&&(a=Di[0],a.blockedOn===null);)x_(a),a.blockedOn===null&&Di.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],d=a[l+1],g=u[At]||null;if(typeof d=="function")g||k_(a);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(u=d,g=d[At]||null)_=g.formAction;else if(qf(u)!==null)continue}else _=g.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),k_(a)}}}function Gf(t){this._internalRoot=t}Uo.prototype.render=Gf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Bt();A_(a,l,t,n,null,null)},Uo.prototype.unmount=Gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&pr(),A_(t.current,2,null,t,null,null),vo(),n[zs]=null}};function Uo(t){this._internalRoot=t}Uo.prototype.unstable_scheduleHydration=function(t){if(t){var n=op();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Di.length&&n!==0&&n<Di[a].priority;a++);Di.splice(a,0,t),a===0&&x_(t)}};var L_=e.version;if(L_!=="19.0.0")throw Error(r(527,L_,"19.0.0"));z.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=L(n),t=t!==null?K(t):null,t=t===null?null:t.stateNode,t};var CT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,findFiberByHostInstance:Xi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{$r=jo.inject(CT),kt=jo}catch{}}return Ya.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",u=Zm,d=Jm,g=eg,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=w_(t,1,!1,null,null,a,l,u,d,g,_,null),t[zs]=n.current,Af(t.nodeType===8?t.parentNode:t),new Gf(n)},Ya.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,u="",d=Zm,g=Jm,_=eg,S=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),n=w_(t,1,!0,n,a??null,l,u,d,g,_,S,R),n.context=R_(null),a=n.current,l=Bt(),u=Ei(l),u.callback=null,Si(a,u,l),n.current.lanes=l,Qr(n,l),Sn(n),t[zs]=n.current,Af(t),new Uo(n)},Ya.version="19.0.0",Ya}var F_;function LT(){if(F_)return Kf.exports;F_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Kf.exports=kT(),Kf.exports}var UT=LT();const jT=ml(UT);var Qf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Y_;function HT(){return Y_||(Y_=1,function(i){(function(){var e={}.hasOwnProperty;function s(){for(var c="",f=0;f<arguments.length;f++){var h=arguments[f];h&&(c=o(c,r(h)))}return c}function r(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return s.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var f="";for(var h in c)e.call(c,h)&&c[h]&&(f=o(f,h));return f}function o(c,f){return f?c?c+" "+f:c+f:c}i.exports?(s.default=s,i.exports=s):window.classNames=s})()}(Qf)),Qf.exports}var zT=HT();const Oe=ml(zT);function BT(i,e){if(i==null)return{};var s={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.includes(r))continue;s[r]=i[r]}return s}function Cd(i,e){return Cd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},Cd(i,e)}function PT(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Cd(i,e)}const qT=["xxl","xl","lg","md","sm","xs"],VT="xs",yc=T.createContext({prefixes:{},breakpoints:qT,minBreakpoint:VT});function Ge(i,e){const{prefixes:s}=T.useContext(yc);return i||s[e]||e}function Hy(){const{breakpoints:i}=T.useContext(yc);return i}function zy(){const{minBreakpoint:i}=T.useContext(yc);return i}function GT(){const{dir:i}=T.useContext(yc);return i==="rtl"}function Ec(i){return i&&i.ownerDocument||document}function FT(i){var e=Ec(i);return e&&e.defaultView||window}function YT(i,e){return FT(i).getComputedStyle(i,e)}var KT=/([A-Z])/g;function WT(i){return i.replace(KT,"-$1").toLowerCase()}var $T=/^ms-/;function Ho(i){return WT(i).replace($T,"-ms-")}var XT=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function QT(i){return!!(i&&XT.test(i))}function Cs(i,e){var s="",r="";if(typeof e=="string")return i.style.getPropertyValue(Ho(e))||YT(i).getPropertyValue(Ho(e));Object.keys(e).forEach(function(o){var c=e[o];!c&&c!==0?i.style.removeProperty(Ho(o)):QT(o)?r+=o+"("+c+") ":s+=Ho(o)+": "+c+";"}),r&&(s+="transform: "+r+";"),i.style.cssText+=";"+s}var Zf={exports:{}},Jf,K_;function ZT(){if(K_)return Jf;K_=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jf=i,Jf}var ed,W_;function JT(){if(W_)return ed;W_=1;var i=ZT();function e(){}function s(){}return s.resetWarningCache=e,ed=function(){function r(f,h,p,m,y,E){if(E!==i){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function o(){return r}var c={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:s,resetWarningCache:e};return c.PropTypes=c,c},ed}var $_;function eC(){return $_||($_=1,Zf.exports=JT()()),Zf.exports}var tC=eC();const ei=ml(tC);var nC=jy();const Cr=ml(nC),X_={disabled:!1},By=zi.createContext(null);var iC=function(e){return e.scrollTop},Qa="unmounted",_s="exited",ki="entering",Es="entered",wd="exiting",li=function(i){PT(e,i);function e(r,o){var c;c=i.call(this,r,o)||this;var f=o,h=f&&!f.isMounting?r.enter:r.appear,p;return c.appearStatus=null,r.in?h?(p=_s,c.appearStatus=ki):p=Es:r.unmountOnExit||r.mountOnEnter?p=Qa:p=_s,c.state={status:p},c.nextCallback=null,c}e.getDerivedStateFromProps=function(o,c){var f=o.in;return f&&c.status===Qa?{status:_s}:null};var s=e.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(o){var c=null;if(o!==this.props){var f=this.state.status;this.props.in?f!==ki&&f!==Es&&(c=ki):(f===ki||f===Es)&&(c=wd)}this.updateStatus(!1,c)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var o=this.props.timeout,c,f,h;return c=f=h=o,o!=null&&typeof o!="number"&&(c=o.exit,f=o.enter,h=o.appear!==void 0?o.appear:f),{exit:c,enter:f,appear:h}},s.updateStatus=function(o,c){if(o===void 0&&(o=!1),c!==null)if(this.cancelNextCallback(),c===ki){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:Cr.findDOMNode(this);f&&iC(f)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_s&&this.setState({status:Qa})},s.performEnter=function(o){var c=this,f=this.props.enter,h=this.context?this.context.isMounting:o,p=this.props.nodeRef?[h]:[Cr.findDOMNode(this),h],m=p[0],y=p[1],E=this.getTimeouts(),b=h?E.appear:E.enter;if(!o&&!f||X_.disabled){this.safeSetState({status:Es},function(){c.props.onEntered(m)});return}this.props.onEnter(m,y),this.safeSetState({status:ki},function(){c.props.onEntering(m,y),c.onTransitionEnd(b,function(){c.safeSetState({status:Es},function(){c.props.onEntered(m,y)})})})},s.performExit=function(){var o=this,c=this.props.exit,f=this.getTimeouts(),h=this.props.nodeRef?void 0:Cr.findDOMNode(this);if(!c||X_.disabled){this.safeSetState({status:_s},function(){o.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:wd},function(){o.props.onExiting(h),o.onTransitionEnd(f.exit,function(){o.safeSetState({status:_s},function(){o.props.onExited(h)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(o,c){c=this.setNextCallback(c),this.setState(o,c)},s.setNextCallback=function(o){var c=this,f=!0;return this.nextCallback=function(h){f&&(f=!1,c.nextCallback=null,o(h))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},s.onTransitionEnd=function(o,c){this.setNextCallback(c);var f=this.props.nodeRef?this.props.nodeRef.current:Cr.findDOMNode(this),h=o==null&&!this.props.addEndListener;if(!f||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],m=p[0],y=p[1];this.props.addEndListener(m,y)}o!=null&&setTimeout(this.nextCallback,o)},s.render=function(){var o=this.state.status;if(o===Qa)return null;var c=this.props,f=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var h=BT(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return zi.createElement(By.Provider,{value:null},typeof f=="function"?f(o,h):zi.cloneElement(zi.Children.only(f),h))},e}(zi.Component);li.contextType=By;li.propTypes={};function Er(){}li.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Er,onEntering:Er,onEntered:Er,onExit:Er,onExiting:Er,onExited:Er};li.UNMOUNTED=Qa;li.EXITED=_s;li.ENTERING=ki;li.ENTERED=Es;li.EXITING=wd;function sC(i){return i.code==="Escape"||i.keyCode===27}function rC(){const i=T.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function Py(i){if(!i||typeof i=="function")return null;const{major:e}=rC();return e>=19?i.props.ref:i.ref}const jr=!!(typeof window<"u"&&window.document&&window.document.createElement);var Rd=!1,Ad=!1;try{var td={get passive(){return Rd=!0},get once(){return Ad=Rd=!0}};jr&&(window.addEventListener("test",td,td),window.removeEventListener("test",td,!0))}catch{}function qy(i,e,s,r){if(r&&typeof r!="boolean"&&!Ad){var o=r.once,c=r.capture,f=s;!Ad&&o&&(f=s.__once||function h(p){this.removeEventListener(e,h,c),s.call(this,p)},s.__once=f),i.addEventListener(e,f,Rd?r:c)}i.addEventListener(e,s,r)}function Nd(i,e,s,r){var o=r&&typeof r!="boolean"?r.capture:r;i.removeEventListener(e,s,o),s.__once&&i.removeEventListener(e,s.__once,o)}function Wo(i,e,s,r){return qy(i,e,s,r),function(){Nd(i,e,s,r)}}function aC(i,e,s,r){if(r===void 0&&(r=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,s,r),i.dispatchEvent(o)}}function lC(i){var e=Cs(i,"transitionDuration")||"",s=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*s}function oC(i,e,s){s===void 0&&(s=5);var r=!1,o=setTimeout(function(){r||aC(i,"transitionend",!0)},e+s),c=Wo(i,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),c()}}function Vy(i,e,s,r){s==null&&(s=lC(i)||0);var o=oC(i,s,r),c=Wo(i,"transitionend",e);return function(){o(),c()}}function Q_(i,e){const s=Cs(i,e)||"",r=s.indexOf("ms")===-1?1e3:1;return parseFloat(s)*r}function cC(i,e){const s=Q_(i,"transitionDuration"),r=Q_(i,"transitionDelay"),o=Vy(i,c=>{c.target===i&&(o(),e(c))},s+r)}function uC(i){i.offsetHeight}const Z_=i=>!i||typeof i=="function"?i:e=>{i.current=e};function fC(i,e){const s=Z_(i),r=Z_(e);return o=>{s&&s(o),r&&r(o)}}function Gy(i,e){return T.useMemo(()=>fC(i,e),[i,e])}function dC(i){return i&&"setState"in i?Cr.findDOMNode(i):i??null}const hC=zi.forwardRef(({onEnter:i,onEntering:e,onEntered:s,onExit:r,onExiting:o,onExited:c,addEndListener:f,children:h,childRef:p,...m},y)=>{const E=T.useRef(null),b=Gy(E,p),x=ve=>{b(dC(ve))},U=ve=>ze=>{ve&&E.current&&ve(E.current,ze)},P=T.useCallback(U(i),[i]),j=T.useCallback(U(e),[e]),ee=T.useCallback(U(s),[s]),Q=T.useCallback(U(r),[r]),Z=T.useCallback(U(o),[o]),ce=T.useCallback(U(c),[c]),$=T.useCallback(U(f),[f]);return v.jsx(li,{ref:y,...m,onEnter:P,onEntered:ee,onEntering:j,onExit:Q,onExited:ce,onExiting:Z,addEndListener:$,nodeRef:E,children:typeof h=="function"?(ve,ze)=>h(ve,{...ze,ref:x}):zi.cloneElement(h,{ref:x})})});function pC(i){const e=T.useRef(i);return T.useEffect(()=>{e.current=i},[i]),e}function Od(i){const e=pC(i);return T.useCallback(function(...s){return e.current&&e.current(...s)},[e])}const mC=i=>T.forwardRef((e,s)=>v.jsx("div",{...e,ref:s,className:Oe(e.className,i)}));function gC(i){const e=T.useRef(i);return T.useEffect(()=>{e.current=i},[i]),e}function Ss(i){const e=gC(i);return T.useCallback(function(...s){return e.current&&e.current(...s)},[e])}function _C(){const i=T.useRef(!0),e=T.useRef(()=>i.current);return T.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),e.current}function vC(i){const e=T.useRef(null);return T.useEffect(()=>{e.current=i}),e.current}const yC=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",EC=typeof document<"u",J_=EC||yC?T.useLayoutEffect:T.useEffect,SC=["as","disabled"];function bC(i,e){if(i==null)return{};var s={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;s[r]=i[r]}return s}function TC(i){return!i||i.trim()==="#"}function Fy({tagName:i,disabled:e,href:s,target:r,rel:o,role:c,onClick:f,tabIndex:h=0,type:p}){i||(s!=null||r!=null||o!=null?i="a":i="button");const m={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},m];const y=b=>{if((e||i==="a"&&TC(s))&&b.preventDefault(),e){b.stopPropagation();return}f==null||f(b)},E=b=>{b.key===" "&&(b.preventDefault(),y(b))};return i==="a"&&(s||(s="#"),e&&(s=void 0)),[{role:c??"button",disabled:void 0,tabIndex:e?void 0:h,href:s,target:i==="a"?r:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:y,onKeyDown:E},m]}const CC=T.forwardRef((i,e)=>{let{as:s,disabled:r}=i,o=bC(i,SC);const[c,{tagName:f}]=Fy(Object.assign({tagName:s,disabled:r},o));return v.jsx(f,Object.assign({},o,c,{ref:e}))});CC.displayName="Button";const wC={[ki]:"show",[Es]:"show"},ih=T.forwardRef(({className:i,children:e,transitionClasses:s={},onEnter:r,...o},c)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},h=T.useCallback((p,m)=>{uC(p),r==null||r(p,m)},[r]);return v.jsx(hC,{ref:c,addEndListener:cC,...f,onEnter:h,childRef:Py(e),children:(p,m)=>T.cloneElement(e,{...m,className:Oe("fade",i,e.props.className,wC[p],s[p])})})});ih.displayName="Fade";const RC={"aria-label":ei.string,onClick:ei.func,variant:ei.oneOf(["white"])},sh=T.forwardRef(({className:i,variant:e,"aria-label":s="Close",...r},o)=>v.jsx("button",{ref:o,type:"button",className:Oe("btn-close",e&&`btn-close-${e}`,i),"aria-label":s,...r}));sh.displayName="CloseButton";sh.propTypes=RC;const Yy=T.forwardRef(({as:i,bsPrefix:e,variant:s="primary",size:r,active:o=!1,disabled:c=!1,className:f,...h},p)=>{const m=Ge(e,"btn"),[y,{tagName:E}]=Fy({tagName:i,disabled:c,...h}),b=E;return v.jsx(b,{...y,...h,ref:p,disabled:c,className:Oe(f,m,o&&"active",s&&`${m}-${s}`,r&&`${m}-${r}`,h.href&&c&&"disabled")})});Yy.displayName="Button";function AC(i){const e=T.useRef(i);return e.current=i,e}function NC(i){const e=AC(i);T.useEffect(()=>()=>e.current(),[])}function OC(i,e){return T.Children.toArray(i).some(s=>T.isValidElement(s)&&s.type===e)}function IC({as:i,bsPrefix:e,className:s,...r}){e=Ge(e,"col");const o=Hy(),c=zy(),f=[],h=[];return o.forEach(p=>{const m=r[p];delete r[p];let y,E,b;typeof m=="object"&&m!=null?{span:y,offset:E,order:b}=m:y=m;const x=p!==c?`-${p}`:"";y&&f.push(y===!0?`${e}${x}`:`${e}${x}-${y}`),b!=null&&h.push(`order${x}-${b}`),E!=null&&h.push(`offset${x}-${E}`)}),[{...r,className:Oe(s,...f,...h)},{as:i,bsPrefix:e,spans:f}]}const Ky=T.forwardRef((i,e)=>{const[{className:s,...r},{as:o="div",bsPrefix:c,spans:f}]=IC(i);return v.jsx(o,{...r,ref:e,className:Oe(s,!f.length&&c)})});Ky.displayName="Col";const Nn=T.forwardRef(({bsPrefix:i,fluid:e=!1,as:s="div",className:r,...o},c)=>{const f=Ge(i,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return v.jsx(s,{ref:c,...o,className:Oe(r,e?`${f}${h}`:f)})});Nn.displayName="Container";var DC=Function.prototype.bind.call(Function.prototype.call,[].slice);function Sr(i,e){return DC(i.querySelectorAll(e))}function ev(i,e){if(i.contains)return i.contains(e);if(i.compareDocumentPosition)return i===e||!!(i.compareDocumentPosition(e)&16)}const xC="data-rr-ui-";function MC(i){return`${xC}${i}`}const Wy=T.createContext(jr?window:void 0);Wy.Provider;function rh(){return T.useContext(Wy)}const kC={type:ei.string,tooltip:ei.bool,as:ei.elementType},Sc=T.forwardRef(({as:i="div",className:e,type:s="valid",tooltip:r=!1,...o},c)=>v.jsx(i,{...o,ref:c,className:Oe(e,`${s}-${r?"tooltip":"feedback"}`)}));Sc.displayName="Feedback";Sc.propTypes=kC;const ii=T.createContext({}),ah=T.forwardRef(({id:i,bsPrefix:e,className:s,type:r="checkbox",isValid:o=!1,isInvalid:c=!1,as:f="input",...h},p)=>{const{controlId:m}=T.useContext(ii);return e=Ge(e,"form-check-input"),v.jsx(f,{...h,ref:p,type:r,id:i||m,className:Oe(s,e,o&&"is-valid",c&&"is-invalid")})});ah.displayName="FormCheckInput";const $o=T.forwardRef(({bsPrefix:i,className:e,htmlFor:s,...r},o)=>{const{controlId:c}=T.useContext(ii);return i=Ge(i,"form-check-label"),v.jsx("label",{...r,ref:o,htmlFor:s||c,className:Oe(e,i)})});$o.displayName="FormCheckLabel";const $y=T.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:s,inline:r=!1,reverse:o=!1,disabled:c=!1,isValid:f=!1,isInvalid:h=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:y,className:E,style:b,title:x="",type:U="checkbox",label:P,children:j,as:ee="input",...Q},Z)=>{e=Ge(e,"form-check"),s=Ge(s,"form-switch");const{controlId:ce}=T.useContext(ii),$=T.useMemo(()=>({controlId:i||ce}),[ce,i]),ve=!j&&P!=null&&P!==!1||OC(j,$o),ze=v.jsx(ah,{...Q,type:U==="switch"?"checkbox":U,ref:Z,isValid:f,isInvalid:h,disabled:c,as:ee});return v.jsx(ii.Provider,{value:$,children:v.jsx("div",{style:b,className:Oe(E,ve&&e,r&&`${e}-inline`,o&&`${e}-reverse`,U==="switch"&&s),children:j||v.jsxs(v.Fragment,{children:[ze,ve&&v.jsx($o,{title:x,children:P}),m&&v.jsx(Sc,{type:y,tooltip:p,children:m})]})})})});$y.displayName="FormCheck";const Xo=Object.assign($y,{Input:ah,Label:$o}),Xy=T.forwardRef(({bsPrefix:i,type:e,size:s,htmlSize:r,id:o,className:c,isValid:f=!1,isInvalid:h=!1,plaintext:p,readOnly:m,as:y="input",...E},b)=>{const{controlId:x}=T.useContext(ii);return i=Ge(i,"form-control"),v.jsx(y,{...E,type:e,size:r,ref:b,readOnly:m,id:o||x,className:Oe(c,p?`${i}-plaintext`:i,s&&`${i}-${s}`,e==="color"&&`${i}-color`,f&&"is-valid",h&&"is-invalid")})});Xy.displayName="FormControl";const LC=Object.assign(Xy,{Feedback:Sc}),Qy=T.forwardRef(({className:i,bsPrefix:e,as:s="div",...r},o)=>(e=Ge(e,"form-floating"),v.jsx(s,{ref:o,className:Oe(i,e),...r})));Qy.displayName="FormFloating";const lh=T.forwardRef(({controlId:i,as:e="div",...s},r)=>{const o=T.useMemo(()=>({controlId:i}),[i]);return v.jsx(ii.Provider,{value:o,children:v.jsx(e,{...s,ref:r})})});lh.displayName="FormGroup";const Zy=T.forwardRef(({as:i="label",bsPrefix:e,column:s=!1,visuallyHidden:r=!1,className:o,htmlFor:c,...f},h)=>{const{controlId:p}=T.useContext(ii);e=Ge(e,"form-label");let m="col-form-label";typeof s=="string"&&(m=`${m} ${m}-${s}`);const y=Oe(o,e,r&&"visually-hidden",s&&m);return c=c||p,s?v.jsx(Ky,{ref:h,as:"label",className:y,htmlFor:c,...f}):v.jsx(i,{ref:h,className:y,htmlFor:c,...f})});Zy.displayName="FormLabel";const Jy=T.forwardRef(({bsPrefix:i,className:e,id:s,...r},o)=>{const{controlId:c}=T.useContext(ii);return i=Ge(i,"form-range"),v.jsx("input",{...r,type:"range",ref:o,className:Oe(e,i),id:s||c})});Jy.displayName="FormRange";const e0=T.forwardRef(({bsPrefix:i,size:e,htmlSize:s,className:r,isValid:o=!1,isInvalid:c=!1,id:f,...h},p)=>{const{controlId:m}=T.useContext(ii);return i=Ge(i,"form-select"),v.jsx("select",{...h,size:s,ref:p,className:Oe(r,i,e&&`${i}-${e}`,o&&"is-valid",c&&"is-invalid"),id:f||m})});e0.displayName="FormSelect";const t0=T.forwardRef(({bsPrefix:i,className:e,as:s="small",muted:r,...o},c)=>(i=Ge(i,"form-text"),v.jsx(s,{...o,ref:c,className:Oe(e,i,r&&"text-muted")})));t0.displayName="FormText";const n0=T.forwardRef((i,e)=>v.jsx(Xo,{...i,ref:e,type:"switch"}));n0.displayName="Switch";const UC=Object.assign(n0,{Input:Xo.Input,Label:Xo.Label}),i0=T.forwardRef(({bsPrefix:i,className:e,children:s,controlId:r,label:o,...c},f)=>(i=Ge(i,"form-floating"),v.jsxs(lh,{ref:f,className:Oe(e,i),controlId:r,...c,children:[s,v.jsx("label",{htmlFor:r,children:o})]})));i0.displayName="FloatingLabel";const jC={_ref:ei.any,validated:ei.bool,as:ei.elementType},oh=T.forwardRef(({className:i,validated:e,as:s="form",...r},o)=>v.jsx(s,{...r,ref:o,className:Oe(i,e&&"was-validated")}));oh.displayName="Form";oh.propTypes=jC;const bn=Object.assign(oh,{Group:lh,Control:LC,Floating:Qy,Check:Xo,Switch:UC,Label:Zy,Text:t0,Range:Jy,Select:e0,FloatingLabel:i0}),tv=i=>!i||typeof i=="function"?i:e=>{i.current=e};function HC(i,e){const s=tv(i),r=tv(e);return o=>{s&&s(o),r&&r(o)}}function ch(i,e){return T.useMemo(()=>HC(i,e),[i,e])}var zo;function nv(i){if((!zo&&zo!==0||i)&&jr){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),zo=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return zo}function zC(){return T.useState(null)}function nd(i){i===void 0&&(i=Ec());try{var e=i.activeElement;return!e||!e.nodeName?null:e}catch{return i.body}}function BC(i){const e=T.useRef(i);return e.current=i,e}function PC(i){const e=BC(i);T.useEffect(()=>()=>e.current(),[])}function qC(i=document){const e=i.defaultView;return Math.abs(e.innerWidth-i.documentElement.clientWidth)}const iv=MC("modal-open");class uh{constructor({ownerDocument:e,handleContainerOverflow:s=!0,isRTL:r=!1}={}){this.handleContainerOverflow=s,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return qC(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const s={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();e.style={overflow:o.style.overflow,[r]:o.style[r]},e.scrollBarWidth&&(s[r]=`${parseInt(Cs(o,r)||"0",10)+e.scrollBarWidth}px`),o.setAttribute(iv,""),Cs(o,s)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const s=this.getElement();s.removeAttribute(iv),Object.assign(s.style,e.style)}add(e){let s=this.modals.indexOf(e);return s!==-1||(s=this.modals.length,this.modals.push(e),this.setModalAttributes(e),s!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),s}remove(e){const s=this.modals.indexOf(e);s!==-1&&(this.modals.splice(s,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const id=(i,e)=>jr?i==null?(e||Ec()).body:(typeof i=="function"&&(i=i()),i&&"current"in i&&(i=i.current),i&&("nodeType"in i||i.getBoundingClientRect)?i:null):null;function VC(i,e){const s=rh(),[r,o]=T.useState(()=>id(i,s==null?void 0:s.document));if(!r){const c=id(i);c&&o(c)}return T.useEffect(()=>{},[e,r]),T.useEffect(()=>{const c=id(i);c!==r&&o(c)},[i,r]),r}function GC({children:i,in:e,onExited:s,mountOnEnter:r,unmountOnExit:o}){const c=T.useRef(null),f=T.useRef(e),h=Ss(s);T.useEffect(()=>{e?f.current=!0:h(c.current)},[e,h]);const p=ch(c,i.ref),m=T.cloneElement(i,{ref:p});return e?m:o||!f.current&&r?null:m}const FC=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function YC(i,e){if(i==null)return{};var s={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;s[r]=i[r]}return s}function KC(i){let{onEnter:e,onEntering:s,onEntered:r,onExit:o,onExiting:c,onExited:f,addEndListener:h,children:p}=i,m=YC(i,FC);const y=T.useRef(null),E=ch(y,Py(p)),b=ce=>$=>{ce&&y.current&&ce(y.current,$)},x=T.useCallback(b(e),[e]),U=T.useCallback(b(s),[s]),P=T.useCallback(b(r),[r]),j=T.useCallback(b(o),[o]),ee=T.useCallback(b(c),[c]),Q=T.useCallback(b(f),[f]),Z=T.useCallback(b(h),[h]);return Object.assign({},m,{nodeRef:y},e&&{onEnter:x},s&&{onEntering:U},r&&{onEntered:P},o&&{onExit:j},c&&{onExiting:ee},f&&{onExited:Q},h&&{addEndListener:Z},{children:typeof p=="function"?(ce,$)=>p(ce,Object.assign({},$,{ref:E})):T.cloneElement(p,{ref:E})})}const WC=["component"];function $C(i,e){if(i==null)return{};var s={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;s[r]=i[r]}return s}const XC=T.forwardRef((i,e)=>{let{component:s}=i,r=$C(i,WC);const o=KC(r);return v.jsx(s,Object.assign({ref:e},o))});function QC({in:i,onTransition:e}){const s=T.useRef(null),r=T.useRef(!0),o=Ss(e);return J_(()=>{if(!s.current)return;let c=!1;return o({in:i,element:s.current,initial:r.current,isStale:()=>c}),()=>{c=!0}},[i,o]),J_(()=>(r.current=!1,()=>{r.current=!0}),[]),s}function ZC({children:i,in:e,onExited:s,onEntered:r,transition:o}){const[c,f]=T.useState(!e);e&&c&&f(!1);const h=QC({in:!!e,onTransition:m=>{const y=()=>{m.isStale()||(m.in?r==null||r(m.element,m.initial):(f(!0),s==null||s(m.element)))};Promise.resolve(o(m)).then(y,E=>{throw m.in||f(!0),E})}}),p=ch(h,i.ref);return c&&!e?null:T.cloneElement(i,{ref:p})}function sv(i,e,s){return i?v.jsx(XC,Object.assign({},s,{component:i})):e?v.jsx(ZC,Object.assign({},s,{transition:e})):v.jsx(GC,Object.assign({},s))}const JC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function ew(i,e){if(i==null)return{};var s={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;s[r]=i[r]}return s}let sd;function tw(i){return sd||(sd=new uh({ownerDocument:i==null?void 0:i.document})),sd}function nw(i){const e=rh(),s=i||tw(e),r=T.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>s.add(r.current),remove:()=>s.remove(r.current),isTopModal:()=>s.isTopModal(r.current),setDialogRef:T.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:T.useCallback(o=>{r.current.backdrop=o},[])})}const s0=T.forwardRef((i,e)=>{let{show:s=!1,role:r="dialog",className:o,style:c,children:f,backdrop:h=!0,keyboard:p=!0,onBackdropClick:m,onEscapeKeyDown:y,transition:E,runTransition:b,backdropTransition:x,runBackdropTransition:U,autoFocus:P=!0,enforceFocus:j=!0,restoreFocus:ee=!0,restoreFocusOptions:Q,renderDialog:Z,renderBackdrop:ce=Ce=>v.jsx("div",Object.assign({},Ce)),manager:$,container:ve,onShow:ze,onHide:dt=()=>{},onExit:Y,onExited:ae,onExiting:at,onEnter:Ct,onEntering:yt,onEntered:wt}=i,Ze=ew(i,JC);const H=rh(),J=VC(ve),q=nw($),be=_C(),C=vC(s),[L,K]=T.useState(!s),G=T.useRef(null);T.useImperativeHandle(e,()=>q,[q]),jr&&!C&&s&&(G.current=nd(H==null?void 0:H.document)),s&&L&&K(!1);const z=Ss(()=>{if(q.add(),Se.current=Wo(document,"keydown",he),De.current=Wo(document,"focus",()=>setTimeout(ie),!0),ze&&ze(),P){var Ce,ln;const In=nd((Ce=(ln=q.dialog)==null?void 0:ln.ownerDocument)!=null?Ce:H==null?void 0:H.document);q.dialog&&In&&!ev(q.dialog,In)&&(G.current=In,q.dialog.focus())}}),re=Ss(()=>{if(q.remove(),Se.current==null||Se.current(),De.current==null||De.current(),ee){var Ce;(Ce=G.current)==null||Ce.focus==null||Ce.focus(Q),G.current=null}});T.useEffect(()=>{!s||!J||z()},[s,J,z]),T.useEffect(()=>{L&&re()},[L,re]),PC(()=>{re()});const ie=Ss(()=>{if(!j||!be()||!q.isTopModal())return;const Ce=nd(H==null?void 0:H.document);q.dialog&&Ce&&!ev(q.dialog,Ce)&&q.dialog.focus()}),Fe=Ss(Ce=>{Ce.target===Ce.currentTarget&&(m==null||m(Ce),h===!0&&dt())}),he=Ss(Ce=>{p&&sC(Ce)&&q.isTopModal()&&(y==null||y(Ce),Ce.defaultPrevented||dt())}),De=T.useRef(),Se=T.useRef(),Et=(...Ce)=>{K(!0),ae==null||ae(...Ce)};if(!J)return null;const Vt=Object.assign({role:r,ref:q.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ze,{style:c,className:o,tabIndex:-1});let Rt=Z?Z(Vt):v.jsx("div",Object.assign({},Vt,{children:T.cloneElement(f,{role:"document"})}));Rt=sv(E,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:Y,onExiting:at,onExited:Et,onEnter:Ct,onEntering:yt,onEntered:wt,children:Rt});let an=null;return h&&(an=ce({ref:q.setBackdropRef,onClick:Fe}),an=sv(x,U,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:an})),v.jsx(v.Fragment,{children:Cr.createPortal(v.jsxs(v.Fragment,{children:[an,Rt]}),J)})});s0.displayName="Modal";const iw=Object.assign(s0,{Manager:uh});function sw(i,e){return i.classList?i.classList.contains(e):(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+e+" ")!==-1}function rw(i,e){i.classList?i.classList.add(e):sw(i,e)||(typeof i.className=="string"?i.className=i.className+" "+e:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+e))}function rv(i,e){return i.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function aw(i,e){i.classList?i.classList.remove(e):typeof i.className=="string"?i.className=rv(i.className,e):i.setAttribute("class",rv(i.className&&i.className.baseVal||"",e))}const br={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class lw extends uh{adjustAndStore(e,s,r){const o=s.style[e];s.dataset[e]=o,Cs(s,{[e]:`${parseFloat(Cs(s,e))+r}px`})}restore(e,s){const r=s.dataset[e];r!==void 0&&(delete s.dataset[e],Cs(s,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const s=this.getElement();if(rw(s,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Sr(s,br.FIXED_CONTENT).forEach(c=>this.adjustAndStore(r,c,e.scrollBarWidth)),Sr(s,br.STICKY_CONTENT).forEach(c=>this.adjustAndStore(o,c,-e.scrollBarWidth)),Sr(s,br.NAVBAR_TOGGLER).forEach(c=>this.adjustAndStore(o,c,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const s=this.getElement();aw(s,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Sr(s,br.FIXED_CONTENT).forEach(c=>this.restore(r,c)),Sr(s,br.STICKY_CONTENT).forEach(c=>this.restore(o,c)),Sr(s,br.NAVBAR_TOGGLER).forEach(c=>this.restore(o,c))}}let rd;function ow(i){return rd||(rd=new lw(i)),rd}const r0=T.forwardRef(({className:i,bsPrefix:e,as:s="div",...r},o)=>(e=Ge(e,"modal-body"),v.jsx(s,{ref:o,className:Oe(i,e),...r})));r0.displayName="ModalBody";const a0=T.createContext({onHide(){}}),fh=T.forwardRef(({bsPrefix:i,className:e,contentClassName:s,centered:r,size:o,fullscreen:c,children:f,scrollable:h,...p},m)=>{i=Ge(i,"modal");const y=`${i}-dialog`,E=typeof c=="string"?`${i}-fullscreen-${c}`:`${i}-fullscreen`;return v.jsx("div",{...p,ref:m,className:Oe(y,e,o&&`${i}-${o}`,r&&`${y}-centered`,h&&`${y}-scrollable`,c&&E),children:v.jsx("div",{className:Oe(`${i}-content`,s),children:f})})});fh.displayName="ModalDialog";const l0=T.forwardRef(({className:i,bsPrefix:e,as:s="div",...r},o)=>(e=Ge(e,"modal-footer"),v.jsx(s,{ref:o,className:Oe(i,e),...r})));l0.displayName="ModalFooter";const cw=T.forwardRef(({closeLabel:i="Close",closeVariant:e,closeButton:s=!1,onHide:r,children:o,...c},f)=>{const h=T.useContext(a0),p=Od(()=>{h==null||h.onHide(),r==null||r()});return v.jsxs("div",{ref:f,...c,children:[o,s&&v.jsx(sh,{"aria-label":i,variant:e,onClick:p})]})}),o0=T.forwardRef(({bsPrefix:i,className:e,closeLabel:s="Close",closeButton:r=!1,...o},c)=>(i=Ge(i,"modal-header"),v.jsx(cw,{ref:c,...o,className:Oe(e,i),closeLabel:s,closeButton:r})));o0.displayName="ModalHeader";const uw=mC("h4"),c0=T.forwardRef(({className:i,bsPrefix:e,as:s=uw,...r},o)=>(e=Ge(e,"modal-title"),v.jsx(s,{ref:o,className:Oe(i,e),...r})));c0.displayName="ModalTitle";function fw(i){return v.jsx(ih,{...i,timeout:null})}function dw(i){return v.jsx(ih,{...i,timeout:null})}const u0=T.forwardRef(({bsPrefix:i,className:e,style:s,dialogClassName:r,contentClassName:o,children:c,dialogAs:f=fh,"data-bs-theme":h,"aria-labelledby":p,"aria-describedby":m,"aria-label":y,show:E=!1,animation:b=!0,backdrop:x=!0,keyboard:U=!0,onEscapeKeyDown:P,onShow:j,onHide:ee,container:Q,autoFocus:Z=!0,enforceFocus:ce=!0,restoreFocus:$=!0,restoreFocusOptions:ve,onEntered:ze,onExit:dt,onExiting:Y,onEnter:ae,onEntering:at,onExited:Ct,backdropClassName:yt,manager:wt,...Ze},H)=>{const[J,q]=T.useState({}),[be,C]=T.useState(!1),L=T.useRef(!1),K=T.useRef(!1),G=T.useRef(null),[z,re]=zC(),ie=Gy(H,re),Fe=Od(ee),he=GT();i=Ge(i,"modal");const De=T.useMemo(()=>({onHide:Fe}),[Fe]);function Se(){return wt||ow({isRTL:he})}function Et(_e){if(!jr)return;const Dn=Se().getScrollbarWidth()>0,Wi=_e.scrollHeight>Ec(_e).documentElement.clientHeight;q({paddingRight:Dn&&!Wi?nv():void 0,paddingLeft:!Dn&&Wi?nv():void 0})}const Vt=Od(()=>{z&&Et(z.dialog)});NC(()=>{Nd(window,"resize",Vt),G.current==null||G.current()});const Rt=()=>{L.current=!0},an=_e=>{L.current&&z&&_e.target===z.dialog&&(K.current=!0),L.current=!1},Ce=()=>{C(!0),G.current=Vy(z.dialog,()=>{C(!1)})},ln=_e=>{_e.target===_e.currentTarget&&Ce()},In=_e=>{if(x==="static"){ln(_e);return}if(K.current||_e.target!==_e.currentTarget){K.current=!1;return}ee==null||ee()},Hs=_e=>{U?P==null||P(_e):(_e.preventDefault(),x==="static"&&Ce())},Yr=(_e,Dn)=>{_e&&Et(_e),ae==null||ae(_e,Dn)},Kr=_e=>{G.current==null||G.current(),dt==null||dt(_e)},Wr=(_e,Dn)=>{at==null||at(_e,Dn),qy(window,"resize",Vt)},Uc=_e=>{_e&&(_e.style.display=""),Ct==null||Ct(_e),Nd(window,"resize",Vt)},jc=T.useCallback(_e=>v.jsx("div",{..._e,className:Oe(`${i}-backdrop`,yt,!b&&"show")}),[b,yt,i]),Mt={...s,...J};Mt.display="block";const Hc=_e=>v.jsx("div",{role:"dialog",..._e,style:Mt,className:Oe(e,i,be&&`${i}-static`,!b&&"show"),onClick:x?In:void 0,onMouseUp:an,"data-bs-theme":h,"aria-label":y,"aria-labelledby":p,"aria-describedby":m,children:v.jsx(f,{...Ze,onMouseDown:Rt,className:r,contentClassName:o,children:c})});return v.jsx(a0.Provider,{value:De,children:v.jsx(iw,{show:E,ref:ie,backdrop:x,container:Q,keyboard:!0,autoFocus:Z,enforceFocus:ce,restoreFocus:$,restoreFocusOptions:ve,onEscapeKeyDown:Hs,onShow:j,onHide:ee,onEnter:Yr,onEntering:Wr,onEntered:ze,onExit:Kr,onExiting:Y,onExited:Uc,manager:Se(),transition:b?fw:void 0,backdropTransition:b?dw:void 0,renderBackdrop:jc,renderDialog:Hc})})});u0.displayName="Modal";const av=Object.assign(u0,{Body:r0,Header:o0,Title:c0,Footer:l0,Dialog:fh,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),f0=T.forwardRef(({bsPrefix:i,className:e,as:s="div",...r},o)=>{const c=Ge(i,"row"),f=Hy(),h=zy(),p=`${c}-cols`,m=[];return f.forEach(y=>{const E=r[y];delete r[y];let b;E!=null&&typeof E=="object"?{cols:b}=E:b=E;const x=y!==h?`-${y}`:"";b!=null&&m.push(`${p}${x}-${b}`)}),v.jsx(s,{ref:o,...r,className:Oe(e,c,...m)})});f0.displayName="Row";/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},al.apply(this,arguments)}var Bi;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Bi||(Bi={}));const lv="popstate";function hw(i){i===void 0&&(i={});function e(r,o){let{pathname:c,search:f,hash:h}=r.location;return Id("",{pathname:c,search:f,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(r,o){return typeof o=="string"?o:Qo(o)}return mw(e,s,null,i)}function $e(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function d0(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pw(){return Math.random().toString(36).substr(2,8)}function ov(i,e){return{usr:i.state,key:i.key,idx:e}}function Id(i,e,s,r){return s===void 0&&(s=null),al({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Hr(e):e,{state:s,key:e&&e.key||r||pw()})}function Qo(i){let{pathname:e="/",search:s="",hash:r=""}=i;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hr(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substr(s),i=i.substr(0,s));let r=i.indexOf("?");r>=0&&(e.search=i.substr(r),i=i.substr(0,r)),i&&(e.pathname=i)}return e}function mw(i,e,s,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:c=!1}=r,f=o.history,h=Bi.Pop,p=null,m=y();m==null&&(m=0,f.replaceState(al({},f.state,{idx:m}),""));function y(){return(f.state||{idx:null}).idx}function E(){h=Bi.Pop;let j=y(),ee=j==null?null:j-m;m=j,p&&p({action:h,location:P.location,delta:ee})}function b(j,ee){h=Bi.Push;let Q=Id(P.location,j,ee);m=y()+1;let Z=ov(Q,m),ce=P.createHref(Q);try{f.pushState(Z,"",ce)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(ce)}c&&p&&p({action:h,location:P.location,delta:1})}function x(j,ee){h=Bi.Replace;let Q=Id(P.location,j,ee);m=y();let Z=ov(Q,m),ce=P.createHref(Q);f.replaceState(Z,"",ce),c&&p&&p({action:h,location:P.location,delta:0})}function U(j){let ee=o.location.origin!=="null"?o.location.origin:o.location.href,Q=typeof j=="string"?j:Qo(j);return Q=Q.replace(/ $/,"%20"),$e(ee,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,ee)}let P={get action(){return h},get location(){return i(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(lv,E),p=j,()=>{o.removeEventListener(lv,E),p=null}},createHref(j){return e(o,j)},createURL:U,encodeLocation(j){let ee=U(j);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:b,replace:x,go(j){return f.go(j)}};return P}var cv;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(cv||(cv={}));function gw(i,e,s){return s===void 0&&(s="/"),_w(i,e,s,!1)}function _w(i,e,s,r){let o=typeof e=="string"?Hr(e):e,c=dh(o.pathname||"/",s);if(c==null)return null;let f=h0(i);vw(f);let h=null;for(let p=0;h==null&&p<f.length;++p){let m=Ow(c);h=Aw(f[p],m,r)}return h}function h0(i,e,s,r){e===void 0&&(e=[]),s===void 0&&(s=[]),r===void 0&&(r="");let o=(c,f,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};p.relativePath.startsWith("/")&&($e(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=Pi([r,p.relativePath]),y=s.concat(p);c.children&&c.children.length>0&&($e(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),h0(c.children,e,y,m)),!(c.path==null&&!c.index)&&e.push({path:m,score:ww(m,c.index),routesMeta:y})};return i.forEach((c,f)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,f);else for(let p of p0(c.path))o(c,f,p)}),e}function p0(i){let e=i.split("/");if(e.length===0)return[];let[s,...r]=e,o=s.endsWith("?"),c=s.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let f=p0(r.join("/")),h=[];return h.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&h.push(...f),h.map(p=>i.startsWith("/")&&p===""?"/":p)}function vw(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:Rw(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const yw=/^:[\w-]+$/,Ew=3,Sw=2,bw=1,Tw=10,Cw=-2,uv=i=>i==="*";function ww(i,e){let s=i.split("/"),r=s.length;return s.some(uv)&&(r+=Cw),e&&(r+=Sw),s.filter(o=>!uv(o)).reduce((o,c)=>o+(yw.test(c)?Ew:c===""?bw:Tw),r)}function Rw(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function Aw(i,e,s){let{routesMeta:r}=i,o={},c="/",f=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,y=c==="/"?e:e.slice(c.length)||"/",E=fv({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),b=p.route;if(!E&&m&&s&&!r[r.length-1].route.index&&(E=fv({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:Pi([c,E.pathname]),pathnameBase:Mw(Pi([c,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(c=Pi([c,E.pathnameBase]))}return f}function fv(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,r]=Nw(i.path,i.caseSensitive,i.end),o=e.match(s);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((m,y,E)=>{let{paramName:b,isOptional:x}=y;if(b==="*"){let P=h[E]||"";f=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const U=h[E];return x&&!U?m[b]=void 0:m[b]=(U||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:f,pattern:i}}function Nw(i,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),d0(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Ow(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return d0(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function dh(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=i.charAt(s);return r&&r!=="/"?null:i.slice(s)||"/"}function Iw(i,e){e===void 0&&(e="/");let{pathname:s,search:r="",hash:o=""}=typeof i=="string"?Hr(i):i;return{pathname:s?s.startsWith("/")?s:Dw(s,e):e,search:kw(r),hash:Lw(o)}}function Dw(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function ad(i,e,s,r){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xw(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function m0(i,e){let s=xw(i);return e?s.map((r,o)=>o===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function g0(i,e,s,r){r===void 0&&(r=!1);let o;typeof i=="string"?o=Hr(i):(o=al({},i),$e(!o.pathname||!o.pathname.includes("?"),ad("?","pathname","search",o)),$e(!o.pathname||!o.pathname.includes("#"),ad("#","pathname","hash",o)),$e(!o.search||!o.search.includes("#"),ad("#","search","hash",o)));let c=i===""||o.pathname==="",f=c?"/":o.pathname,h;if(f==null)h=s;else{let E=e.length-1;if(!r&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),E-=1;o.pathname=b.join("/")}h=E>=0?e[E]:"/"}let p=Iw(o,h),m=f&&f!=="/"&&f.endsWith("/"),y=(c||f===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}const Pi=i=>i.join("/").replace(/\/\/+/g,"/"),Mw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),kw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Lw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Uw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const _0=["post","put","patch","delete"];new Set(_0);const jw=["get",..._0];new Set(jw);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},ll.apply(this,arguments)}const hh=T.createContext(null),Hw=T.createContext(null),xs=T.createContext(null),bc=T.createContext(null),Yi=T.createContext({outlet:null,matches:[],isDataRoute:!1}),v0=T.createContext(null);function zw(i,e){let{relative:s}=e===void 0?{}:e;gl()||$e(!1);let{basename:r,navigator:o}=T.useContext(xs),{hash:c,pathname:f,search:h}=E0(i,{relative:s}),p=f;return r!=="/"&&(p=f==="/"?r:Pi([r,f])),o.createHref({pathname:p,search:h,hash:c})}function gl(){return T.useContext(bc)!=null}function _l(){return gl()||$e(!1),T.useContext(bc).location}function y0(i){T.useContext(xs).static||T.useLayoutEffect(i)}function Tc(){let{isDataRoute:i}=T.useContext(Yi);return i?Jw():Bw()}function Bw(){gl()||$e(!1);let i=T.useContext(hh),{basename:e,future:s,navigator:r}=T.useContext(xs),{matches:o}=T.useContext(Yi),{pathname:c}=_l(),f=JSON.stringify(m0(o,s.v7_relativeSplatPath)),h=T.useRef(!1);return y0(()=>{h.current=!0}),T.useCallback(function(m,y){if(y===void 0&&(y={}),!h.current)return;if(typeof m=="number"){r.go(m);return}let E=g0(m,JSON.parse(f),c,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Pi([e,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[e,r,f,c,i])}function Pw(){let{matches:i}=T.useContext(Yi),e=i[i.length-1];return e?e.params:{}}function E0(i,e){let{relative:s}=e===void 0?{}:e,{future:r}=T.useContext(xs),{matches:o}=T.useContext(Yi),{pathname:c}=_l(),f=JSON.stringify(m0(o,r.v7_relativeSplatPath));return T.useMemo(()=>g0(i,JSON.parse(f),c,s==="path"),[i,f,c,s])}function qw(i,e){return Vw(i,e)}function Vw(i,e,s,r){gl()||$e(!1);let{navigator:o}=T.useContext(xs),{matches:c}=T.useContext(Yi),f=c[c.length-1],h=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let m=_l(),y;if(e){var E;let j=typeof e=="string"?Hr(e):e;p==="/"||(E=j.pathname)!=null&&E.startsWith(p)||$e(!1),y=j}else y=m;let b=y.pathname||"/",x=b;if(p!=="/"){let j=p.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let U=gw(i,{pathname:x}),P=Ww(U&&U.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Pi([p,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Pi([p,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,s,r);return e&&P?T.createElement(bc.Provider,{value:{location:ll({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Bi.Pop}},P):P}function Gw(){let i=Zw(),e=Uw(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),s?T.createElement("pre",{style:o},s):null,null)}const Fw=T.createElement(Gw,null);class Yw extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?T.createElement(Yi.Provider,{value:this.props.routeContext},T.createElement(v0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kw(i){let{routeContext:e,match:s,children:r}=i,o=T.useContext(hh);return o&&o.static&&o.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=s.route.id),T.createElement(Yi.Provider,{value:e},r)}function Ww(i,e,s,r){var o;if(e===void 0&&(e=[]),s===void 0&&(s=null),r===void 0&&(r=null),i==null){var c;if(!s)return null;if(s.errors)i=s.matches;else if((c=r)!=null&&c.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let f=i,h=(o=s)==null?void 0:o.errors;if(h!=null){let y=f.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);y>=0||$e(!1),f=f.slice(0,Math.min(f.length,y+1))}let p=!1,m=-1;if(s&&r&&r.v7_partialHydration)for(let y=0;y<f.length;y++){let E=f[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=y),E.route.id){let{loaderData:b,errors:x}=s,U=E.route.loader&&b[E.route.id]===void 0&&(!x||x[E.route.id]===void 0);if(E.route.lazy||U){p=!0,m>=0?f=f.slice(0,m+1):f=[f[0]];break}}}return f.reduceRight((y,E,b)=>{let x,U=!1,P=null,j=null;s&&(x=h&&E.route.id?h[E.route.id]:void 0,P=E.route.errorElement||Fw,p&&(m<0&&b===0?(U=!0,j=null):m===b&&(U=!0,j=E.route.hydrateFallbackElement||null)));let ee=e.concat(f.slice(0,b+1)),Q=()=>{let Z;return x?Z=P:U?Z=j:E.route.Component?Z=T.createElement(E.route.Component,null):E.route.element?Z=E.route.element:Z=y,T.createElement(Kw,{match:E,routeContext:{outlet:y,matches:ee,isDataRoute:s!=null},children:Z})};return s&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?T.createElement(Yw,{location:s.location,revalidation:s.revalidation,component:P,error:x,children:Q(),routeContext:{outlet:null,matches:ee,isDataRoute:!0}}):Q()},null)}var S0=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(S0||{}),Zo=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(Zo||{});function $w(i){let e=T.useContext(hh);return e||$e(!1),e}function Xw(i){let e=T.useContext(Hw);return e||$e(!1),e}function Qw(i){let e=T.useContext(Yi);return e||$e(!1),e}function b0(i){let e=Qw(),s=e.matches[e.matches.length-1];return s.route.id||$e(!1),s.route.id}function Zw(){var i;let e=T.useContext(v0),s=Xw(Zo.UseRouteError),r=b0(Zo.UseRouteError);return e!==void 0?e:(i=s.errors)==null?void 0:i[r]}function Jw(){let{router:i}=$w(S0.UseNavigateStable),e=b0(Zo.UseNavigateStable),s=T.useRef(!1);return y0(()=>{s.current=!0}),T.useCallback(function(o,c){c===void 0&&(c={}),s.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,ll({fromRouteId:e},c)))},[i,e])}const dv={};function eR(i,e){dv[e]||(dv[e]=!0,console.warn(e))}const hv=(i,e,s)=>eR(i,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+i+"` future flag to opt-in early. ")+("For more information, see "+s+"."));function tR(i,e){i!=null&&i.v7_startTransition||hv("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(i!=null&&i.v7_relativeSplatPath)&&!e&&hv("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function $n(i){$e(!1)}function nR(i){let{basename:e="/",children:s=null,location:r,navigationType:o=Bi.Pop,navigator:c,static:f=!1,future:h}=i;gl()&&$e(!1);let p=e.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:p,navigator:c,static:f,future:ll({v7_relativeSplatPath:!1},h)}),[p,h,c,f]);typeof r=="string"&&(r=Hr(r));let{pathname:y="/",search:E="",hash:b="",state:x=null,key:U="default"}=r,P=T.useMemo(()=>{let j=dh(y,p);return j==null?null:{location:{pathname:j,search:E,hash:b,state:x,key:U},navigationType:o}},[p,y,E,b,x,U,o]);return P==null?null:T.createElement(xs.Provider,{value:m},T.createElement(bc.Provider,{children:s,value:P}))}function iR(i){let{children:e,location:s}=i;return qw(Dd(e),s)}new Promise(()=>{});function Dd(i,e){e===void 0&&(e=[]);let s=[];return T.Children.forEach(i,(r,o)=>{if(!T.isValidElement(r))return;let c=[...e,o];if(r.type===T.Fragment){s.push.apply(s,Dd(r.props.children,c));return}r.type!==$n&&$e(!1),!r.props.index||!r.props.children||$e(!1);let f={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=Dd(r.props.children,c)),s.push(f)}),s}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},xd.apply(this,arguments)}function sR(i,e){if(i==null)return{};var s={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(s[o]=i[o]);return s}function rR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function aR(i,e){return i.button===0&&(!e||e==="_self")&&!rR(i)}const lR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oR="6";try{window.__reactRouterVersion=oR}catch{}const cR="startTransition",pv=IT[cR];function uR(i){let{basename:e,children:s,future:r,window:o}=i,c=T.useRef();c.current==null&&(c.current=hw({window:o,v5Compat:!0}));let f=c.current,[h,p]=T.useState({action:f.action,location:f.location}),{v7_startTransition:m}=r||{},y=T.useCallback(E=>{m&&pv?pv(()=>p(E)):p(E)},[p,m]);return T.useLayoutEffect(()=>f.listen(y),[f,y]),T.useEffect(()=>tR(r),[r]),T.createElement(nR,{basename:e,children:s,location:h.location,navigationType:h.action,navigator:f,future:r})}const fR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ut=T.forwardRef(function(e,s){let{onClick:r,relative:o,reloadDocument:c,replace:f,state:h,target:p,to:m,preventScrollReset:y,viewTransition:E}=e,b=sR(e,lR),{basename:x}=T.useContext(xs),U,P=!1;if(typeof m=="string"&&dR.test(m)&&(U=m,fR))try{let Z=new URL(window.location.href),ce=m.startsWith("//")?new URL(Z.protocol+m):new URL(m),$=dh(ce.pathname,x);ce.origin===Z.origin&&$!=null?m=$+ce.search+ce.hash:P=!0}catch{}let j=zw(m,{relative:o}),ee=hR(m,{replace:f,state:h,target:p,preventScrollReset:y,relative:o,viewTransition:E});function Q(Z){r&&r(Z),Z.defaultPrevented||ee(Z)}return T.createElement("a",xd({},b,{href:U||j,onClick:P||c?r:Q,ref:s,target:p}))});var mv;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(mv||(mv={}));var gv;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(gv||(gv={}));function hR(i,e){let{target:s,replace:r,state:o,preventScrollReset:c,relative:f,viewTransition:h}=e===void 0?{}:e,p=Tc(),m=_l(),y=E0(i,{relative:f});return T.useCallback(E=>{if(aR(E,s)){E.preventDefault();let b=r!==void 0?r:Qo(m)===Qo(y);p(i,{replace:b,state:o,preventScrollReset:c,relative:f,viewTransition:h})}},[m,p,y,r,o,s,i,c,f,h])}const pR=({user:i,onLogout:e})=>{const[s,r]=T.useState(!1),o=()=>{r(!s)},c=()=>{r(!1)},f=h=>{h.target.classList.contains("blur-background")&&r(!1)};return v.jsxs("div",{className:"burger_menu",children:[v.jsx("button",{id:"burger__btn",type:"button",onClick:o,children:v.jsx("span",{id:"burgerSpan",className:s?"btn-open-animation":""})}),v.jsx("aside",{className:`burger__container ${s?"open":""}`,children:v.jsx("div",{className:"burger__content",children:v.jsx("nav",{className:"burger__nav",children:v.jsxs("ol",{className:"burgerMenu_list",children:[v.jsx(ut,{to:"/",onClick:c,children:v.jsx("li",{children:"Главная"})}),v.jsx(ut,{to:"/aboutus",onClick:c,children:v.jsx("li",{children:"О нас"})}),v.jsx(ut,{to:"/cards",onClick:c,children:v.jsx("li",{children:"Каталог"})}),v.jsx(ut,{to:"/cart",onClick:c,children:v.jsx("li",{children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30",height:"30",fill:"rgba(122,135,108,1)",children:v.jsx("path",{d:"M12.0049 2C15.3186 2 18.0049 4.68629 18.0049 8V9H22.0049V11H20.8379L20.0813 20.083C20.0381 20.6013 19.6048 21 19.0847 21H4.92502C4.40493 21 3.97166 20.6013 3.92847 20.083L3.17088 11H2.00488V9H6.00488V8C6.00488 4.68629 8.69117 2 12.0049 2ZM13.0049 13H11.0049V17H13.0049V13ZM9.00488 13H7.00488V17H9.00488V13ZM17.0049 13H15.0049V17H17.0049V13ZM12.0049 4C9.86269 4 8.1138 5.68397 8.00978 7.80036L8.00488 8V9H16.0049V8C16.0049 5.8578 14.3209 4.10892 12.2045 4.0049L12.0049 4Z"})})})}),i?v.jsx(ut,{to:`/user/${i.uid}`,onClick:c,children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30",height:"30",fill:"rgba(255,254,254,1)",children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[v.jsx("stop",{offset:"0%",style:{stopColor:"rgb(6, 193, 252)",stopOpacity:1}}),v.jsx("stop",{offset:"33%",style:{stopColor:"rgb(172, 66, 255)",stopOpacity:1}}),v.jsx("stop",{offset:"57%",style:{stopColor:"rgb(255, 0, 214)",stopOpacity:1}}),v.jsx("stop",{offset:"90%",style:{stopColor:"rgb(255, 0, 61)",stopOpacity:1}})]})}),v.jsx("path",{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z",fill:"#7a876c"})]})}):v.jsx(ut,{to:"/reg",onClick:c,children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30",height:"30",fill:"rgba(255,254,254,1)",children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[v.jsx("stop",{offset:"0%",style:{stopColor:"rgb(6, 193, 252)",stopOpacity:1}}),v.jsx("stop",{offset:"33%",style:{stopColor:"rgb(172, 66, 255)",stopOpacity:1}}),v.jsx("stop",{offset:"57%",style:{stopColor:"rgb(255, 0, 214)",stopOpacity:1}}),v.jsx("stop",{offset:"90%",style:{stopColor:"rgb(255, 0, 61)",stopOpacity:1}})]})}),v.jsx("path",{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z",fill:"#7a876c"})]})}),i&&v.jsx("li",{onClick:e,className:"burgerMenu__logout",children:"Выйти"})]})})})}),v.jsx("div",{className:`blur-background ${s?"show":""}`,onClick:f})]})};var _v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(i,e){if(!i)throw zr(e)},zr=function(i){return new Error("Firebase Database ("+T0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},mR=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[s++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[s++],f=i[s++],h=i[s++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const c=i[s++],f=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ph={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],f=o+1<i.length,h=f?i[o+1]:0,p=o+2<i.length,m=p?i[o+2]:0,y=c>>2,E=(c&3)<<4|h>>4;let b=(h&15)<<2|m>>6,x=m&63;p||(x=64,f||(b=64)),r.push(s[y],s[E],s[b],s[x])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(C0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):mR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=s[i.charAt(o++)],h=o<i.length?s[i.charAt(o)]:0;++o;const m=o<i.length?s[i.charAt(o)]:64;++o;const E=o<i.length?s[i.charAt(o)]:64;if(++o,c==null||h==null||m==null||E==null)throw new gR;const b=c<<2|h>>4;if(r.push(b),m!==64){const x=h<<4&240|m>>2;if(r.push(x),E!==64){const U=m<<6&192|E;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class gR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w0=function(i){const e=C0(i);return ph.encodeByteArray(e,!0)},Jo=function(i){return w0(i).replace(/\./g,"")},ec=function(i){try{return ph.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(i){return R0(void 0,i)}function R0(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!vR(s)||(i[s]=R0(i[s],e[s]));return i}function vR(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=()=>yR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof _v>"u")return;const i=_v.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},bR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ec(i[1]);return e&&JSON.parse(e)},mh=()=>{try{return ER()||SR()||bR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},A0=i=>{var e,s;return(s=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[i]},TR=i=>{const e=A0(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},N0=()=>{var i;return(i=mh())===null||i===void 0?void 0:i.config},O0=i=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Jo(JSON.stringify(s)),Jo(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _h(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function wR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I0(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function D0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RR(){const i=Tt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function x0(){return T0.NODE_ADMIN===!0}function M0(){try{return typeof indexedDB=="object"}catch{return!1}}function k0(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(s){e(s)}})}function AR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="FirebaseError";class On extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=NR,Object.setPrototypeOf(this,On.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ms.prototype.create)}}class Ms{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?OR(c,r):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new On(o,h,r)}}function OR(i,e){return i.replace(IR,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const IR=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(i){return JSON.parse(i)}function ft(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(i){let e={},s={},r={},o="";try{const c=i.split(".");e=ol(ec(c[0])||""),s=ol(ec(c[1])||""),o=c[2],r=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:r,signature:o}},DR=function(i){const e=L0(i),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},xR=function(i){const e=L0(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Mr(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function Md(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function tc(i,e,s){const r={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=e.call(s,i[o],o,i));return r}function cl(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const c=i[o],f=e[o];if(vv(c)&&vv(f)){if(!cl(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function vv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Za(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ja(i){const e=i.indexOf("?");if(!e)return"";const s=i.indexOf("#",e);return i.substring(e,s>0?s:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const r=this.W_;if(typeof e=="string")for(let E=0;E<16;E++)r[E]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let E=0;E<16;E++)r[E]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let E=16;E<80;E++){const b=r[E-3]^r[E-8]^r[E-14]^r[E-16];r[E]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],p=this.chain_[4],m,y;for(let E=0;E<80;E++){E<40?E<20?(m=h^c&(f^h),y=1518500249):(m=c^f^h,y=1859775393):E<60?(m=c&f|h&(c|f),y=2400959708):(m=c^f^h,y=3395469782);const b=(o<<5|o>>>27)+m+p+y+r[E]&4294967295;p=h,h=f,f=(c<<30|c>>>2)&4294967295,c=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const r=s-this.blockSize;let o=0;const c=this.buf_;let f=this.inbuf_;for(;o<s;){if(f===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<s;)if(c[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}else for(;o<s;)if(c[f]=e[o],++f,++o,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[o]>>c&255,++r;return e}}function kR(i,e){const s=new LR(i,e);return s.subscribe.bind(s)}class LR{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");UR(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=ld),o.error===void 0&&(o.error=ld),o.complete===void 0&&(o.complete=ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UR(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function ld(){}function jR(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,B(r<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(r)-56320;o=65536+(c<<10)+f}o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):o<65536?(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},Cc=function(i){let e=0;for(let s=0;s<i.length;s++){const r=i.charCodeAt(s);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,s++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1e3,BR=2,PR=4*60*60*1e3,qR=.5;function yv(i,e=zR,s=BR){const r=e*Math.pow(s,i),o=Math.round(qR*r*(Math.random()-.5)*2);return Math.min(PR,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(i){return i&&i._delegate?i._delegate:i}class mn{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new gh;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&f.resolve(o)}return o}onInit(e,s){var r;const o=this.normalizeInstanceIdentifier(s),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GR(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(i){return i===vs?void 0:i}function FR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new VR(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ae||(Ae={}));const KR={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},WR=Ae.INFO,$R={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},XR=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=$R[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wc{constructor(e){this.name=e,this._logLevel=WR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const QR=(i,e)=>e.some(s=>i instanceof s);let Ev,Sv;function ZR(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JR(){return Sv||(Sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U0=new WeakMap,kd=new WeakMap,j0=new WeakMap,od=new WeakMap,vh=new WeakMap;function eA(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{s(qi(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&U0.set(s,i)}).catch(()=>{}),vh.set(e,i),e}function tA(i){if(kd.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{s(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});kd.set(i,e)}let Ld={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return kd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||j0.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return qi(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function nA(i){Ld=i(Ld)}function iA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(cd(this),e,...s);return j0.set(r,e.sort?e.sort():[e]),qi(r)}:JR().includes(i)?function(...e){return i.apply(cd(this),e),qi(U0.get(this))}:function(...e){return qi(i.apply(cd(this),e))}}function sA(i){return typeof i=="function"?iA(i):(i instanceof IDBTransaction&&tA(i),QR(i,ZR())?new Proxy(i,Ld):i)}function qi(i){if(i instanceof IDBRequest)return eA(i);if(od.has(i))return od.get(i);const e=sA(i);return e!==i&&(od.set(i,e),vh.set(e,i)),e}const cd=i=>vh.get(i);function H0(i,e,{blocked:s,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(i,e),h=qi(f);return r&&f.addEventListener("upgradeneeded",p=>{r(qi(f.result),p.oldVersion,p.newVersion,qi(f.transaction),p)}),s&&f.addEventListener("blocked",p=>s(p.oldVersion,p.newVersion,p)),h.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const rA=["get","getKey","getAll","getAllKeys","count"],aA=["put","add","delete","clear"],ud=new Map;function bv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(ud.get(e))return ud.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=aA.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||rA.includes(s)))return;const c=async function(f,...h){const p=this.transaction(f,o?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[s](...h),o&&p.done]))[0]};return ud.set(e,c),c}nA(i=>({...i,get:(e,s,r)=>bv(e,s)||i.get(e,s,r),has:(e,s)=>!!bv(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(oA(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function oA(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ud="@firebase/app",Tv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new wc("@firebase/app"),cA="@firebase/app-compat",uA="@firebase/analytics-compat",fA="@firebase/analytics",dA="@firebase/app-check-compat",hA="@firebase/app-check",pA="@firebase/auth",mA="@firebase/auth-compat",gA="@firebase/database",_A="@firebase/data-connect",vA="@firebase/database-compat",yA="@firebase/functions",EA="@firebase/functions-compat",SA="@firebase/installations",bA="@firebase/installations-compat",TA="@firebase/messaging",CA="@firebase/messaging-compat",wA="@firebase/performance",RA="@firebase/performance-compat",AA="@firebase/remote-config",NA="@firebase/remote-config-compat",OA="@firebase/storage",IA="@firebase/storage-compat",DA="@firebase/firestore",xA="@firebase/vertexai",MA="@firebase/firestore-compat",kA="firebase",LA="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="[DEFAULT]",UA={[Ud]:"fire-core",[cA]:"fire-core-compat",[fA]:"fire-analytics",[uA]:"fire-analytics-compat",[hA]:"fire-app-check",[dA]:"fire-app-check-compat",[pA]:"fire-auth",[mA]:"fire-auth-compat",[gA]:"fire-rtdb",[_A]:"fire-data-connect",[vA]:"fire-rtdb-compat",[yA]:"fire-fn",[EA]:"fire-fn-compat",[SA]:"fire-iid",[bA]:"fire-iid-compat",[TA]:"fire-fcm",[CA]:"fire-fcm-compat",[wA]:"fire-perf",[RA]:"fire-perf-compat",[AA]:"fire-rc",[NA]:"fire-rc-compat",[OA]:"fire-gcs",[IA]:"fire-gcs-compat",[DA]:"fire-fst",[MA]:"fire-fst-compat",[xA]:"fire-vertex","fire-js":"fire-js",[kA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Map,jA=new Map,Hd=new Map;function Cv(i,e){try{i.container.addComponent(e)}catch(s){si.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function An(i){const e=i.name;if(Hd.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Hd.set(e,i);for(const s of nc.values())Cv(s,i);for(const s of jA.values())Cv(s,i);return!0}function ks(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function Tn(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Ms("app","Firebase",HA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,s,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=LA;function z0(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jd,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Vi.create("bad-app-name",{appName:String(o)});if(s||(s=N0()),!s)throw Vi.create("no-options");const c=nc.get(o);if(c){if(cl(s,c.options)&&cl(r,c.config))return c;throw Vi.create("duplicate-app",{appName:o})}const f=new YR(o);for(const p of Hd.values())f.addComponent(p);const h=new zA(s,r,f);return nc.set(o,h),h}function yh(i=jd){const e=nc.get(i);if(!e&&i===jd&&N0())return z0();if(!e)throw Vi.create("no-app",{appName:i});return e}function sn(i,e,s){var r;let o=(r=UA[i])!==null&&r!==void 0?r:i;s&&(o+=`-${s}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const h=[`Unable to register library "${o}" with version "${e}":`];c&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(h.join(" "));return}An(new mn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebase-heartbeat-database",PA=1,ul="firebase-heartbeat-store";let fd=null;function B0(){return fd||(fd=H0(BA,PA,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ul)}catch(s){console.warn(s)}}}}).catch(i=>{throw Vi.create("idb-open",{originalErrorMessage:i.message})})),fd}async function qA(i){try{const s=(await B0()).transaction(ul),r=await s.objectStore(ul).get(P0(i));return await s.done,r}catch(e){if(e instanceof On)si.warn(e.message);else{const s=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(s.message)}}}async function wv(i,e){try{const r=(await B0()).transaction(ul,"readwrite");await r.objectStore(ul).put(e,P0(i)),await r.done}catch(s){if(s instanceof On)si.warn(s.message);else{const r=Vi.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});si.warn(r.message)}}}function P0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=1024,GA=30*24*60*60*1e3;class FA{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new KA(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Rv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const h=new Date(f.date).valueOf();return Date.now()-h<=GA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Rv(),{heartbeatsToSend:r,unsentEntries:o}=YA(this._heartbeatsCache.heartbeats),c=Jo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(s){return si.warn(s),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function YA(i,e=VA){const s=[];let r=i.slice();for(const o of i){const c=s.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),Av(s)>e){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Av(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class KA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M0()?k0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await qA(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Av(i){return Jo(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(i){An(new mn("platform-logger",e=>new lA(e),"PRIVATE")),An(new mn("heartbeat",e=>new FA(e),"PRIVATE")),sn(Ud,Tv,i),sn(Ud,Tv,"esm2017"),sn("fire-js","")}WA("");var $A="firebase",XA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn($A,XA,"app");function Eh(i,e){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(s[r[o]]=i[r[o]]);return s}function q0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QA=q0,V0=new Ms("auth","Firebase",q0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new wc("@firebase/auth");function ZA(i,...e){ic.logLevel<=Ae.WARN&&ic.warn(`Auth (${Pr}): ${i}`,...e)}function Vo(i,...e){ic.logLevel<=Ae.ERROR&&ic.error(`Auth (${Pr}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(i,...e){throw Sh(i,...e)}function wn(i,...e){return Sh(i,...e)}function G0(i,e,s){const r=Object.assign(Object.assign({},QA()),{[e]:s});return new Ms("auth","Firebase",r).create(e,{appName:i.name})}function ti(i){return G0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sh(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return V0.create(i,...e)}function te(i,e,...s){if(!i)throw Sh(e,...s)}function Xn(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vo(e),new Error(e)}function ri(i,e){i||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function JA(){return Nv()==="http:"||Nv()==="https:"}function Nv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JA()||I0()||"connection"in navigator)?navigator.onLine:!0}function tN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,s){this.shortDelay=e,this.longDelay=s,ri(s>e,"Short delay should be less than long delay!"),this.isMobile=_h()||D0()}get(){return eN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(i,e){ri(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new vl(3e4,6e4);function Ki(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ci(i,e,s,r,o={}){return Y0(i,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const h=Br(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:p},c);return wR()||(m.referrerPolicy="no-referrer"),F0.fetch()(K0(i,i.config.apiHost,s,h),m)})}async function Y0(i,e,s){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},nN),e);try{const o=new rN(i),c=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Bo(i,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const h=c.ok?f.errorMessage:f.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bo(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bo(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bo(i,"user-disabled",f);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw G0(i,y,m);gn(i,y)}}catch(o){if(o instanceof On)throw o;gn(i,"network-request-failed",{message:String(o)})}}async function yl(i,e,s,r,o={}){const c=await ci(i,e,s,r,o);return"mfaPendingCredential"in c&&gn(i,"multi-factor-auth-required",{_serverResponse:c}),c}function K0(i,e,s,r){const o=`${e}${s}?${r}`;return i.config.emulator?bh(i.config,o):`${i.config.apiScheme}://${o}`}function sN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),iN.get())})}}function Bo(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=wn(i,e,r);return o.customData._tokenResponse=s,o}function Ov(i){return i!==void 0&&i.enterprise!==void 0}class aN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return sN(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lN(i,e){return ci(i,"GET","/v2/recaptchaConfig",Ki(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(i,e){return ci(i,"POST","/v1/accounts:delete",e)}async function W0(i,e){return ci(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cN(i,e=!1){const s=xt(i),r=await s.getIdToken(e),o=Th(r);te(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:el(dd(o.auth_time)),issuedAtTime:el(dd(o.iat)),expirationTime:el(dd(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function dd(i){return Number(i)*1e3}function Th(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return Vo("JWT malformed, contained fewer than 3 sections"),null;try{const o=ec(s);return o?JSON.parse(o):(Vo("Failed to decode base64 JWT payload"),null)}catch(o){return Vo("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Iv(i){const e=Th(i);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kr(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof On&&uN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function uN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(i){var e;const s=i.auth,r=await i.getIdToken(),o=await kr(i,W0(s,{idToken:r}));te(o==null?void 0:o.users.length,s,"internal-error");const c=o.users[0];i._notifyReloadListener(c);const f=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?$0(c.providerUserInfo):[],h=hN(i.providerData,f),p=i.isAnonymous,m=!(i.email&&c.passwordHash)&&!(h!=null&&h.length),y=p?m:!1,E={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new Bd(c.createdAt,c.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function dN(i){const e=xt(i);await sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hN(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function $0(i){return i.map(e=>{var{providerId:s}=e,r=Eh(e,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(i,e){const s=await Y0(i,{},async()=>{const r=Br({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,f=K0(i,o,"/v1/token",`key=${c}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",F0.fetch()(f,{method:"POST",headers:h,body:r})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function mN(i,e){return ci(i,"POST","/v2/accounts:revokeToken",Ki(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){te(e.length!==0,"internal-error");const s=Iv(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:c}=await pN(e,s);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:c}=s,f=new Nr;return r&&(te(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(te(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nr,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(i,e){te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:s,auth:r,stsTokenManager:o}=e,c=Eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Bd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const s=await kr(this,this.stsTokenManager.getToken(this.auth,e));return te(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return cN(this,e)}reload(){return dN(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await sc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tn(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await kr(this,oN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var r,o,c,f,h,p,m,y;const E=(r=s.displayName)!==null&&r!==void 0?r:void 0,b=(o=s.email)!==null&&o!==void 0?o:void 0,x=(c=s.phoneNumber)!==null&&c!==void 0?c:void 0,U=(f=s.photoURL)!==null&&f!==void 0?f:void 0,P=(h=s.tenantId)!==null&&h!==void 0?h:void 0,j=(p=s._redirectEventId)!==null&&p!==void 0?p:void 0,ee=(m=s.createdAt)!==null&&m!==void 0?m:void 0,Q=(y=s.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Z,emailVerified:ce,isAnonymous:$,providerData:ve,stsTokenManager:ze}=s;te(Z&&ze,e,"internal-error");const dt=Nr.fromJSON(this.name,ze);te(typeof Z=="string",e,"internal-error"),Mi(E,e.name),Mi(b,e.name),te(typeof ce=="boolean",e,"internal-error"),te(typeof $=="boolean",e,"internal-error"),Mi(x,e.name),Mi(U,e.name),Mi(P,e.name),Mi(j,e.name),Mi(ee,e.name),Mi(Q,e.name);const Y=new Qn({uid:Z,auth:e,email:b,emailVerified:ce,displayName:E,isAnonymous:$,photoURL:U,phoneNumber:x,tenantId:P,stsTokenManager:dt,createdAt:ee,lastLoginAt:Q});return ve&&Array.isArray(ve)&&(Y.providerData=ve.map(ae=>Object.assign({},ae))),j&&(Y._redirectEventId=j),Y}static async _fromIdTokenResponse(e,s,r=!1){const o=new Nr;o.updateFromServerResponse(s);const c=new Qn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await sc(c),c}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?$0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),h=new Nr;h.updateFromIdToken(r);const p=new Qn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:f}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Bd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=new Map;function Zn(i){ri(i instanceof Function,"Expected a class definition");let e=Dv.get(i);return e?(ri(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Dv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}X0.type="NONE";const xv=X0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(i,e,s){return`firebase:${i}:${e}:${s}`}class Or{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Go(this.userKey,o.apiKey,c),this.fullPersistenceKey=Go("persistence",o.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Or(Zn(xv),e,r);const o=(await Promise.all(s.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||Zn(xv);const f=Go(r,e.config.apiKey,e.name);let h=null;for(const m of s)try{const y=await m._get(f);if(y){const E=Qn._fromJSON(e,y);m!==c&&(h=E),c=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Or(c,e,r):(c=p[0],h&&await c._set(f,h.toJSON()),await Promise.all(s.map(async m=>{if(m!==c)try{await m._remove(f)}catch{}})),new Or(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nE(e))return"Blackberry";if(iE(e))return"Webos";if(Z0(e))return"Safari";if((e.includes("chrome/")||J0(e))&&!e.includes("edge/"))return"Chrome";if(tE(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q0(i=Tt()){return/firefox\//i.test(i)}function Z0(i=Tt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function J0(i=Tt()){return/crios\//i.test(i)}function eE(i=Tt()){return/iemobile/i.test(i)}function tE(i=Tt()){return/android/i.test(i)}function nE(i=Tt()){return/blackberry/i.test(i)}function iE(i=Tt()){return/webos/i.test(i)}function Ch(i=Tt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function gN(i=Tt()){var e;return Ch(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _N(){return RR()&&document.documentMode===10}function sE(i=Tt()){return Ch(i)||tE(i)||iE(i)||nE(i)||/windows phone/i.test(i)||eE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(i,e=[]){let s;switch(i){case"Browser":s=Mv(Tt());break;case"Worker":s=`${Mv(Tt())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${Pr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=c=>new Promise((f,h)=>{try{const p=e(c);f(p)}catch(p){h(p)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yN(i,e={}){return ci(i,"GET","/v2/passwordPolicy",Ki(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=6;class SN{constructor(e){var s,r,o,c;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=f.minPasswordLength)!==null&&s!==void 0?s:EN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,r,o,c,f,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(s=p.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new vN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Zn(s)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Or.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await W0(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Tn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,h=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===h)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await sc(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tn(this.app))return Promise.reject(ti(this));const s=e?xt(e):null;return s&&te(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tn(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tn(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yN(this),s=new SN(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ms("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await mN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Zn(e)||this._popupRedirectResolver;te(s,this,"argument-error"),this.redirectPersistenceManager=await Or.create(this,[Zn(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(h,this,"internal-error"),h.then(()=>{f||c(this.currentUser)}),typeof s=="function"){const p=e.addObserver(s,r,o);return()=>{f=!0,p()}}else{const p=e.addObserver(s);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(s["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(s["X-Firebase-AppCheck"]=o),s}async _getAppCheckToken(){var e;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&ZA(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Ls(i){return xt(i)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=kR(s=>this.observer=s)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TN(i){Rc=i}function aE(i){return Rc.loadJS(i)}function CN(){return Rc.recaptchaEnterpriseScript}function wN(){return Rc.gapiScript}function RN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class AN{constructor(){this.enterprise=new NN}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class NN{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const ON="recaptcha-enterprise",lE="NO_RECAPTCHA";class IN{constructor(e){this.type=ON,this.auth=Ls(e)}async verify(e="verify",s=!1){async function r(c){if(!s){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,h)=>{lN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new aN(p);return c.tenantId==null?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,f(m.siteKey)}}).catch(p=>{h(p)})})}function o(c,f,h){const p=window.grecaptcha;Ov(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(m=>{f(m)}).catch(()=>{f(lE)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AN().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{r(this.auth).then(h=>{if(!s&&Ov(window.grecaptcha))o(h,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=CN();p.length!==0&&(p+=h),aE(p).then(()=>{o(h,c,f)}).catch(m=>{f(m)})}}).catch(h=>{f(h)})})}}async function Lv(i,e,s,r=!1,o=!1){const c=new IN(i);let f;if(o)f=lE;else try{f=await c.verify(s)}catch{f=await c.verify(s,!0)}const h=Object.assign({},e);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Pd(i,e,s,r,o){var c;if(!((c=i._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Lv(i,e,s,s==="getOobCode");return r(i,f)}else return r(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Lv(i,e,s,s==="getOobCode");return r(i,h)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(i,e){const s=ks(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),c=s.getOptions();if(cl(c,e??{}))return o;gn(o,"already-initialized")}return s.initialize({options:e})}function xN(i,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Zn);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MN(i,e,s){const r=Ls(i);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=oE(e),{host:f,port:h}=kN(e),p=h===null?"":`:${h}`;r.config.emulator={url:`${c}//${f}${p}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:f,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),LN()}function oE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function kN(i){const e=oE(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Uv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Uv(f)}}}function Uv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function LN(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,s){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function UN(i,e){return ci(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(i,e){return yl(i,"POST","/v1/accounts:signInWithPassword",Ki(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(i,e){return yl(i,"POST","/v1/accounts:signInWithEmailLink",Ki(i,e))}async function zN(i,e){return yl(i,"POST","/v1/accounts:signInWithEmailLink",Ki(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends wh{constructor(e,s,r,o=null){super("password",r),this._email=e,this._password=s,this._tenantId=o}static _fromEmailAndPassword(e,s){return new fl(e,s,"password")}static _fromEmailAndCode(e,s,r=null){return new fl(e,s,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,s,"signInWithPassword",jN);case"emailLink":return HN(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const r={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pd(e,r,"signUpPassword",UN);case"emailLink":return zN(e,{idToken:s,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ir(i,e){return yl(i,"POST","/v1/accounts:signInWithIdp",Ki(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="http://localhost";class ws extends wh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):gn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=s,c=Eh(s,["providerId","signInMethod"]);if(!r||!o)return null;const f=new ws(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const s=this.buildRequest();return Ir(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Ir(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Ir(e,s)}buildRequest(){const e={requestUri:BN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=Br(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qN(i){const e=Za(Ja(i)).link,s=e?Za(Ja(e)).deep_link_id:null,r=Za(Ja(i)).deep_link_id;return(r?Za(Ja(r)).link:null)||r||s||e||i}class Rh{constructor(e){var s,r,o,c,f,h;const p=Za(Ja(e)),m=(s=p.apiKey)!==null&&s!==void 0?s:null,y=(r=p.oobCode)!==null&&r!==void 0?r:null,E=PN((o=p.mode)!==null&&o!==void 0?o:null);te(m&&y&&E,"argument-error"),this.apiKey=m,this.operation=E,this.code=y,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const s=qN(e);try{return new Rh(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.providerId=qr.PROVIDER_ID}static credential(e,s){return fl._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const r=Rh.parseLink(s);return te(r,"argument-error"),fl._fromEmailAndCode(e,r.code,r.tenantId)}}qr.PROVIDER_ID="password";qr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends El{constructor(){super("facebook.com")}static credential(e){return ws._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends El{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return ws._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Ui.credential(s,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends El{constructor(){super("github.com")}static credential(e){return ws._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends El{constructor(){super("twitter.com")}static credential(e,s){return ws._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return Hi.credential(s,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(i,e){return yl(i,"POST","/v1/accounts:signUp",Ki(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const c=await Qn._fromIdTokenResponse(e,r,o),f=jv(r);return new Rs({user:c,providerId:f,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=jv(r);return new Rs({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function jv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends On{constructor(e,s,r,o){var c;super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new rc(e,s,r,o)}}function uE(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rc._fromErrorAndOperation(i,c,e,r):c})}async function GN(i,e,s=!1){const r=await kr(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return Rs._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(i,e,s=!1){const{auth:r}=i;if(Tn(r.app))return Promise.reject(ti(r));const o="reauthenticate";try{const c=await kr(i,uE(r,o,e,i),s);te(c.idToken,r,"internal-error");const f=Th(c.idToken);te(f,r,"internal-error");const{sub:h}=f;return te(i.uid===h,r,"user-mismatch"),Rs._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fE(i,e,s=!1){if(Tn(i.app))return Promise.reject(ti(i));const r="signIn",o=await uE(i,r,e),c=await Rs._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(c.user),c}async function YN(i,e){return fE(Ls(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dE(i){const e=Ls(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KN(i,e,s){if(Tn(i.app))return Promise.reject(ti(i));const r=Ls(i),f=await Pd(r,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&dE(i),p}),h=await Rs._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(h.user),h}function WN(i,e,s){return Tn(i.app)?Promise.reject(ti(i)):YN(xt(i),qr.credential(e,s)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dE(i),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(i,e){return ci(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(i,{displayName:e,photoURL:s}){if(e===void 0&&s===void 0)return;const r=xt(i),c={idToken:await r.getIdToken(),displayName:e,photoUrl:s,returnSecureToken:!0},f=await kr(r,$N(r.auth,c));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const h=r.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function QN(i,e,s,r){return xt(i).onIdTokenChanged(e,s,r)}function ZN(i,e,s){return xt(i).beforeAuthStateChanged(e,s)}function JN(i,e,s,r){return xt(i).onAuthStateChanged(e,s,r)}function eO(i){return xt(i).signOut()}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1e3,nO=10;class pE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((f,h,p)=>{this.notifyListeners(f,p)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!s&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);_N()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,nO):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},tO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}pE.type="LOCAL";const iO=pE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}mE.type="SESSION";const gE=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new Ac(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:c}=s.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(f).map(async m=>m(s.origin,c)),p=await sO(h);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((h,p)=>{const m=Ah("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(E){const b=E;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(b.data.response);break;default:clearTimeout(y),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:s},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function aO(i){Rn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function lO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oO(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function cO(){return _E()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="firebaseLocalStorageDb",uO=1,lc="firebaseLocalStorage",yE="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Nc(i,e){return i.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function fO(){const i=indexedDB.deleteDatabase(vE);return new Sl(i).toPromise()}function qd(){const i=indexedDB.open(vE,uO);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(lc,{keyPath:yE})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(lc)?e(r):(r.close(),await fO(),e(await qd()))})})}async function Hv(i,e,s){const r=Nc(i,!0).put({[yE]:e,value:s});return new Sl(r).toPromise()}async function dO(i,e){const s=Nc(i,!1).get(e),r=await new Sl(s).toPromise();return r===void 0?null:r.value}function zv(i,e){const s=Nc(i,!0).delete(e);return new Sl(s).toPromise()}const hO=800,pO=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>pO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(cO()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await lO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qd();return await Hv(e,ac,"1"),await zv(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hv(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>dO(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>zv(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Nc(o,!1).getAll();return new Sl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const mO=EE;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(i,e){return e?Zn(e):(te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends wh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ir(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Ir(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Ir(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function _O(i){return fE(i.auth,new Nh(i),i.bypassAuthState)}function vO(i){const{auth:e,user:s}=i;return te(s,e,"internal-error"),FN(s,new Nh(i),i.bypassAuthState)}async function yO(i){const{auth:e,user:s}=i;return te(s,e,"internal-error"),GN(s,new Nh(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,s,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:c,error:f,type:h}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:s,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _O;case"linkViaPopup":case"linkViaRedirect":return yO;case"reauthViaPopup":case"reauthViaRedirect":return vO;default:gn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new vl(2e3,1e4);class wr extends SE{constructor(e,s,r,o,c){super(e,s,o,c),this.provider=r,this.authWindow=null,this.pollId=null,wr.currentPopupAction&&wr.currentPopupAction.cancel(),wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Ah();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EO.get())};e()}}wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="pendingRedirect",Fo=new Map;class bO extends SE{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Fo.get(this.auth._key());if(!e){try{const r=await TO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Fo.set(this.auth._key(),e)}return this.bypassAuthState||Fo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TO(i,e){const s=RO(e),r=wO(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function CO(i,e){Fo.set(i._key(),e)}function wO(i){return Zn(i._redirectPersistence)}function RO(i){return Go(SO,i.config.apiKey,i.name)}async function AO(i,e,s=!1){if(Tn(i.app))return Promise.reject(ti(i));const r=Ls(i),o=gO(r,e),f=await new bO(r,o,s).execute();return f&&!s&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=10*60*1e3;class OO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IO(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!bE(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(wn(this.auth,o))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function bE({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IO(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(i,e={}){return ci(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MO=/^https?/;async function kO(i){if(i.config.emulator)return;const{authorizedDomains:e}=await DO(i);for(const s of e)try{if(LO(s))return}catch{}gn(i,"unauthorized-domain")}function LO(i){const e=zd(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&f.hostname===r}if(!MO.test(s))return!1;if(xO.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=new vl(3e4,6e4);function Pv(){const i=Rn().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function jO(i){return new Promise((e,s)=>{var r,o,c;function f(){Pv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pv(),s(wn(i,"network-request-failed"))},timeout:UO.get()})}if(!((o=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Rn().gapi)===null||c===void 0)&&c.load)f();else{const h=RN("iframefcb");return Rn()[h]=()=>{gapi.load?f():s(wn(i,"network-request-failed"))},aE(`${wN()}?onload=${h}`).catch(p=>s(p))}}).catch(e=>{throw Yo=null,e})}let Yo=null;function HO(i){return Yo=Yo||jO(i),Yo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new vl(5e3,15e3),BO="__/auth/iframe",PO="emulator/auth/iframe",qO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GO(i){const e=i.config;te(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?bh(e,PO):`https://${i.config.authDomain}/${BO}`,r={apiKey:e.apiKey,appName:i.name,v:Pr},o=VO.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${s}?${Br(r).slice(1)}`}async function FO(i){const e=await HO(i),s=Rn().gapi;return te(s,i,"internal-error"),e.open({where:document.body,url:GO(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qO,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=wn(i,"network-request-failed"),h=Rn().setTimeout(()=>{c(f)},zO.get());function p(){Rn().clearTimeout(h),o(r)}r.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KO=500,WO=600,$O="_blank",XO="http://localhost";class qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QO(i,e,s,r=KO,o=WO){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},YO),{width:r.toString(),height:o.toString(),top:c,left:f}),m=Tt().toLowerCase();s&&(h=J0(m)?$O:s),Q0(m)&&(e=e||XO,p.scrollbars="yes");const y=Object.entries(p).reduce((b,[x,U])=>`${b}${x}=${U},`,"");if(gN(m)&&h!=="_self")return ZO(e||"",h),new qv(null);const E=window.open(e||"",h,y);te(E,i,"popup-blocked");try{E.focus()}catch{}return new qv(E)}function ZO(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="__/auth/handler",e2="emulator/auth/handler",t2=encodeURIComponent("fac");async function Vv(i,e,s,r,o,c){te(i.config.authDomain,i,"auth-domain-config-required"),te(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:Pr,eventId:o};if(e instanceof cE){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Md(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))f[y]=E}if(e instanceof El){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(f.scopes=y.join(","))}i.tenantId&&(f.tid=i.tenantId);const h=f;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await i._getAppCheckToken(),m=p?`#${t2}=${encodeURIComponent(p)}`:"";return`${n2(i)}?${Br(h).slice(1)}${m}`}function n2({config:i}){return i.emulator?bh(i,e2):`https://${i.authDomain}/${JO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="webStorageSupport";class i2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=AO,this._overrideRedirectResult=CO}async _openPopup(e,s,r,o){var c;ri((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Vv(e,s,r,zd(),o);return QO(e,f,Ah())}async _openRedirect(e,s,r,o){await this._originValidation(e);const c=await Vv(e,s,r,zd(),o);return aO(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:c}=this.eventManagers[s];return o?Promise.resolve(o):(ri(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await FO(e),r=new OO(e);return s.register("authEvent",o=>(te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(hd,{type:hd},o=>{var c;const f=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[hd];f!==void 0&&s(!!f),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=kO(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return sE()||Z0()||Ch()}}const s2=i2;var Gv="@firebase/auth",Fv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l2(i){An(new mn("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=r.options;te(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rE(i)},m=new bN(r,o,c,p);return xN(m,s),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),An(new mn("auth-internal",e=>{const s=Ls(e.getProvider("auth").getImmediate());return(r=>new r2(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(Gv,Fv,a2(i)),sn(Gv,Fv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=5*60,c2=O0("authIdTokenMaxAge")||o2;let Yv=null;const u2=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>c2)return;const o=s==null?void 0:s.token;Yv!==o&&(Yv=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function f2(i=yh()){const e=ks(i,"auth");if(e.isInitialized())return e.getImmediate();const s=DN(i,{popupRedirectResolver:s2,persistence:[mO,iO,gE]}),r=O0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=u2(c.toString());ZN(s,f,()=>f(s.currentUser)),QN(s,h=>f(h))}}const o=A0("auth");return o&&MN(s,`http://${o}`),s}function d2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}TN({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=wn("internal-error");c.customData=o,s(c)},r.type="text/javascript",r.charset="UTF-8",d2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l2("Browser");var Kv={};const Wv="@firebase/database",$v="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TE="";function h2(i){TE=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ft(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:ol(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return oi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new p2(e)}}catch{}return new m2},bs=CE("localStorage"),g2=CE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new wc("@firebase/database"),_2=function(){let i=1;return function(){return i++}}(),wE=function(i){const e=HR(i),s=new MR;s.update(e);const r=s.digest();return ph.encodeByteArray(r)},bl=function(...i){let e="";for(let s=0;s<i.length;s++){const r=i[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=bl.apply(null,r):typeof r=="object"?e+=ft(r):e+=r,e+=" "}return e};let tl=null,Xv=!0;const v2=function(i,e){B(!e,"Can't turn on custom loggers persistently."),Dr.logLevel=Ae.VERBOSE,tl=Dr.log.bind(Dr)},gt=function(...i){if(Xv===!0&&(Xv=!1,tl===null&&g2.get("logging_enabled")===!0&&v2()),tl){const e=bl.apply(null,i);tl(e)}},Tl=function(i){return function(...e){gt(i,...e)}},Vd=function(...i){const e="FIREBASE INTERNAL ERROR: "+bl(...i);Dr.error(e)},ai=function(...i){const e=`FIREBASE FATAL ERROR: ${bl(...i)}`;throw Dr.error(e),new Error(e)},Pt=function(...i){const e="FIREBASE WARNING: "+bl(...i);Dr.warn(e)},y2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},RE=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},E2=function(i){if(document.readyState==="complete")i();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Lr="[MIN_NAME]",As="[MAX_NAME]",Vr=function(i,e){if(i===e)return 0;if(i===Lr||e===As)return-1;if(e===Lr||i===As)return 1;{const s=Qv(i),r=Qv(e);return s!==null?r!==null?s-r===0?i.length-e.length:s-r:-1:r!==null?1:i<e?-1:1}},S2=function(i,e){return i===e?0:i<e?-1:1},Ka=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+ft(e))},Oh=function(i){if(typeof i!="object"||i===null)return ft(i);const e=[];for(const r in i)e.push(r);e.sort();let s="{";for(let r=0;r<e.length;r++)r!==0&&(s+=","),s+=ft(e[r]),s+=":",s+=Oh(i[e[r]]);return s+="}",s},AE=function(i,e){const s=i.length;if(s<=e)return[i];const r=[];for(let o=0;o<s;o+=e)o+e>s?r.push(i.substring(o,s)):r.push(i.substring(o,o+e));return r};function rn(i,e){for(const s in i)i.hasOwnProperty(s)&&e(s,i[s])}const NE=function(i){B(!RE(i),"Invalid JSON number");const e=11,s=52,r=(1<<e-1)-1;let o,c,f,h,p;i===0?(c=0,f=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),r),c=h+r,f=Math.round(i*Math.pow(2,s-h)-Math.pow(2,s))):(c=0,f=Math.round(i/Math.pow(2,1-r-s))));const m=[];for(p=s;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const y=m.join("");let E="";for(p=0;p<64;p+=8){let b=parseInt(y.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),E=E+b}return E.toLowerCase()},b2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},T2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},C2=new RegExp("^-?(0*)\\d{1,10}$"),w2=-2147483648,R2=2147483647,Qv=function(i){if(C2.test(i)){const e=Number(i);if(e>=w2&&e<=R2)return e}return null},Cl=function(i){try{i()}catch(e){setTimeout(()=>{const s=e.stack||"";throw Pt("Exception was thrown by user callback.",s),e},Math.floor(0))}},A2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nl=function(i,e){const s=setTimeout(i,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,s){this.appName_=e,this.appCheckProvider=s,this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,s,r){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}class Ko{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ko.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="5",OE="v",IE="s",DE="r",xE="f",ME=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kE="ls",LE="p",Gd="ac",UE="websocket",jE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,s,r,o,c=!1,f="",h=!1,p=!1){this.secure=s,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function I2(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function zE(i,e,s){B(typeof e=="string","typeof type must == string"),B(typeof s=="object","typeof params must == object");let r;if(e===UE)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===jE)r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);I2(i)&&(s.ns=i.namespace);const o=[];return rn(s,(c,f)=>{o.push(c+"="+f)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.counters_={}}incrementCounter(e,s=1){oi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return _R(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd={},md={};function Dh(i){const e=i.toString();return pd[e]||(pd[e]=new D2),pd[e]}function x2(i,e){const s=i.toString();return md[s]||(md[s]=e()),md[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Cl(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="start",k2="close",L2="pLPCommand",U2="pRTLPCB",BE="id",PE="pw",qE="ser",j2="cb",H2="seg",z2="ts",B2="d",P2="dframe",VE=1870,GE=30,q2=VE-GE,V2=25e3,G2=3e4;class Rr{constructor(e,s,r,o,c,f,h){this.connId=e,this.repoInfo=s,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tl(e),this.stats_=Dh(s),this.urlFn=p=>(this.appCheckToken&&(p[Gd]=this.appCheckToken),zE(s,jE,p))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new M2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(G2)),E2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new xh((...c)=>{const[f,h,p,m,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Zv)this.id=h,this.password=p;else if(f===k2)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[Zv]="t",r[qE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[j2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[OE]=Ih,this.transportSessionId&&(r[IE]=this.transportSessionId),this.lastSessionId&&(r[kE]=this.lastSessionId),this.applicationId&&(r[LE]=this.applicationId),this.appCheckToken&&(r[Gd]=this.appCheckToken),typeof location<"u"&&location.hostname&&ME.test(location.hostname)&&(r[DE]=xE);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rr.forceAllow_=!0}static forceDisallow(){Rr.forceDisallow_=!0}static isAvailable(){return Rr.forceAllow_?!0:!Rr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!b2()&&!T2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=ft(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=w0(s),o=AE(r,q2);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[P2]="t",r[BE]=e,r[PE]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=ft(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class xh{constructor(e,s,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_2(),window[L2+this.uniqueCallbackIdentifier]=e,window[U2+this.uniqueCallbackIdentifier]=s,this.myIFrame=xh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){gt("frame writing exception"),h.stack&&gt(h.stack),gt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[BE]=this.myID,e[PE]=this.myPW,e[qE]=this.currentSerial;let s=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+GE+r.length<=VE;){const f=this.pendingSegs.shift();r=r+"&"+H2+o+"="+f.seg+"&"+z2+o+"="+f.ts+"&"+B2+o+"="+f.d,o++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,r){this.pendingSegs.push({seg:e,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(r,Math.floor(V2)),c=()=>{clearTimeout(o),r()};this.addTag(e,c)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=16384,Y2=45e3;let oc=null;typeof MozWebSocket<"u"?oc=MozWebSocket:typeof WebSocket<"u"&&(oc=WebSocket);class dn{constructor(e,s,r,o,c,f,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tl(this.connId),this.stats_=Dh(s),this.connURL=dn.connectionURL_(s,f,h,o,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,r,o,c){const f={};return f[OE]=Ih,typeof location<"u"&&location.hostname&&ME.test(location.hostname)&&(f[DE]=xE),s&&(f[IE]=s),r&&(f[kE]=r),o&&(f[Gd]=o),c&&(f[LE]=c),zE(e,UE,f)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bs.set("previous_websocket_failure",!0);try{let r;x0(),this.mySock=new oc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){dn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&oc!==null&&!dn.forceDisallow_}static previouslyFailed(){return bs.isInMemoryStorage||bs.get("previous_websocket_failure")===!0}markConnectionHealthy(){bs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=ol(s);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const s=ft(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=AE(s,F2);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Y2))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dn.responsesRequiredToBeHealthy=2;dn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static get ALL_TRANSPORTS(){return[Rr,dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=dn&&dn.isAvailable();let r=s&&!dn.previouslyFailed();if(e.webSocketOnly&&(s||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[dn];else{const o=this.transports_=[];for(const c of dl.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);dl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}dl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=6e4,W2=5e3,$2=10*1024,X2=100*1024,gd="t",Jv="d",Q2="s",ey="r",Z2="e",ty="o",ny="a",iy="n",sy="p",J2="h";class eI{constructor(e,s,r,o,c,f,h,p,m,y){this.id=e,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tl("c:"+this.id+":"),this.transportManager_=new dl(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=nl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>X2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(gd in e){const s=e[gd];s===ny?this.upgradeIfSecondaryHealthy_():s===ey?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===ty&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=Ka("t",e),r=Ka("d",e);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ny,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:iy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=Ka("t",e),r=Ka("d",e);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=Ka(gd,e);if(Jv in e){const r=e[Jv];if(s===J2){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===iy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===Q2?this.onConnectionShutdown_(r):s===ey?this.onReset_(r):s===Z2?Vd("Server Error: "+r):s===ty?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vd("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Ih!==r&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),nl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(K2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(W2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{put(e,s,r,o){}merge(e,s,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,r){}onDisconnectMerge(e,s,r){}onDisconnectCancel(e,s){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,s)}}on(e,s,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:r});const o=this.getInitialEvent(e);o&&s.apply(r,o)}off(e,s,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===s&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(e){B(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends YE{static getInstance(){return new cc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_h()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=32,ay=768;class Ue{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function Ne(){return new Ue("")}function me(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Fi(i){return i.pieces_.length-i.pieceNum_}function Le(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new Ue(i.pieces_,e)}function KE(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function tI(i){let e="";for(let s=i.pieceNum_;s<i.pieces_.length;s++)i.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[s])));return e||"/"}function WE(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function $E(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let s=i.pieceNum_;s<i.pieces_.length-1;s++)e.push(i.pieces_[s]);return new Ue(e,0)}function rt(i,e){const s=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)s.push(i.pieces_[r]);if(e instanceof Ue)for(let r=e.pieceNum_;r<e.pieces_.length;r++)s.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&s.push(r[o])}return new Ue(s,0)}function de(i){return i.pieceNum_>=i.pieces_.length}function nn(i,e){const s=me(i),r=me(e);if(s===null)return e;if(s===r)return nn(Le(i),Le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function XE(i,e){if(Fi(i)!==Fi(e))return!1;for(let s=i.pieceNum_,r=e.pieceNum_;s<=i.pieces_.length;s++,r++)if(i.pieces_[s]!==e.pieces_[r])return!1;return!0}function hn(i,e){let s=i.pieceNum_,r=e.pieceNum_;if(Fi(i)>Fi(e))return!1;for(;s<i.pieces_.length;){if(i.pieces_[s]!==e.pieces_[r])return!1;++s,++r}return!0}class nI{constructor(e,s){this.errorPrefix_=s,this.parts_=WE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Cc(this.parts_[r]);QE(this)}}function iI(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=Cc(e),QE(i)}function sI(i){const e=i.parts_.pop();i.byteLength_-=Cc(e),i.parts_.length>0&&(i.byteLength_-=1)}function QE(i){if(i.byteLength_>ay)throw new Error(i.errorPrefix_+"has a key path longer than "+ay+" bytes ("+i.byteLength_+").");if(i.parts_.length>ry)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ry+") or object contains a cycle "+ys(i))}function ys(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends YE{static getInstance(){return new Mh}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=1e3,rI=60*5*1e3,ly=30*1e3,aI=1.3,lI=3e4,oI="server_kill",oy=3;class ni extends FE{constructor(e,s,r,o,c,f,h,p){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=p,this.id=ni.nextPersistentConnectionId_++,this.log_=Tl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Wa,this.maxReconnectDelay_=rI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p&&!x0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&cc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,r){const o=++this.requestNumber_,c={r:o,a:e,b:s};this.log_(ft(c)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const s=new gh,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?s.resolve(h):s.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),s.promise}listen(e,s,r,o){this.initConnection_();const c=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:s,query:e,tag:r};this.listens.get(f).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(e){const s=e.query,r=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},f="q";e.tag&&(c.q=s._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(f,c,h=>{const p=h.d,m=h.s;ni.warnOnListenWarnings_(p,s),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&oi(e,"w")){const r=Mr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',c=s._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||xR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ly)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=DR(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,o=>{const c=o.s,f=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,r=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(e,s){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,s)}sendUnlisten_(e,s,r,o){this.log_("Unlisten on "+e+" for "+s);const c={p:e},f="n";o&&(c.q=r,c.t=o),this.sendRequest(f,c)}onDisconnectPut(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:r})}onDisconnectMerge(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:r})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,r,o){const c={p:s,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,s,r,o){this.putInternal("p",e,s,r,o)}merge(e,s,r,o){this.putInternal("m",e,s,r,o)}putInternal(e,s,r,o,c){this.initConnection_();const f={p:s,d:r};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,r,c=>{this.log_(s+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ft(e));const s=e.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):Vd("Unrecognized action received from server: "+ft(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Wa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lI&&(this.reconnectDelay_=Wa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ni.nextConnectionId_++,c=this.lastSessionId;let f=!1,h=null;const p=function(){h?h.close():(f=!0,r())},m=function(E){B(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(E)};this.realtime_={close:p,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=b&&b.token,h=new eI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,r,x=>{Pt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(oI)},c))}catch(E){this.log_("Failed to get token: "+E),f||(this.repoInfo_.nodeAdmin&&Pt(E),p())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Md(this.interruptReasons_)&&(this.reconnectDelay_=Wa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let r;s?r=s.map(c=>Oh(c)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,s){const r=new Ue(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(s),c.delete(s),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,s){gt("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=oy&&(this.reconnectDelay_=ly,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){gt("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=oy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+TE.replace(/\./g,"-")]=1,_h()?e["framework.cordova"]=1:D0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cc.getInstance().currentlyOnline();return Md(this.interruptReasons_)&&e}}ni.nextPersistentConnectionId_=0;ni.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new ge(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const r=new ge(Lr,e),o=new ge(Lr,s);return this.compare(r,o)!==0}minPost(){return ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po;class ZE extends Oc{static get __EMPTY_NODE(){return Po}static set __EMPTY_NODE(e){Po=e}compare(e,s){return Vr(e.name,s.name)}isDefinedOn(e){throw zr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return ge.MIN}maxPost(){return new ge(As,Po)}makePost(e,s){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new ge(e,Po)}toString(){return".key"}}const xr=new ZE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,s,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=s?r(e.key,s):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class st{constructor(e,s,r,o,c){this.key=e,this.value=s,this.color=r??st.RED,this.left=o??It.EMPTY_NODE,this.right=c??It.EMPTY_NODE}copy(e,s,r,o,c){return new st(e??this.key,s??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const c=r(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,s,r),null):c===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return It.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let r,o;if(r=this,s(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(e,r.key)===0){if(r.right.isEmpty())return It.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}st.RED=!0;st.BLACK=!1;class cI{copy(e,s,r,o,c){return this}insert(e,s,r){return new st(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class It{constructor(e,s=It.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new It(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,st.BLACK,null,null))}remove(e){return new It(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,st.BLACK,null,null))}get(e){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(e,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(e){let s,r=this.root_,o=null;for(;!r.isEmpty();)if(s=this.comparator_(e,r.key),s===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new qo(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new qo(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new qo(this.root_,null,this.comparator_,!0,e)}}It.EMPTY_NODE=new cI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(i,e){return Vr(i.name,e.name)}function kh(i,e){return Vr(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd;function fI(i){Fd=i}const JE=function(i){return typeof i=="number"?"number:"+NE(i):"string:"+i},e1=function(i){if(i.isLeafNode()){const e=i.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&oi(e,".sv"),"Priority must be a string or number.")}else B(i===Fd||i.isEmpty(),"priority of unexpected type.");B(i===Fd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cy;class it{static set __childrenNodeConstructor(e){cy=e}static get __childrenNodeConstructor(){return cy}constructor(e,s=it.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),e1(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new it(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return de(e)?this:me(e)===".priority"?this.priorityNode_:it.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:it.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const r=me(e);return r===null?s:s.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||Fi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,it.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+JE(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=NE(this.value_):e+=this.value_,this.lazyHash_=wE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===it.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof it.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,r=typeof this.value_,o=it.VALUE_TYPE_ORDER.indexOf(s),c=it.VALUE_TYPE_ORDER.indexOf(r);return B(o>=0,"Unknown leaf type: "+s),B(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}it.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t1,n1;function dI(i){t1=i}function hI(i){n1=i}class pI extends Oc{compare(e,s){const r=e.node.getPriority(),o=s.node.getPriority(),c=r.compareTo(o);return c===0?Vr(e.name,s.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(As,new it("[PRIORITY-POST]",n1))}makePost(e,s){const r=t1(e);return new ge(s,new it("[PRIORITY-POST]",r))}toString(){return".priority"}}const vt=new pI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=Math.log(2);class gI{constructor(e){const s=c=>parseInt(Math.log(c)/mI,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uc=function(i,e,s,r){i.sort(e);const o=function(p,m){const y=m-p;let E,b;if(y===0)return null;if(y===1)return E=i[p],b=s?s(E):E,new st(b,E.node,st.BLACK,null,null);{const x=parseInt(y/2,10)+p,U=o(p,x),P=o(x+1,m);return E=i[x],b=s?s(E):E,new st(b,E.node,st.BLACK,U,P)}},c=function(p){let m=null,y=null,E=i.length;const b=function(U,P){const j=E-U,ee=E;E-=U;const Q=o(j+1,ee),Z=i[j],ce=s?s(Z):Z;x(new st(ce,Z.node,P,null,Q))},x=function(U){m?(m.left=U,m=U):(y=U,m=U)};for(let U=0;U<p.count;++U){const P=p.nextBitIsOne(),j=Math.pow(2,p.count-(U+1));P?b(j,st.BLACK):(b(j,st.BLACK),b(j,st.RED))}return y},f=new gI(i.length),h=c(f);return new It(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d;const Tr={};class Jn{static get Default(){return B(Tr&&vt,"ChildrenNode.ts has not been loaded"),_d=_d||new Jn({".priority":Tr},{".priority":vt}),_d}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=Mr(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof It?s:null}hasIndex(e){return oi(this.indexSet_,e.toString())}addIndex(e,s){B(e!==xr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=s.getIterator(ge.Wrap);let f=c.getNext();for(;f;)o=o||e.isDefinedOn(f.node),r.push(f),f=c.getNext();let h;o?h=uc(r,e.getCompare()):h=Tr;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const y=Object.assign({},this.indexes_);return y[p]=h,new Jn(y,m)}addToIndexes(e,s){const r=tc(this.indexes_,(o,c)=>{const f=Mr(this.indexSet_,c);if(B(f,"Missing index implementation for "+c),o===Tr)if(f.isDefinedOn(e.node)){const h=[],p=s.getIterator(ge.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),uc(h,f.getCompare())}else return Tr;else{const h=s.get(e.name);let p=o;return h&&(p=p.remove(new ge(e.name,h))),p.insert(e,e.node)}});return new Jn(r,this.indexSet_)}removeFromIndexes(e,s){const r=tc(this.indexes_,o=>{if(o===Tr)return o;{const c=s.get(e.name);return c?o.remove(new ge(e.name,c)):o}});return new Jn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;class Te{static get EMPTY_NODE(){return $a||($a=new Te(new It(kh),null,Jn.Default))}constructor(e,s,r){this.children_=e,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&e1(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$a}updatePriority(e){return this.children_.isEmpty()?this:new Te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?$a:s}}getChild(e){const s=me(e);return s===null?this:this.getImmediateChild(s).getChild(Le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(B(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const r=new ge(e,s);let o,c;s.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,s),c=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?$a:this.priorityNode_;return new Te(o,f,c)}}updateChild(e,s){const r=me(e);if(r===null)return s;{B(me(e)!==".priority"||Fi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Le(e),s);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let r=0,o=0,c=!0;if(this.forEachChild(vt,(f,h)=>{s[f]=h.val(e),r++,c&&Te.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):c=!1}),!e&&c&&o<2*r){const f=[];for(const h in s)f[h]=s[h];return f}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+JE(this.getPriority().val())+":"),this.forEachChild(vt,(s,r)=>{const o=r.hash();o!==""&&(e+=":"+s+":"+o)}),this.lazyHash_=e===""?"":wE(e)}return this.lazyHash_}getPredecessorChildName(e,s,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new ge(e,s));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new ge(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new ge(s,this.children_.get(s)):null}forEachChild(e,s){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ge.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ge.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===wl?-1:0}withIndex(e){if(e===xr||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new Te(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===xr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(vt),o=s.getIterator(vt);let c=r.getNext(),f=o.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=r.getNext(),f=o.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===xr?null:this.indexMap_.get(e.toString())}}Te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _I extends Te{constructor(){super(new It(kh),Te.EMPTY_NODE,Jn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Te.EMPTY_NODE}isEmpty(){return!1}}const wl=new _I;Object.defineProperties(ge,{MIN:{value:new ge(Lr,Te.EMPTY_NODE)},MAX:{value:new ge(As,wl)}});ZE.__EMPTY_NODE=Te.EMPTY_NODE;it.__childrenNodeConstructor=Te;fI(wl);hI(wl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=!0;function _t(i,e=null){if(i===null)return Te.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const s=i;return new it(s,_t(e))}if(!(i instanceof Array)&&vI){const s=[];let r=!1;if(rn(i,(f,h)=>{if(f.substring(0,1)!=="."){const p=_t(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),s.push(new ge(f,p)))}}),s.length===0)return Te.EMPTY_NODE;const c=uc(s,uI,f=>f.name,kh);if(r){const f=uc(s,vt.getCompare());return new Te(c,_t(e),new Jn({".priority":f},{".priority":vt}))}else return new Te(c,_t(e),Jn.Default)}else{let s=Te.EMPTY_NODE;return rn(i,(r,o)=>{if(oi(i,r)&&r.substring(0,1)!=="."){const c=_t(o);(c.isLeafNode()||!c.isEmpty())&&(s=s.updateImmediateChild(r,c))}}),s.updatePriority(_t(e))}}dI(_t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends Oc{constructor(e){super(),this.indexPath_=e,B(!de(e)&&me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const r=this.extractChild(e.node),o=this.extractChild(s.node),c=r.compareTo(o);return c===0?Vr(e.name,s.name):c}makePost(e,s){const r=_t(e),o=Te.EMPTY_NODE.updateChild(this.indexPath_,r);return new ge(s,o)}maxPost(){const e=Te.EMPTY_NODE.updateChild(this.indexPath_,wl);return new ge(As,e)}toString(){return WE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends Oc{compare(e,s){const r=e.node.compareTo(s.node);return r===0?Vr(e.name,s.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,s){const r=_t(e);return new ge(s,r)}toString(){return".value"}}const SI=new EI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(i){return{type:"value",snapshotNode:i}}function TI(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function CI(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function uy(i,e,s){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:s}}function wI(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lr}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:As}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vt}copy(){const e=new Lh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fy(i){const e={};if(i.isDefault())return e;let s;if(i.index_===vt?s="$priority":i.index_===SI?s="$value":i.index_===xr?s="$key":(B(i.index_ instanceof yI,"Unrecognized index type!"),s=i.index_.toString()),e.orderBy=ft(s),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";e[r]=ft(i.indexStartValue_),i.startNameSet_&&(e[r]+=","+ft(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";e[r]=ft(i.indexEndValue_),i.endNameSet_&&(e[r]+=","+ft(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function dy(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let s=i.viewFrom_;s===""&&(i.isViewFromLeft()?s="l":s="r"),e.vf=s}return i.index_!==vt&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends FE{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Tl("p:rest:"),this.listens_={}}listen(e,s,r,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const f=fc.getListenId_(e,r),h={};this.listens_[f]=h;const p=fy(e._queryParams);this.restRequest_(c+".json",p,(m,y)=>{let E=y;if(m===404&&(E=null,m=null),m===null&&this.onDataUpdate_(c,E,!1,r),Mr(this.listens_,f)===h){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",o(b,null)}})}unlisten(e,s){const r=fc.getListenId_(e,s);delete this.listens_[r]}get(e){const s=fy(e._queryParams),r=e._path.toString(),o=new gh;return this.restRequest_(r+".json",s,(c,f)=>{let h=f;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(s.auth=o.accessToken),c&&c.token&&(s.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Br(s);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=ol(h.responseText)}catch{Pt("Failed to parse JSON response for "+f+": "+h.responseText)}r(null,p)}else h.status!==401&&h.status!==404&&Pt("Got unsuccessful REST response for "+f+" Status: "+h.status),r(h.status);r=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.rootNode_=Te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(){return{value:null,children:new Map}}function i1(i,e,s){if(de(e))i.value=s,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,s);else{const r=me(e);i.children.has(r)||i.children.set(r,dc());const o=i.children.get(r);e=Le(e),i1(o,e,s)}}function Yd(i,e,s){i.value!==null?s(e,i.value):AI(i,(r,o)=>{const c=new Ue(e.toString()+"/"+r);Yd(o,c,s)})}function AI(i,e){i.children.forEach((s,r)=>{e(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s=Object.assign({},e);return this.last_&&rn(this.last_,(r,o)=>{s[r]=s[r]-o}),this.last_=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=10*1e3,OI=30*1e3,II=5*60*1e3;class DI{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new NI(e);const r=hy+(OI-hy)*Math.random();nl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),s={};let r=!1;rn(e,(o,c)=>{c>0&&oi(this.statsToReport_,o)&&(s[o]=c,r=!0)}),r&&this.server_.reportStats(s),nl(this.reportStats_.bind(this),Math.floor(Math.random()*2*II))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Cn||(Cn={}));function s1(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function r1(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function a1(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,s,r){this.path=e,this.affectedTree=s,this.revert=r,this.type=Cn.ACK_USER_WRITE,this.source=s1()}operationForChild(e){if(de(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Ue(e));return new hc(Ne(),s,this.revert)}}else return B(me(this.path)===e,"operationForChild called for unrelated child."),new hc(Le(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,s,r){this.source=e,this.path=s,this.snap=r,this.type=Cn.OVERWRITE}operationForChild(e){return de(this.path)?new Ns(this.source,Ne(),this.snap.getImmediateChild(e)):new Ns(this.source,Le(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,s,r){this.source=e,this.path=s,this.children=r,this.type=Cn.MERGE}operationForChild(e){if(de(this.path)){const s=this.children.subtree(new Ue(e));return s.isEmpty()?null:s.value?new Ns(this.source,Ne(),s.value):new hl(this.source,Ne(),s)}else return B(me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hl(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,s,r){this.node_=e,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const s=me(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function xI(i,e,s,r){const o=[],c=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(wI(f.childName,f.snapshotNode))}),Xa(i,o,"child_removed",e,r,s),Xa(i,o,"child_added",e,r,s),Xa(i,o,"child_moved",c,r,s),Xa(i,o,"child_changed",e,r,s),Xa(i,o,"value",e,r,s),o}function Xa(i,e,s,r,o,c){const f=r.filter(h=>h.type===s);f.sort((h,p)=>kI(i,h,p)),f.forEach(h=>{const p=MI(i,h,c);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,i.query_))})})}function MI(i,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function kI(i,e,s){if(e.childName==null||s.childName==null)throw zr("Should only compare child_ events.");const r=new ge(e.childName,e.snapshotNode),o=new ge(s.childName,s.snapshotNode);return i.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(i,e){return{eventCache:i,serverCache:e}}function il(i,e,s,r){return l1(new Uh(e,s,r),i.serverCache)}function o1(i,e,s,r){return l1(i.eventCache,new Uh(e,s,r))}function Kd(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Os(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;const LI=()=>(vd||(vd=new It(S2)),vd);class ke{static fromObject(e){let s=new ke(null);return rn(e,(r,o)=>{s=s.set(new Ue(r),o)}),s}constructor(e,s=LI()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:Ne(),value:this.value};if(de(e))return null;{const r=me(e),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Le(e),s);return c!=null?{path:rt(new Ue(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const s=me(e),r=this.children.get(s);return r!==null?r.subtree(Le(e)):new ke(null)}}set(e,s){if(de(e))return new ke(s,this.children);{const r=me(e),c=(this.children.get(r)||new ke(null)).set(Le(e),s),f=this.children.insert(r,c);return new ke(this.value,f)}}remove(e){if(de(e))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const s=me(e),r=this.children.get(s);if(r){const o=r.remove(Le(e));let c;return o.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,o),this.value===null&&c.isEmpty()?new ke(null):new ke(this.value,c)}else return this}}get(e){if(de(e))return this.value;{const s=me(e),r=this.children.get(s);return r?r.get(Le(e)):null}}setTree(e,s){if(de(e))return s;{const r=me(e),c=(this.children.get(r)||new ke(null)).setTree(Le(e),s);let f;return c.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,c),new ke(this.value,f)}}fold(e){return this.fold_(Ne(),e)}fold_(e,s){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(rt(e,o),s)}),s(e,this.value,r)}findOnPath(e,s){return this.findOnPath_(e,Ne(),s)}findOnPath_(e,s,r){const o=this.value?r(s,this.value):!1;if(o)return o;if(de(e))return null;{const c=me(e),f=this.children.get(c);return f?f.findOnPath_(Le(e),rt(s,c),r):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,Ne(),s)}foreachOnPath_(e,s,r){if(de(e))return this;{this.value&&r(s,this.value);const o=me(e),c=this.children.get(o);return c?c.foreachOnPath_(Le(e),rt(s,o),r):new ke(null)}}foreach(e){this.foreach_(Ne(),e)}foreach_(e,s){this.children.inorderTraversal((r,o)=>{o.foreach_(rt(e,r),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,r)=>{r.value&&e(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.writeTree_=e}static empty(){return new pn(new ke(null))}}function sl(i,e,s){if(de(e))return new pn(new ke(s));{const r=i.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let c=r.value;const f=nn(o,e);return c=c.updateChild(f,s),new pn(i.writeTree_.set(o,c))}else{const o=new ke(s),c=i.writeTree_.setTree(e,o);return new pn(c)}}}function py(i,e,s){let r=i;return rn(s,(o,c)=>{r=sl(r,rt(e,o),c)}),r}function my(i,e){if(de(e))return pn.empty();{const s=i.writeTree_.setTree(e,new ke(null));return new pn(s)}}function Wd(i,e){return Us(i,e)!=null}function Us(i,e){const s=i.writeTree_.findRootMostValueAndPath(e);return s!=null?i.writeTree_.get(s.path).getChild(nn(s.path,e)):null}function gy(i){const e=[],s=i.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(vt,(r,o)=>{e.push(new ge(r,o))}):i.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ge(r,o.value))}),e}function Gi(i,e){if(de(e))return i;{const s=Us(i,e);return s!=null?new pn(new ke(s)):new pn(i.writeTree_.subtree(e))}}function $d(i){return i.writeTree_.isEmpty()}function Ur(i,e){return c1(Ne(),i.writeTree_,e)}function c1(i,e,s){if(e.value!=null)return s.updateChild(i,e.value);{let r=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(B(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):s=c1(rt(i,o),c,s)}),!s.getChild(i).isEmpty()&&r!==null&&(s=s.updateChild(rt(i,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(i,e){return m1(e,i)}function UI(i,e,s,r,o){B(r>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:s,writeId:r,visible:o}),o&&(i.visibleWrites=sl(i.visibleWrites,e,s)),i.lastWriteId=r}function jI(i,e){for(let s=0;s<i.allWrites.length;s++){const r=i.allWrites[s];if(r.writeId===e)return r}return null}function HI(i,e){const s=i.allWrites.findIndex(h=>h.writeId===e);B(s>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[s];i.allWrites.splice(s,1);let o=r.visible,c=!1,f=i.allWrites.length-1;for(;o&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=s&&zI(h,r.path)?o=!1:hn(r.path,h.path)&&(c=!0)),f--}if(o){if(c)return BI(i),!0;if(r.snap)i.visibleWrites=my(i.visibleWrites,r.path);else{const h=r.children;rn(h,p=>{i.visibleWrites=my(i.visibleWrites,rt(r.path,p))})}return!0}else return!1}function zI(i,e){if(i.snap)return hn(i.path,e);for(const s in i.children)if(i.children.hasOwnProperty(s)&&hn(rt(i.path,s),e))return!0;return!1}function BI(i){i.visibleWrites=f1(i.allWrites,PI,Ne()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function PI(i){return i.visible}function f1(i,e,s){let r=pn.empty();for(let o=0;o<i.length;++o){const c=i[o];if(e(c)){const f=c.path;let h;if(c.snap)hn(s,f)?(h=nn(s,f),r=sl(r,h,c.snap)):hn(f,s)&&(h=nn(f,s),r=sl(r,Ne(),c.snap.getChild(h)));else if(c.children){if(hn(s,f))h=nn(s,f),r=py(r,h,c.children);else if(hn(f,s))if(h=nn(f,s),de(h))r=py(r,Ne(),c.children);else{const p=Mr(c.children,me(h));if(p){const m=p.getChild(Le(h));r=sl(r,Ne(),m)}}}else throw zr("WriteRecord should have .snap or .children")}}return r}function d1(i,e,s,r,o){if(!r&&!o){const c=Us(i.visibleWrites,e);if(c!=null)return c;{const f=Gi(i.visibleWrites,e);if($d(f))return s;if(s==null&&!Wd(f,Ne()))return null;{const h=s||Te.EMPTY_NODE;return Ur(f,h)}}}else{const c=Gi(i.visibleWrites,e);if(!o&&$d(c))return s;if(!o&&s==null&&!Wd(c,Ne()))return null;{const f=function(m){return(m.visible||o)&&(!r||!~r.indexOf(m.writeId))&&(hn(m.path,e)||hn(e,m.path))},h=f1(i.allWrites,f,e),p=s||Te.EMPTY_NODE;return Ur(h,p)}}}function qI(i,e,s){let r=Te.EMPTY_NODE;const o=Us(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(vt,(c,f)=>{r=r.updateImmediateChild(c,f)}),r;if(s){const c=Gi(i.visibleWrites,e);return s.forEachChild(vt,(f,h)=>{const p=Ur(Gi(c,new Ue(f)),h);r=r.updateImmediateChild(f,p)}),gy(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const c=Gi(i.visibleWrites,e);return gy(c).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function VI(i,e,s,r,o){B(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=rt(e,s);if(Wd(i.visibleWrites,c))return null;{const f=Gi(i.visibleWrites,c);return $d(f)?o.getChild(s):Ur(f,o.getChild(s))}}function GI(i,e,s,r){const o=rt(e,s),c=Us(i.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(s)){const f=Gi(i.visibleWrites,o);return Ur(f,r.getNode().getImmediateChild(s))}else return null}function FI(i,e){return Us(i.visibleWrites,e)}function YI(i,e,s,r,o,c,f){let h;const p=Gi(i.visibleWrites,e),m=Us(p,Ne());if(m!=null)h=m;else if(s!=null)h=Ur(p,s);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],E=f.getCompare(),b=c?h.getReverseIteratorFrom(r,f):h.getIteratorFrom(r,f);let x=b.getNext();for(;x&&y.length<o;)E(x,r)!==0&&y.push(x),x=b.getNext();return y}else return[]}function KI(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function Xd(i,e,s,r){return d1(i.writeTree,i.treePath,e,s,r)}function h1(i,e){return qI(i.writeTree,i.treePath,e)}function _y(i,e,s,r){return VI(i.writeTree,i.treePath,e,s,r)}function pc(i,e){return FI(i.writeTree,rt(i.treePath,e))}function WI(i,e,s,r,o,c){return YI(i.writeTree,i.treePath,e,s,r,o,c)}function jh(i,e,s){return GI(i.writeTree,i.treePath,e,s)}function p1(i,e){return m1(rt(i.treePath,e),i.writeTree)}function m1(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,r=e.childName;B(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(s==="child_added"&&c==="child_removed")this.changeMap.set(r,uy(r,e.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&c==="child_changed")this.changeMap.set(r,CI(r,o.oldSnap));else if(s==="child_changed"&&c==="child_added")this.changeMap.set(r,TI(r,e.snapshotNode));else if(s==="child_changed"&&c==="child_changed")this.changeMap.set(r,uy(r,e.snapshotNode,o.oldSnap));else throw zr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{getCompleteChild(e){return null}getChildAfterChild(e,s,r){return null}}const g1=new XI;class Hh{constructor(e,s,r=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Uh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jh(this.writes_,e,r)}}getChildAfterChild(e,s,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Os(this.viewCache_),c=WI(this.writes_,o,s,1,r,e);return c.length===0?null:c[0]}}function QI(i,e){B(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function ZI(i,e,s,r,o){const c=new $I;let f,h;if(s.type===Cn.OVERWRITE){const m=s;m.source.fromUser?f=Qd(i,e,m.path,m.snap,r,o,c):(B(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!de(m.path),f=mc(i,e,m.path,m.snap,r,o,h,c))}else if(s.type===Cn.MERGE){const m=s;m.source.fromUser?f=eD(i,e,m.path,m.children,r,o,c):(B(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),f=Zd(i,e,m.path,m.children,r,o,h,c))}else if(s.type===Cn.ACK_USER_WRITE){const m=s;m.revert?f=iD(i,e,m.path,r,o,c):f=tD(i,e,m.path,m.affectedTree,r,o,c)}else if(s.type===Cn.LISTEN_COMPLETE)f=nD(i,e,s.path,r,c);else throw zr("Unknown operation type: "+s.type);const p=c.getChanges();return JI(e,f,p),{viewCache:f,changes:p}}function JI(i,e,s){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=Kd(i);(s.length>0||!i.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&s.push(bI(Kd(e)))}}function _1(i,e,s,r,o,c){const f=e.eventCache;if(pc(r,s)!=null)return e;{let h,p;if(de(s))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Os(e),y=m instanceof Te?m:Te.EMPTY_NODE,E=h1(r,y);h=i.filter.updateFullNode(e.eventCache.getNode(),E,c)}else{const m=Xd(r,Os(e));h=i.filter.updateFullNode(e.eventCache.getNode(),m,c)}else{const m=me(s);if(m===".priority"){B(Fi(s)===1,"Can't have a priority with additional path components");const y=f.getNode();p=e.serverCache.getNode();const E=_y(r,s,y,p);E!=null?h=i.filter.updatePriority(y,E):h=f.getNode()}else{const y=Le(s);let E;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const b=_y(r,s,f.getNode(),p);b!=null?E=f.getNode().getImmediateChild(m).updateChild(y,b):E=f.getNode().getImmediateChild(m)}else E=jh(r,m,e.serverCache);E!=null?h=i.filter.updateChild(f.getNode(),m,E,y,o,c):h=f.getNode()}}return il(e,h,f.isFullyInitialized()||de(s),i.filter.filtersNodes())}}function mc(i,e,s,r,o,c,f,h){const p=e.serverCache;let m;const y=f?i.filter:i.filter.getIndexedFilter();if(de(s))m=y.updateFullNode(p.getNode(),r,null);else if(y.filtersNodes()&&!p.isFiltered()){const x=p.getNode().updateChild(s,r);m=y.updateFullNode(p.getNode(),x,null)}else{const x=me(s);if(!p.isCompleteForPath(s)&&Fi(s)>1)return e;const U=Le(s),j=p.getNode().getImmediateChild(x).updateChild(U,r);x===".priority"?m=y.updatePriority(p.getNode(),j):m=y.updateChild(p.getNode(),x,j,U,g1,null)}const E=o1(e,m,p.isFullyInitialized()||de(s),y.filtersNodes()),b=new Hh(o,E,c);return _1(i,E,s,o,b,h)}function Qd(i,e,s,r,o,c,f){const h=e.eventCache;let p,m;const y=new Hh(o,e,c);if(de(s))m=i.filter.updateFullNode(e.eventCache.getNode(),r,f),p=il(e,m,!0,i.filter.filtersNodes());else{const E=me(s);if(E===".priority")m=i.filter.updatePriority(e.eventCache.getNode(),r),p=il(e,m,h.isFullyInitialized(),h.isFiltered());else{const b=Le(s),x=h.getNode().getImmediateChild(E);let U;if(de(b))U=r;else{const P=y.getCompleteChild(E);P!=null?KE(b)===".priority"&&P.getChild($E(b)).isEmpty()?U=P:U=P.updateChild(b,r):U=Te.EMPTY_NODE}if(x.equals(U))p=e;else{const P=i.filter.updateChild(h.getNode(),E,U,b,y,f);p=il(e,P,h.isFullyInitialized(),i.filter.filtersNodes())}}}return p}function vy(i,e){return i.eventCache.isCompleteForChild(e)}function eD(i,e,s,r,o,c,f){let h=e;return r.foreach((p,m)=>{const y=rt(s,p);vy(e,me(y))&&(h=Qd(i,h,y,m,o,c,f))}),r.foreach((p,m)=>{const y=rt(s,p);vy(e,me(y))||(h=Qd(i,h,y,m,o,c,f))}),h}function yy(i,e,s){return s.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Zd(i,e,s,r,o,c,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;de(s)?m=r:m=new ke(null).setTree(s,r);const y=e.serverCache.getNode();return m.children.inorderTraversal((E,b)=>{if(y.hasChild(E)){const x=e.serverCache.getNode().getImmediateChild(E),U=yy(i,x,b);p=mc(i,p,new Ue(E),U,o,c,f,h)}}),m.children.inorderTraversal((E,b)=>{const x=!e.serverCache.isCompleteForChild(E)&&b.value===null;if(!y.hasChild(E)&&!x){const U=e.serverCache.getNode().getImmediateChild(E),P=yy(i,U,b);p=mc(i,p,new Ue(E),P,o,c,f,h)}}),p}function tD(i,e,s,r,o,c,f){if(pc(o,s)!=null)return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(r.value!=null){if(de(s)&&p.isFullyInitialized()||p.isCompleteForPath(s))return mc(i,e,s,p.getNode().getChild(s),o,c,h,f);if(de(s)){let m=new ke(null);return p.getNode().forEachChild(xr,(y,E)=>{m=m.set(new Ue(y),E)}),Zd(i,e,s,m,o,c,h,f)}else return e}else{let m=new ke(null);return r.foreach((y,E)=>{const b=rt(s,y);p.isCompleteForPath(b)&&(m=m.set(y,p.getNode().getChild(b)))}),Zd(i,e,s,m,o,c,h,f)}}function nD(i,e,s,r,o){const c=e.serverCache,f=o1(e,c.getNode(),c.isFullyInitialized()||de(s),c.isFiltered());return _1(i,f,s,r,g1,o)}function iD(i,e,s,r,o,c){let f;if(pc(r,s)!=null)return e;{const h=new Hh(r,e,o),p=e.eventCache.getNode();let m;if(de(s)||me(s)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Xd(r,Os(e));else{const E=e.serverCache.getNode();B(E instanceof Te,"serverChildren would be complete if leaf node"),y=h1(r,E)}y=y,m=i.filter.updateFullNode(p,y,c)}else{const y=me(s);let E=jh(r,y,e.serverCache);E==null&&e.serverCache.isCompleteForChild(y)&&(E=p.getImmediateChild(y)),E!=null?m=i.filter.updateChild(p,y,E,Le(s),h,c):e.eventCache.getNode().hasChild(y)?m=i.filter.updateChild(p,y,Te.EMPTY_NODE,Le(s),h,c):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Xd(r,Os(e)),f.isLeafNode()&&(m=i.filter.updateFullNode(m,f,c)))}return f=e.serverCache.isFullyInitialized()||pc(r,Ne())!=null,il(e,m,f,i.filter.filtersNodes())}}function sD(i,e){const s=Os(i.viewCache_);return s&&(i.query._queryParams.loadsAllData()||!de(e)&&!s.getImmediateChild(me(e)).isEmpty())?s.getChild(e):null}function Ey(i,e,s,r){e.type===Cn.MERGE&&e.source.queryId!==null&&(B(Os(i.viewCache_),"We should always have a full cache before handling merges"),B(Kd(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,c=ZI(i.processor_,o,e,s,r);return QI(i.processor_,c.viewCache),B(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,rD(i,c.changes,c.viewCache.eventCache.getNode())}function rD(i,e,s,r){const o=i.eventRegistrations_;return xI(i.eventGenerator_,e,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sy;function aD(i){B(!Sy,"__referenceConstructor has already been defined"),Sy=i}function zh(i,e,s,r){const o=e.source.queryId;if(o!==null){const c=i.views.get(o);return B(c!=null,"SyncTree gave us an op for an invalid query."),Ey(c,e,s,r)}else{let c=[];for(const f of i.views.values())c=c.concat(Ey(f,e,s,r));return c}}function Bh(i,e){let s=null;for(const r of i.views.values())s=s||sD(r,e);return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by;function lD(i){B(!by,"__referenceConstructor has already been defined"),by=i}class Ty{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ke(null),this.pendingWriteTree_=KI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oD(i,e,s,r,o){return UI(i.pendingWriteTree_,e,s,r,o),o?Dc(i,new Ns(s1(),e,s)):[]}function Ar(i,e,s=!1){const r=jI(i.pendingWriteTree_,e);if(HI(i.pendingWriteTree_,e)){let c=new ke(null);return r.snap!=null?c=c.set(Ne(),!0):rn(r.children,f=>{c=c.set(new Ue(f),!0)}),Dc(i,new hc(r.path,c,s))}else return[]}function Ic(i,e,s){return Dc(i,new Ns(r1(),e,s))}function cD(i,e,s){const r=ke.fromObject(s);return Dc(i,new hl(r1(),e,r))}function uD(i,e,s,r){const o=S1(i,r);if(o!=null){const c=b1(o),f=c.path,h=c.queryId,p=nn(f,e),m=new Ns(a1(h),p,s);return T1(i,f,m)}else return[]}function fD(i,e,s,r){const o=S1(i,r);if(o){const c=b1(o),f=c.path,h=c.queryId,p=nn(f,e),m=ke.fromObject(s),y=new hl(a1(h),p,m);return T1(i,f,y)}else return[]}function v1(i,e,s){const o=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(e,(f,h)=>{const p=nn(f,e),m=Bh(h,p);if(m)return m});return d1(o,e,c,s,!0)}function Dc(i,e){return y1(e,i.syncPointTree_,null,u1(i.pendingWriteTree_,Ne()))}function y1(i,e,s,r){if(de(i.path))return E1(i,e,s,r);{const o=e.get(Ne());s==null&&o!=null&&(s=Bh(o,Ne()));let c=[];const f=me(i.path),h=i.operationForChild(f),p=e.children.get(f);if(p&&h){const m=s?s.getImmediateChild(f):null,y=p1(r,f);c=c.concat(y1(h,p,m,y))}return o&&(c=c.concat(zh(o,i,r,s))),c}}function E1(i,e,s,r){const o=e.get(Ne());s==null&&o!=null&&(s=Bh(o,Ne()));let c=[];return e.children.inorderTraversal((f,h)=>{const p=s?s.getImmediateChild(f):null,m=p1(r,f),y=i.operationForChild(f);y&&(c=c.concat(E1(y,h,p,m)))}),o&&(c=c.concat(zh(o,i,r,s))),c}function S1(i,e){return i.tagToQueryMap.get(e)}function b1(i){const e=i.indexOf("$");return B(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new Ue(i.substr(0,e))}}function T1(i,e,s){const r=i.syncPointTree_.get(e);B(r,"Missing sync point for query tag that we're tracking");const o=u1(i.pendingWriteTree_,e);return zh(r,s,o,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new Ph(s)}node(){return this.node_}}class qh{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=rt(this.path_,e);return new qh(this.syncTree_,s)}node(){return v1(this.syncTree_,this.path_)}}const dD=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Cy=function(i,e,s){if(!i||typeof i!="object")return i;if(B(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return hD(i[".sv"],e,s);if(typeof i[".sv"]=="object")return pD(i[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},hD=function(i,e,s){switch(i){case"timestamp":return s.timestamp;default:B(!1,"Unexpected server value: "+i)}},pD=function(i,e,s){i.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const o=e.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},mD=function(i,e,s,r){return Vh(e,new qh(s,i),r)},gD=function(i,e,s){return Vh(i,new Ph(e),s)};function Vh(i,e,s){const r=i.getPriority().val(),o=Cy(r,e.getImmediateChild(".priority"),s);let c;if(i.isLeafNode()){const f=i,h=Cy(f.getValue(),e,s);return h!==f.getValue()||o!==f.getPriority().val()?new it(h,_t(o)):i}else{const f=i;return c=f,o!==f.getPriority().val()&&(c=c.updatePriority(new it(o))),f.forEachChild(vt,(h,p)=>{const m=Vh(p,e.getImmediateChild(h),s);m!==p&&(c=c.updateImmediateChild(h,m))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e="",s=null,r={children:{},childCount:0}){this.name=e,this.parent=s,this.node=r}}function Fh(i,e){let s=e instanceof Ue?e:new Ue(e),r=i,o=me(s);for(;o!==null;){const c=Mr(r.node.children,o)||{children:{},childCount:0};r=new Gh(o,r,c),s=Le(s),o=me(s)}return r}function Gr(i){return i.node.value}function C1(i,e){i.node.value=e,Jd(i)}function w1(i){return i.node.childCount>0}function _D(i){return Gr(i)===void 0&&!w1(i)}function xc(i,e){rn(i.node.children,(s,r)=>{e(new Gh(s,i,r))})}function R1(i,e,s,r){s&&!r&&e(i),xc(i,o=>{R1(o,e,!0,r)}),s&&r&&e(i)}function vD(i,e,s){let r=i.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Rl(i){return new Ue(i.parent===null?i.name:Rl(i.parent)+"/"+i.name)}function Jd(i){i.parent!==null&&yD(i.parent,i.name,i)}function yD(i,e,s){const r=_D(s),o=oi(i.node.children,e);r&&o?(delete i.node.children[e],i.node.childCount--,Jd(i)):!r&&!o&&(i.node.children[e]=s.node,i.node.childCount++,Jd(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/[\[\].#$\/\u0000-\u001F\u007F]/,SD=/[\[\].#$\u0000-\u001F\u007F]/,yd=10*1024*1024,A1=function(i){return typeof i=="string"&&i.length!==0&&!ED.test(i)},bD=function(i){return typeof i=="string"&&i.length!==0&&!SD.test(i)},TD=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),bD(i)},N1=function(i,e,s){const r=s instanceof Ue?new nI(s,i):s;if(e===void 0)throw new Error(i+"contains undefined "+ys(r));if(typeof e=="function")throw new Error(i+"contains a function "+ys(r)+" with contents = "+e.toString());if(RE(e))throw new Error(i+"contains "+e.toString()+" "+ys(r));if(typeof e=="string"&&e.length>yd/3&&Cc(e)>yd)throw new Error(i+"contains a string greater than "+yd+" utf8 bytes "+ys(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(rn(e,(f,h)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!A1(f)))throw new Error(i+" contains an invalid key ("+f+") "+ys(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iI(r,f),N1(i,h,r),sI(r)}),o&&c)throw new Error(i+' contains ".value" child '+ys(r)+" in addition to actual children.")}},CD=function(i,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!A1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!TD(s))throw new Error(jR(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function RD(i,e){let s=null;for(let r=0;r<e.length;r++){const o=e[r],c=o.getPath();s!==null&&!XE(c,s.path)&&(i.eventLists_.push(s),s=null),s===null&&(s={events:[],path:c}),s.events.push(o)}s&&i.eventLists_.push(s)}function js(i,e,s){RD(i,s),AD(i,r=>hn(r,e)||hn(e,r))}function AD(i,e){i.recursionDepth_++;let s=!0;for(let r=0;r<i.eventLists_.length;r++){const o=i.eventLists_[r];if(o){const c=o.path;e(c)?(ND(i.eventLists_[r]),i.eventLists_[r]=null):s=!1}}s&&(i.eventLists_=[]),i.recursionDepth_--}function ND(i){for(let e=0;e<i.events.length;e++){const s=i.events[e];if(s!==null){i.events[e]=null;const r=s.getEventRunner();tl&&gt("event: "+s.toString()),Cl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="repo_interrupt",ID=25;class DD{constructor(e,s,r,o){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dc(),this.transactionQueueTree_=new Gh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function xD(i,e,s){if(i.stats_=Dh(i.repoInfo_),i.forceRestClient_||A2())i.server_=new fc(i.repoInfo_,(r,o,c,f)=>{wy(i,r,o,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>Ry(i,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ft(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new ni(i.repoInfo_,e,(r,o,c,f)=>{wy(i,r,o,c,f)},r=>{Ry(i,r)},r=>{kD(i,r)},i.authTokenProvider_,i.appCheckProvider_,s),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=x2(i.repoInfo_,()=>new DI(i.stats_,i.server_)),i.infoData_=new RI,i.infoSyncTree_=new Ty({startListening:(r,o,c,f)=>{let h=[];const p=i.infoData_.getNode(r._path);return p.isEmpty()||(h=Ic(i.infoSyncTree_,r._path,p),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),Yh(i,"connected",!1),i.serverSyncTree_=new Ty({startListening:(r,o,c,f)=>(i.server_.listen(r,c,o,(h,p)=>{const m=f(h,p);js(i.eventQueue_,r._path,m)}),[]),stopListening:(r,o)=>{i.server_.unlisten(r,o)}})}function MD(i){const s=i.infoData_.getNode(new Ue(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function O1(i){return dD({timestamp:MD(i)})}function wy(i,e,s,r,o){i.dataUpdateCount++;const c=new Ue(e);s=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,s):s;let f=[];if(o)if(r){const p=tc(s,m=>_t(m));f=fD(i.serverSyncTree_,c,p,o)}else{const p=_t(s);f=uD(i.serverSyncTree_,c,p,o)}else if(r){const p=tc(s,m=>_t(m));f=cD(i.serverSyncTree_,c,p)}else{const p=_t(s);f=Ic(i.serverSyncTree_,c,p)}let h=c;f.length>0&&(h=Wh(i,c)),js(i.eventQueue_,h,f)}function Ry(i,e){Yh(i,"connected",e),e===!1&&UD(i)}function kD(i,e){rn(e,(s,r)=>{Yh(i,s,r)})}function Yh(i,e,s){const r=new Ue("/.info/"+e),o=_t(s);i.infoData_.updateSnapshot(r,o);const c=Ic(i.infoSyncTree_,r,o);js(i.eventQueue_,r,c)}function LD(i){return i.nextWriteId_++}function UD(i){I1(i,"onDisconnectEvents");const e=O1(i),s=dc();Yd(i.onDisconnect_,Ne(),(o,c)=>{const f=mD(o,c,i.serverSyncTree_,e);i1(s,o,f)});let r=[];Yd(s,Ne(),(o,c)=>{r=r.concat(Ic(i.serverSyncTree_,o,c));const f=BD(i,o);Wh(i,f)}),i.onDisconnect_=dc(),js(i.eventQueue_,Ne(),r)}function jD(i){i.persistentConnection_&&i.persistentConnection_.interrupt(OD)}function I1(i,...e){let s="";i.persistentConnection_&&(s=i.persistentConnection_.id+":"),gt(s,...e)}function D1(i,e,s){return v1(i.serverSyncTree_,e,s)||Te.EMPTY_NODE}function Kh(i,e=i.transactionQueueTree_){if(e||Mc(i,e),Gr(e)){const s=M1(i,e);B(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&HD(i,Rl(e),s)}else w1(e)&&xc(e,s=>{Kh(i,s)})}function HD(i,e,s){const r=s.map(m=>m.currentWriteId),o=D1(i,e,r);let c=o;const f=o.hash();for(let m=0;m<s.length;m++){const y=s[m];B(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const E=nn(e,y.path);c=c.updateChild(E,y.currentOutputSnapshotRaw)}const h=c.val(!0),p=e;i.server_.put(p.toString(),h,m=>{I1(i,"transaction put response",{path:p.toString(),status:m});let y=[];if(m==="ok"){const E=[];for(let b=0;b<s.length;b++)s[b].status=2,y=y.concat(Ar(i.serverSyncTree_,s[b].currentWriteId)),s[b].onComplete&&E.push(()=>s[b].onComplete(null,!0,s[b].currentOutputSnapshotResolved)),s[b].unwatcher();Mc(i,Fh(i.transactionQueueTree_,e)),Kh(i,i.transactionQueueTree_),js(i.eventQueue_,e,y);for(let b=0;b<E.length;b++)Cl(E[b])}else{if(m==="datastale")for(let E=0;E<s.length;E++)s[E].status===3?s[E].status=4:s[E].status=0;else{Pt("transaction at "+p.toString()+" failed: "+m);for(let E=0;E<s.length;E++)s[E].status=4,s[E].abortReason=m}Wh(i,e)}},f)}function Wh(i,e){const s=x1(i,e),r=Rl(s),o=M1(i,s);return zD(i,o,r),r}function zD(i,e,s){if(e.length===0)return;const r=[];let o=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=nn(s,p.path);let y=!1,E;if(B(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)y=!0,E=p.abortReason,o=o.concat(Ar(i.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=ID)y=!0,E="maxretry",o=o.concat(Ar(i.serverSyncTree_,p.currentWriteId,!0));else{const b=D1(i,p.path,f);p.currentInputSnapshot=b;const x=e[h].update(b.val());if(x!==void 0){N1("transaction failed: Data returned ",x,p.path);let U=_t(x);typeof x=="object"&&x!=null&&oi(x,".priority")||(U=U.updatePriority(b.getPriority()));const j=p.currentWriteId,ee=O1(i),Q=gD(U,b,ee);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=Q,p.currentWriteId=LD(i),f.splice(f.indexOf(j),1),o=o.concat(oD(i.serverSyncTree_,p.path,Q,p.currentWriteId,p.applyLocally)),o=o.concat(Ar(i.serverSyncTree_,j,!0))}else y=!0,E="nodata",o=o.concat(Ar(i.serverSyncTree_,p.currentWriteId,!0))}js(i.eventQueue_,s,o),o=[],y&&(e[h].status=2,function(b){setTimeout(b,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(E==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(E),!1,null))))}Mc(i,i.transactionQueueTree_);for(let h=0;h<r.length;h++)Cl(r[h]);Kh(i,i.transactionQueueTree_)}function x1(i,e){let s,r=i.transactionQueueTree_;for(s=me(e);s!==null&&Gr(r)===void 0;)r=Fh(r,s),e=Le(e),s=me(e);return r}function M1(i,e){const s=[];return k1(i,e,s),s.sort((r,o)=>r.order-o.order),s}function k1(i,e,s){const r=Gr(e);if(r)for(let o=0;o<r.length;o++)s.push(r[o]);xc(e,o=>{k1(i,o,s)})}function Mc(i,e){const s=Gr(e);if(s){let r=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[r]=s[o],r++);s.length=r,C1(e,s.length>0?s:void 0)}xc(e,r=>{Mc(i,r)})}function BD(i,e){const s=Rl(x1(i,e)),r=Fh(i.transactionQueueTree_,e);return vD(r,o=>{Ed(i,o)}),Ed(i,r),R1(r,o=>{Ed(i,o)}),s}function Ed(i,e){const s=Gr(e);if(s){const r=[];let o=[],c=-1;for(let f=0;f<s.length;f++)s[f].status===3||(s[f].status===1?(B(c===f-1,"All SENT items should be at beginning of queue."),c=f,s[f].status=3,s[f].abortReason="set"):(B(s[f].status===0,"Unexpected transaction status in abort"),s[f].unwatcher(),o=o.concat(Ar(i.serverSyncTree_,s[f].currentWriteId,!0)),s[f].onComplete&&r.push(s[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?C1(e,void 0):s.length=c+1,js(i.eventQueue_,Rl(e),o);for(let f=0;f<r.length;f++)Cl(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(i){let e="";const s=i.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let o=s[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function qD(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const s of i.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pt(`Invalid query segment '${s}' in query '${i}'`)}return e}const Ay=function(i,e){const s=VD(i),r=s.namespace;s.domain==="firebase.com"&&ai(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||y2();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new HE(s.host,s.secure,r,o,e,"",r!==s.subdomain),path:new Ue(s.pathString)}},VD=function(i){let e="",s="",r="",o="",c="",f=!0,h="https",p=443;if(typeof i=="string"){let m=i.indexOf("//");m>=0&&(h=i.substring(0,m-1),i=i.substring(m+2));let y=i.indexOf("/");y===-1&&(y=i.length);let E=i.indexOf("?");E===-1&&(E=i.length),e=i.substring(0,Math.min(y,E)),y<E&&(o=PD(i.substring(y,E)));const b=qD(i.substring(Math.min(i.length,E)));m=e.indexOf(":"),m>=0?(f=h==="https"||h==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const x=e.slice(0,m);if(x.toLowerCase()==="localhost")s="localhost";else if(x.split(".").length<=2)s=x;else{const U=e.indexOf(".");r=e.substring(0,U).toLowerCase(),s=e.substring(U+1),c=r}"ns"in b&&(c=b.ns)}return{host:e,port:p,domain:s,subdomain:r,secure:f,scheme:h,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,s,r,o){this._repo=e,this._path=s,this._queryParams=r,this._orderByCalled=o}get key(){return de(this._path)?null:KE(this._path)}get ref(){return new Fr(this._repo,this._path)}get _queryIdentifier(){const e=dy(this._queryParams),s=Oh(e);return s==="{}"?"default":s}get _queryObject(){return dy(this._queryParams)}isEqual(e){if(e=xt(e),!(e instanceof $h))return!1;const s=this._repo===e._repo,r=XE(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return s&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+tI(this._path)}}class Fr extends $h{constructor(e,s){super(e,s,new Lh,!1)}get parent(){const e=$E(this._path);return e===null?null:new Fr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}aD(Fr);lD(Fr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="FIREBASE_DATABASE_EMULATOR_HOST",eh={};let FD=!1;function YD(i,e,s,r){i.repoInfo_=new HE(`${e}:${s}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),r&&(i.authTokenProvider_=r)}function KD(i,e,s,r,o){let c=r||i.options.databaseURL;c===void 0&&(i.options.projectId||ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=Ay(c,o),h=f.repoInfo,p;typeof process<"u"&&Kv&&(p=Kv[GD]),p?(c=`http://${p}?ns=${h.namespace}`,f=Ay(c,o),h=f.repoInfo):f.repoInfo.secure;const m=new O2(i.name,i.options,e);CD("Invalid Firebase Database URL",f),de(f.path)||ai("Database URL must point to the root of a Firebase Database (not including a child path).");const y=$D(h,i,m,new N2(i.name,s));return new XD(y,i)}function WD(i,e){const s=eh[e];(!s||s[i.key]!==i)&&ai(`Database ${e}(${i.repoInfo_}) has already been deleted.`),jD(i),delete s[i.key]}function $D(i,e,s,r){let o=eh[e.name];o||(o={},eh[e.name]=o);let c=o[i.toURLString()];return c&&ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new DD(i,FD,s,r),o[i.toURLString()]=c,c}class XD{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(xD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fr(this._repo,Ne())),this._rootInternal}_delete(){return this._rootInternal!==null&&(WD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ai("Cannot call "+e+" on a deleted database.")}}function QD(i=yh(),e){const s=ks(i,"database").getImmediate({identifier:e});if(!s._instanceStarted){const r=TR("database");r&&ZD(s,...r)}return s}function ZD(i,e,s,r={}){i=xt(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&ai("Cannot call useEmulator() after instance has already been initialized.");const o=i._repoInternal;let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Ko(Ko.OWNER);else if(r.mockUserToken){const f=typeof r.mockUserToken=="string"?r.mockUserToken:CR(r.mockUserToken,i.app.options.projectId);c=new Ko(f)}YD(o,e,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i){h2(Pr),An(new mn("database",(e,{instanceIdentifier:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return KD(r,o,c,s)},"PUBLIC").setMultipleInstances(!0)),sn(Wv,$v,i),sn(Wv,$v,"esm2017")}ni.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};ni.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};JD();const L1="@firebase/installations",Xh="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1e4,j1=`w:${Xh}`,H1="FIS_v2",ex="https://firebaseinstallations.googleapis.com/v1",tx=60*60*1e3,nx="installations",ix="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Is=new Ms(nx,ix,sx);function z1(i){return i instanceof On&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1({projectId:i}){return`${ex}/projects/${i}/installations`}function P1(i){return{token:i.token,requestStatus:2,expiresIn:ax(i.expiresIn),creationTime:Date.now()}}async function q1(i,e){const r=(await e.json()).error;return Is.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function V1({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function rx(i,{refreshToken:e}){const s=V1(i);return s.append("Authorization",lx(e)),s}async function G1(i){const e=await i();return e.status>=500&&e.status<600?i():e}function ax(i){return Number(i.replace("s","000"))}function lx(i){return`${H1} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox({appConfig:i,heartbeatServiceProvider:e},{fid:s}){const r=B1(i),o=V1(i),c=e.getImmediate({optional:!0});if(c){const m=await c.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const f={fid:s,authVersion:H1,appId:i.appId,sdkVersion:j1},h={method:"POST",headers:o,body:JSON.stringify(f)},p=await G1(()=>fetch(r,h));if(p.ok){const m=await p.json();return{fid:m.fid||s,registrationStatus:2,refreshToken:m.refreshToken,authToken:P1(m.authToken)}}else throw await q1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^[cdef][\w-]{21}$/,th="";function fx(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const s=dx(i);return ux.test(s)?s:th}catch{return th}}function dx(i){return cx(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;function K1(i,e){const s=kc(i);W1(s,e),hx(s,e)}function W1(i,e){const s=Y1.get(i);if(s)for(const r of s)r(e)}function hx(i,e){const s=px();s&&s.postMessage({key:i,fid:e}),mx()}let Ts=null;function px(){return!Ts&&"BroadcastChannel"in self&&(Ts=new BroadcastChannel("[Firebase] FID Change"),Ts.onmessage=i=>{W1(i.data.key,i.data.fid)}),Ts}function mx(){Y1.size===0&&Ts&&(Ts.close(),Ts=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="firebase-installations-database",_x=1,Ds="firebase-installations-store";let Sd=null;function Qh(){return Sd||(Sd=H0(gx,_x,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ds)}}})),Sd}async function gc(i,e){const s=kc(i),o=(await Qh()).transaction(Ds,"readwrite"),c=o.objectStore(Ds),f=await c.get(s);return await c.put(e,s),await o.done,(!f||f.fid!==e.fid)&&K1(i,e.fid),e}async function $1(i){const e=kc(i),r=(await Qh()).transaction(Ds,"readwrite");await r.objectStore(Ds).delete(e),await r.done}async function Lc(i,e){const s=kc(i),o=(await Qh()).transaction(Ds,"readwrite"),c=o.objectStore(Ds),f=await c.get(s),h=e(f);return h===void 0?await c.delete(s):await c.put(h,s),await o.done,h&&(!f||f.fid!==h.fid)&&K1(i,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(i){let e;const s=await Lc(i.appConfig,r=>{const o=vx(r),c=yx(i,o);return e=c.registrationPromise,c.installationEntry});return s.fid===th?{installationEntry:await e}:{installationEntry:s,registrationPromise:e}}function vx(i){const e=i||{fid:fx(),registrationStatus:0};return X1(e)}function yx(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Is.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const s={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Ex(i,s);return{installationEntry:s,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Sx(i)}:{installationEntry:e}}async function Ex(i,e){try{const s=await ox(i,e);return gc(i.appConfig,s)}catch(s){throw z1(s)&&s.customData.serverCode===409?await $1(i.appConfig):await gc(i.appConfig,{fid:e.fid,registrationStatus:0}),s}}async function Sx(i){let e=await Ny(i.appConfig);for(;e.registrationStatus===1;)await F1(100),e=await Ny(i.appConfig);if(e.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await Zh(i);return r||s}return e}function Ny(i){return Lc(i,e=>{if(!e)throw Is.create("installation-not-found");return X1(e)})}function X1(i){return bx(i)?{fid:i.fid,registrationStatus:0}:i}function bx(i){return i.registrationStatus===1&&i.registrationTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx({appConfig:i,heartbeatServiceProvider:e},s){const r=Cx(i,s),o=rx(i,s),c=e.getImmediate({optional:!0});if(c){const m=await c.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const f={installation:{sdkVersion:j1,appId:i.appId}},h={method:"POST",headers:o,body:JSON.stringify(f)},p=await G1(()=>fetch(r,h));if(p.ok){const m=await p.json();return P1(m)}else throw await q1("Generate Auth Token",p)}function Cx(i,{fid:e}){return`${B1(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jh(i,e=!1){let s;const r=await Lc(i.appConfig,c=>{if(!Q1(c))throw Is.create("not-registered");const f=c.authToken;if(!e&&Ax(f))return c;if(f.requestStatus===1)return s=wx(i,e),c;{if(!navigator.onLine)throw Is.create("app-offline");const h=Ox(c);return s=Rx(i,h),h}});return s?await s:r.authToken}async function wx(i,e){let s=await Oy(i.appConfig);for(;s.authToken.requestStatus===1;)await F1(100),s=await Oy(i.appConfig);const r=s.authToken;return r.requestStatus===0?Jh(i,e):r}function Oy(i){return Lc(i,e=>{if(!Q1(e))throw Is.create("not-registered");const s=e.authToken;return Ix(s)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Rx(i,e){try{const s=await Tx(i,e),r=Object.assign(Object.assign({},e),{authToken:s});return await gc(i.appConfig,r),s}catch(s){if(z1(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await $1(i.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await gc(i.appConfig,r)}throw s}}function Q1(i){return i!==void 0&&i.registrationStatus===2}function Ax(i){return i.requestStatus===2&&!Nx(i)}function Nx(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+tx}function Ox(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function Ix(i){return i.requestStatus===1&&i.requestTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(i){const e=i,{installationEntry:s,registrationPromise:r}=await Zh(e);return r?r.catch(console.error):Jh(e).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(i,e=!1){const s=i;return await Mx(s),(await Jh(s,e)).token}async function Mx(i){const{registrationPromise:e}=await Zh(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(i){if(!i||!i.options)throw bd("App Configuration");if(!i.name)throw bd("App Name");const e=["projectId","apiKey","appId"];for(const s of e)if(!i.options[s])throw bd(s);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function bd(i){return Is.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="installations",Lx="installations-internal",Ux=i=>{const e=i.getProvider("app").getImmediate(),s=kx(e),r=ks(e,"heartbeat");return{app:e,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},jx=i=>{const e=i.getProvider("app").getImmediate(),s=ks(e,Z1).getImmediate();return{getId:()=>Dx(s),getToken:o=>xx(s,o)}};function Hx(){An(new mn(Z1,Ux,"PUBLIC")),An(new mn(Lx,jx,"PRIVATE"))}Hx();sn(L1,Xh);sn(L1,Xh,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c="analytics",zx="firebase_id",Bx="origin",Px=60*1e3,qx="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ep="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt=new wc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qt=new Ms("analytics","Analytics",Vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(i){if(!i.startsWith(ep)){const e=qt.create("invalid-gtag-resource",{gtagURL:i});return Dt.warn(e.message),""}return i}function J1(i){return Promise.all(i.map(e=>e.catch(s=>s)))}function Fx(i,e){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(i,e)),s}function Yx(i,e){const s=Fx("firebase-js-sdk-policy",{createScriptURL:Gx}),r=document.createElement("script"),o=`${ep}?l=${i}&id=${e}`;r.src=s?s==null?void 0:s.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function Kx(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function Wx(i,e,s,r,o,c){const f=r[o];try{if(f)await e[f];else{const p=(await J1(s)).find(m=>m.measurementId===o);p&&await e[p.appId]}}catch(h){Dt.error(h)}i("config",o,c)}async function $x(i,e,s,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const h=await J1(s);for(const p of f){const m=h.find(E=>E.measurementId===p),y=m&&e[m.appId];if(y)c.push(y);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",r,o||{})}catch(c){Dt.error(c)}}function Xx(i,e,s,r){async function o(c,...f){try{if(c==="event"){const[h,p]=f;await $x(i,e,s,h,p)}else if(c==="config"){const[h,p]=f;await Wx(i,e,s,r,h,p)}else if(c==="consent"){const[h,p]=f;i("consent",h,p)}else if(c==="get"){const[h,p,m]=f;i("get",h,p,m)}else if(c==="set"){const[h]=f;i("set",h)}else i(c,...f)}catch(h){Dt.error(h)}}return o}function Qx(i,e,s,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=Xx(c,i,e,s),{gtagCore:c,wrappedGtag:window[o]}}function Zx(i){const e=window.document.getElementsByTagName("script");for(const s of Object.values(e))if(s.src&&s.src.includes(ep)&&s.src.includes(i))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=30,eM=1e3;class tM{constructor(e={},s=eM){this.throttleMetadata=e,this.intervalMillis=s}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,s){this.throttleMetadata[e]=s}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const eS=new tM;function nM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function iM(i){var e;const{appId:s,apiKey:r}=i,o={method:"GET",headers:nM(r)},c=qx.replace("{app-id}",s),f=await fetch(c,o);if(f.status!==200&&f.status!==304){let h="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(h=p.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:f.status,responseMessage:h})}return f.json()}async function sM(i,e=eS,s){const{appId:r,apiKey:o,measurementId:c}=i.options;if(!r)throw qt.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw qt.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new lM;return setTimeout(async()=>{h.abort()},Px),tS({appId:r,apiKey:o,measurementId:c},f,h,e)}async function tS(i,{throttleEndTimeMillis:e,backoffCount:s},r,o=eS){var c;const{appId:f,measurementId:h}=i;try{await rM(r,e)}catch(p){if(h)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:h};throw p}try{const p=await iM(i);return o.deleteThrottleMetadata(f),p}catch(p){const m=p;if(!aM(m)){if(o.deleteThrottleMetadata(f),h)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:f,measurementId:h};throw p}const y=Number((c=m==null?void 0:m.customData)===null||c===void 0?void 0:c.httpStatus)===503?yv(s,o.intervalMillis,Jx):yv(s,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:s+1};return o.setThrottleMetadata(f,E),Dt.debug(`Calling attemptFetch again in ${y} millis`),tS(i,E,r,o)}}function rM(i,e){return new Promise((s,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(s,o);i.addEventListener(()=>{clearTimeout(c),r(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aM(i){if(!(i instanceof On)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class lM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oM(i,e,s,r,o){if(o&&o.global){i("event",s,r);return}else{const c=await e,f=Object.assign(Object.assign({},r),{send_to:c});i("event",s,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(){if(M0())try{await k0()}catch(i){return Dt.warn(qt.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Dt.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function uM(i,e,s,r,o,c,f){var h;const p=sM(i);p.then(x=>{s[x.measurementId]=x.appId,i.options.measurementId&&x.measurementId!==i.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Dt.error(x)),e.push(p);const m=cM().then(x=>{if(x)return r.getId()}),[y,E]=await Promise.all([p,m]);Zx(c)||Yx(c,y.measurementId),o("js",new Date);const b=(h=f==null?void 0:f.config)!==null&&h!==void 0?h:{};return b[Bx]="firebase",b.update=!0,E!=null&&(b[zx]=E),o("config",y.measurementId,b),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.app=e}_delete(){return delete rl[this.app.options.appId],Promise.resolve()}}let rl={},Iy=[];const Dy={};let Td="dataLayer",dM="gtag",xy,nS,My=!1;function hM(){const i=[];if(I0()&&i.push("This is a browser extension environment."),AR()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),s=qt.create("invalid-analytics-context",{errorInfo:e});Dt.warn(s.message)}}function pM(i,e,s){hM();const r=i.options.appId;if(!r)throw qt.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qt.create("no-api-key");if(rl[r]!=null)throw qt.create("already-exists",{id:r});if(!My){Kx(Td);const{wrappedGtag:c,gtagCore:f}=Qx(rl,Iy,Dy,Td,dM);nS=c,xy=f,My=!0}return rl[r]=uM(i,Iy,Dy,e,xy,Td,s),new fM(i)}function mM(i=yh()){i=xt(i);const e=ks(i,_c);return e.isInitialized()?e.getImmediate():gM(i)}function gM(i,e={}){const s=ks(i,_c);if(s.isInitialized()){const o=s.getImmediate();if(cl(e,s.getOptions()))return o;throw qt.create("already-initialized")}return s.initialize({options:e})}function _M(i,e,s,r){i=xt(i),oM(nS,rl[i.app.options.appId],e,s,r).catch(o=>Dt.error(o))}const ky="@firebase/analytics",Ly="0.10.10";function vM(){An(new mn(_c,(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return pM(r,o,s)},"PUBLIC")),An(new mn("analytics-internal",i,"PRIVATE")),sn(ky,Ly),sn(ky,Ly,"esm2017");function i(e){try{const s=e.getProvider(_c).getImmediate();return{logEvent:(r,o,c)=>_M(s,r,o,c)}}catch(s){throw qt.create("interop-component-reg-failed",{reason:s})}}}vM();const yM={apiKey:"AIzaSyAuiLOtzOrteTw9fQJx_Suf9ON7n-w5RLE",authDomain:"souvenirisland-29eda.firebaseapp.com",projectId:"souvenirisland-29eda",storageBucket:"souvenirisland-29eda.appspot.com",messagingSenderId:"1009894972082",appId:"1:1009894972082:web:3645d4424a4fe2ce6907ab",measurementId:"G-2QYYMKWX5Q",databaseURL:"https://souvenirisland-29eda-default-rtdb.firebaseio.com/"},tp=z0(yM);mM(tp);const vc=f2(tp);QD(tp);function EM(){const[i,e]=T.useState(null);T.useEffect(()=>{const r=JN(vc,o=>{e(o)});return()=>r()},[]);const s=async()=>{try{await eO(vc),console.log("Пользователь вышел из аккаунта")}catch(r){console.error("Ошибка выхода:",r.message)}};return v.jsx(Nn,{children:v.jsxs("div",{className:"header",children:[v.jsx(ut,{to:"/",children:v.jsxs("div",{className:"header__logo",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"46",height:"46",fill:"rgba(122,135,108,1)",children:v.jsx("path",{d:"M15.0049 2.00281C17.214 2.00281 19.0049 3.79367 19.0049 6.00281C19.0049 6.73184 18.8098 7.41532 18.4691 8.00392L23.0049 8.00281V10.0028H21.0049V20.0028C21.0049 20.5551 20.5572 21.0028 20.0049 21.0028H4.00488C3.4526 21.0028 3.00488 20.5551 3.00488 20.0028V10.0028H1.00488V8.00281L5.54065 8.00392C5.19992 7.41532 5.00488 6.73184 5.00488 6.00281C5.00488 3.79367 6.79574 2.00281 9.00488 2.00281C10.2001 2.00281 11.2729 2.52702 12.0058 3.35807C12.7369 2.52702 13.8097 2.00281 15.0049 2.00281ZM11.0049 10.0028H5.00488V19.0028H11.0049V10.0028ZM19.0049 10.0028H13.0049V19.0028H19.0049V10.0028ZM9.00488 4.00281C7.90031 4.00281 7.00488 4.89824 7.00488 6.00281C7.00488 7.05717 7.82076 7.92097 8.85562 7.99732L9.00488 8.00281H11.0049V6.00281C11.0049 5.00116 10.2686 4.1715 9.30766 4.02558L9.15415 4.00829L9.00488 4.00281ZM15.0049 4.00281C13.9505 4.00281 13.0867 4.81869 13.0104 5.85355L13.0049 6.00281V8.00281H15.0049C16.0592 8.00281 16.923 7.18693 16.9994 6.15207L17.0049 6.00281C17.0049 4.89824 16.1095 4.00281 15.0049 4.00281Z"})}),v.jsxs("h1",{children:["Cувенирный ",v.jsx("br",{}),"островок"]})]})}),v.jsx("div",{className:"header__linkList",children:v.jsxs("ol",{children:[v.jsx(ut,{to:"/",children:v.jsx("li",{children:"Главная"})}),v.jsx(ut,{to:"/",children:v.jsx("li",{children:"Каталог"})}),v.jsx(ut,{to:"/about",children:v.jsx("li",{children:"О нас"})})]})}),v.jsxs("div",{className:"header__links",children:[v.jsx(ut,{to:"/cart",children:v.jsx("div",{className:"header__basketIcon",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"30",height:"30",fill:"rgba(122,135,108,1)",children:v.jsx("path",{d:"M12.0049 2C15.3186 2 18.0049 4.68629 18.0049 8V9H22.0049V11H20.8379L20.0813 20.083C20.0381 20.6013 19.6048 21 19.0847 21H4.92502C4.40493 21 3.97166 20.6013 3.92847 20.083L3.17088 11H2.00488V9H6.00488V8C6.00488 4.68629 8.69117 2 12.0049 2ZM13.0049 13H11.0049V17H13.0049V13ZM9.00488 13H7.00488V17H9.00488V13ZM17.0049 13H15.0049V17H17.0049V13ZM12.0049 4C9.86269 4 8.1138 5.68397 8.00978 7.80036L8.00488 8V9H16.0049V8C16.0049 5.8578 14.3209 4.10892 12.2045 4.0049L12.0049 4Z"})})})}),i?v.jsx(ut,{to:`/user/${i.uid}`,children:v.jsx("div",{className:"header__profile",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"rgba(255,254,254,1)",children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[v.jsx("stop",{offset:"0%",style:{stopColor:"rgb(6, 193, 252)",stopOpacity:1}}),v.jsx("stop",{offset:"33%",style:{stopColor:"rgb(172, 66, 255)",stopOpacity:1}}),v.jsx("stop",{offset:"57%",style:{stopColor:"rgb(255, 0, 214)",stopOpacity:1}}),v.jsx("stop",{offset:"90%",style:{stopColor:"rgb(255, 0, 61)",stopOpacity:1}})]})}),v.jsx("path",{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z",fill:"#7a876c"})]})})}):v.jsx(ut,{to:"/reg",children:v.jsx("div",{className:"header__regbtn",children:"Войти"})})]}),v.jsx(pR,{user:i,onLogout:s})]})})}const SM="/assets/1-BF6folfD.png",bM="/assets/2-C6OXDz1B.png";function iS(){return v.jsxs("section",{className:"prom",children:[v.jsx("img",{src:SM,alt:"",className:"prom__img-left"}),v.jsxs("h2",{children:[" Cувенирный ",v.jsx("br",{})," островок"]}),v.jsx("img",{src:bM,alt:"",className:"prom__img-right"})]})}function TM({onSearch:i,onCategorySelect:e}){const[s,r]=T.useState(""),[o,c]=T.useState(""),f=p=>{const m=p.target.value;r(m),i(m)},h=p=>{o===p?(c(""),e("")):(c(p),e(p))};return v.jsxs("section",{className:"search",children:[v.jsx("input",{className:"search__input",type:"text",placeholder:"Поиск товара...",value:s,onChange:f}),v.jsxs("div",{className:"search__btns",children:[v.jsx("div",{className:`search__btn ${o==="Брелки"?"active":""}`,onClick:()=>h("Брелки"),children:"Брелки"}),v.jsx("div",{className:`search__btn ${o==="Подставки"?"active":""}`,onClick:()=>h("Подставки"),children:"Подставки"}),v.jsx("div",{className:`search__btn ${o==="Тарелки"?"active":""}`,onClick:()=>h("Тарелки"),children:"Тарелки"}),v.jsx("div",{className:`search__btn ${o==="Украшения"?"active":""}`,onClick:()=>h("Украшения"),children:"Украшения"})]})]})}function CM({id:i,name:e,price:s,image:r,category:o}){const c=()=>{let f=JSON.parse(localStorage.getItem("cart"))||[];const h=f.findIndex(p=>p.id===i);h!==-1?f[h].quantity+=1:f.push({id:i,name:e,price:s,image:r,category:o,quantity:1}),localStorage.setItem("cart",JSON.stringify(f)),alert(`${e} добавлен в корзину`)};return v.jsxs("section",{className:"card col-xxl-4 col-sm-6 col-md-9",children:[v.jsx("div",{className:"card__category",children:o}),v.jsx(ut,{to:`/product/${i}`,children:v.jsx("img",{src:r,alt:e,className:"card__img"})}),v.jsxs("div",{className:"card__textBlock",children:[v.jsx("h1",{children:e}),v.jsxs("div",{className:"card__textP",children:[v.jsxs("div",{className:"card__price",children:[s," ₽"]}),v.jsx("div",{className:"card__buyBtn",onClick:c,children:"Купить"})]})]})]})}const wM="/assets/product1-CxMwCeW0.jpg",RM="/assets/product2-Bn3J_B2B.jpg",AM="/assets/product3-CH02ZqjD.jpg",NM="/assets/product4-BRHVIcJL.jpg",OM="/assets/product5-DNABM6j8.jpg",IM="/assets/product6-CwLimfyF.jpg",DM="/assets/product7-CUkZk8YF.jpg",xM="/assets/product8-ChTDpsk3.jpg",MM="/assets/product9-Dsw5IOBz.jpg",kM="/assets/product10-BNN6Puhw.jpg",sS=[{id:1,name:"Тарелка ручной работы",price:500,image:wM,category:"Тарелки",description:"Эта уникальная тарелка выполнена вручную, что делает её особенной. Каждый элемент тщательно отшлифован, а дизайн вдохновлен природными мотивами. Подходит для сервировки как для повседневных приемов пищи, так и для особых случаев. Размер: Диаметр 25 см."},{id:2,name:"Подставка из дерева",price:500,image:RM,category:"Подставки",description:"Стильная деревянная подставка, идеально подходящая для размещения горячих кастрюль или чайников. Изготовлена из прочного и экологически чистого дерева, что придает ей природный и утонченный вид. Размер: 20 x 20 см."},{id:3,name:"Брелок для ключей",price:500,image:AM,category:"Брелки",description:"Практичный и стильный брелок для ключей, выполненный из качественного материала. Он поможет вам всегда находить ключи в сумке или рюкзаке, а также станет отличным аксессуаром. Размер: 5 x 3 см."},{id:4,name:"Брелки с котятами",price:500,image:NM,category:"Брелки",description:"Милые брелки с изображением котят, которые привнесут радость и уют в вашу повседневную жизнь. Сделаны с любовью и вниманием к деталям, идеально подходят для подарка. Размер: 4 x 4 см."},{id:5,name:"Тарелка большая",price:500,image:OM,category:"Тарелки",description:"Большая тарелка с классическим дизайном, которая идеально подойдет для подачи основных блюд или десертов. Изготовлена из высококачественной керамики и легко моется. Размер: Диаметр 30 см."},{id:6,name:"Салфетница",price:500,image:IM,category:"Подставки",description:"Удобная и стильная салфетница из дерева, которая отлично впишется в интерьер вашего стола. Идеальна для хранения салфеток и аксессуаров на кухне или в столовой. Размер: 15 x 10 см."},{id:7,name:"Брелок для сумки",price:500,image:DM,category:"Брелки",description:"Элегантный брелок, который станет прекрасным дополнением для вашей сумки. Простой, но стильный дизайн, выполненный из качественного материала, сделает вашу сумку еще более привлекательной. Размер: 6 x 3 см."},{id:8,name:"Тарелка в виде кота",price:500,image:xM,category:"Тарелки",description:"Оригинальная тарелка в форме кота, которая привнесет уют и веселье в ваш обеденный стол. Подходит как для детей, так и для любителей необычных предметов. Размер: 25 x 25 см."},{id:9,name:"Шпилька для волос",price:500,image:MM,category:"Украшения",description:"Красивое украшение для волос, которое придаст вашему образу завершенность. Шпилька выполнена с тонкой деталировкой и добавит элегантности любому прическе. Размер: 10 см."},{id:10,name:"Подставка с надписью",price:500,image:kM,category:"Подставки",description:"Подставка с оригинальной надписью, которая может стать как функциональным, так и декоративным элементом в вашем доме. Подходит для размещения чашек, кастрюль или других аксессуаров. Размер: 18 x 18 см."}];function LM(){const[i,e]=T.useState(""),[s,r]=T.useState(""),o=sS.filter(c=>{const f=c.name.toLowerCase().includes(i.toLowerCase()),h=s?c.category===s:!0;return f&&h});return v.jsx("div",{children:v.jsxs(Nn,{children:[v.jsx(TM,{onSearch:e,onCategorySelect:r}),v.jsx(f0,{className:"product_list",children:o.map(c=>v.jsx(CM,{id:c.id,name:c.name,price:c.price,image:c.image,category:c.category,description:c.description},c.id))})]})})}function UM(){return v.jsxs(v.Fragment,{children:[v.jsx(iS,{}),v.jsx(LM,{})]})}function jM(){return v.jsx(v.Fragment,{children:v.jsx(Nn,{children:v.jsxs("section",{className:"about",children:[v.jsx("div",{className:"about__title",children:v.jsx("h1",{children:"О нас"})}),v.jsxs("div",{className:"about__text",children:[v.jsx("p",{children:"Добро пожаловать в сувенирный островок, где каждый предмет является уникальным шедевром ручной работы. Мы предлагаем широкий выбор разнообразных сувениров, сделанных с любовью и мастерством наших талантливых ремесленников."}),v.jsx("p",{children:"В нашем ассортименте вы найдете преимущественно деревянные изделия, каждое из которых поражает красотой и оригинальностью исполнения. Мы уделяем особое внимание качеству материалов и деталям, чтобы каждый сувенир стал не просто предметом, а настоящим произведением искусства."}),v.jsx("p",{children:"Мы гордимся тем, что поддерживаем мастеров-ремесленников и поощряем традиции ручной работы. Приобретая сувениры у нас, вы не только приобретаете уникальный предмет, но и поддерживаете искусство и ремесленников."}),v.jsx("p",{children:"Добро пожаловать в сувенирный островок, где каждый предмет обладает историей и душой, и каждая покупка становится маленьким вкладом в сохранение уникальных ремесел."})]}),v.jsxs("section",{className:"about__contacts",children:[v.jsx("div",{className:"about__contactsTitle",children:"Найди нас на карте"}),v.jsx("iframe",{className:"about__contactsMap",src:"https://yandex.ru/map-widget/v1/?um=constructor%3Aa35d09934e9a8b333767ae1bc083654665d8e26456c891a4b61c4c1660d21e8f&source=constructor",width:"100%",height:"296",frameborder:"0"}),v.jsxs("div",{className:"about__contactsUs",children:[v.jsx("div",{className:"about__contactsUsTitle",children:"Наши контакты"}),v.jsxs("div",{className:"about__contactsUsText",children:[v.jsx("p",{children:"Телефон: +79898221412"}),v.jsxs("p",{children:["Мы в телеграмме: ",v.jsx("a",{className:"url",href:"https://t.me/vceuzdereva2022 ",children:" https://t.me/vceuzdereva2022 "})]}),v.jsx("p",{children:"Пролетарская ул., 209, станица Брюховецкая "})]})]})]})]})})})}function HM(){const[i,e]=T.useState([]);T.useEffect(()=>{const f=JSON.parse(localStorage.getItem("cart"))||[];e(f)},[]);const s=f=>{e(f),localStorage.setItem("cart",JSON.stringify(f))},r=f=>{const h=i.filter(p=>p.id!==f);s(h)},o=(f,h)=>{const p=i.map(m=>m.id===f?{...m,quantity:Math.max(1,m.quantity+h)}:m);s(p)},c=i.reduce((f,h)=>f+h.price*h.quantity,0);return v.jsx("section",{className:"basket",children:v.jsxs(Nn,{children:[v.jsx("h1",{className:"basket__title",children:"Ваша корзина"}),i.length>0?v.jsxs("ul",{children:[i.map(f=>v.jsxs("div",{className:"basket__card",children:[v.jsxs("div",{className:"basket__cardCont",children:[v.jsx("img",{src:f.image,alt:f.name,className:"basket__img"}),v.jsxs("div",{className:"basket__cardText",children:[v.jsx("div",{className:"basket__cardTitle",children:f.name}),v.jsxs("div",{className:"basket__price",children:[f.price*f.quantity," ₽"]}),v.jsxs("div",{className:"basket__quantity",children:[v.jsx("button",{onClick:()=>o(f.id,-1),children:"-"}),v.jsx("span",{children:f.quantity}),v.jsx("button",{onClick:()=>o(f.id,1),children:"+"})]})]})]}),v.jsx("button",{onClick:()=>r(f.id),children:"X"})]},f.id)),v.jsx("div",{className:"basket__total",children:v.jsxs("h2",{children:["Итого: ",c," ₽"]})}),v.jsx("button",{className:"basket__btn",onClick:()=>window.location.href="/checkout",children:"Оформить заказ"})]}):v.jsx("p",{children:"Корзина пуста"})]})})}function zM(){const[i,e]=T.useState(""),[s,r]=T.useState(""),[o,c]=T.useState(""),[f,h]=T.useState(""),p=Tc(),m=async y=>{y.preventDefault();try{const b=(await KN(vc,i,s)).user;await XN(b,{displayName:o}),console.log("Пользователь создан:",b),p(`/user/${b.uid}`),c(""),e(""),r(""),h("")}catch(E){console.error("Ошибка регистрации:",E.message),h(E.message)}};return v.jsx("section",{className:"reg",children:v.jsxs(Nn,{className:"reg__container",children:[v.jsx("h1",{className:"reg__title",children:"Регистрация"}),v.jsxs("form",{onSubmit:m,className:"reg__form",children:[v.jsx("input",{type:"text",placeholder:"Имя",value:o,onChange:y=>c(y.target.value)}),v.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:y=>e(y.target.value)}),v.jsx("input",{type:"password",placeholder:"Пароль",value:s,onChange:y=>r(y.target.value)}),v.jsx("button",{type:"submit",className:"reg__btn",children:"Зарегистрироваться"}),v.jsxs("div",{className:"reg__underButton",children:["или"," ",v.jsx(ut,{to:"/log",children:v.jsx("span",{children:"войти"})})," ","если есть аккаунт"]})]}),f&&v.jsx("p",{className:"reg__error",children:f})]})})}function BM(){const[i,e]=T.useState(""),[s,r]=T.useState(""),[o,c]=T.useState(""),f=Tc(),h=async p=>{p.preventDefault();try{const m=await WN(vc,i,s);console.log("Пользователь вошел в систему:",m.user),f(`/user/${m.user.uid}`),e(""),r(""),c("")}catch(m){console.error("Ошибка входа:",m.message),c(m.message)}};return v.jsx("section",{className:"reg",children:v.jsxs(Nn,{className:"reg__container",children:[v.jsx("h1",{className:"reg__title",children:"Вход в аккаунт"}),v.jsxs("form",{onSubmit:h,className:"reg__form",children:[v.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:p=>e(p.target.value)}),v.jsx("input",{type:"password",placeholder:"Пароль",value:s,onChange:p=>r(p.target.value)}),v.jsx("button",{className:"reg__btn",type:"submit",children:"Войти"}),v.jsxs("div",{className:"reg__underButton",children:["или"," ",v.jsx(ut,{to:"/reg",children:v.jsx("span",{children:"зарегистрироваться"})})," ","если нет аккаунта"]})]}),o&&v.jsx("p",{className:"reg__error",children:o})]})})}const pl={_origin:"https://api.emailjs.com"},PM=(i,e="https://api.emailjs.com")=>{pl._userID=i,pl._origin=e},rS=(i,e,s)=>{if(!i)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class Uy{constructor(e){this.status=e.status,this.text=e.responseText}}const aS=(i,e,s={})=>new Promise((r,o)=>{const c=new XMLHttpRequest;c.addEventListener("load",({target:f})=>{const h=new Uy(f);h.status===200||h.text==="OK"?r(h):o(h)}),c.addEventListener("error",({target:f})=>{o(new Uy(f))}),c.open("POST",pl._origin+i,!0),Object.keys(s).forEach(f=>{c.setRequestHeader(f,s[f])}),c.send(e)}),qM=(i,e,s,r)=>{const o=r||pl._userID;return rS(o,i,e),aS("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:o,service_id:i,template_id:e,template_params:s}),{"Content-type":"application/json"})},VM=i=>{let e;if(typeof i=="string"?e=document.querySelector(i):e=i,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},GM=(i,e,s,r)=>{const o=r||pl._userID,c=VM(s);rS(o,i,e);const f=new FormData(c);return f.append("lib_version","3.2.0"),f.append("service_id",i),f.append("template_id",e),f.append("user_id",o),aS("/api/v1.0/email/send-form",f)},FM={init:PM,send:qM,sendForm:GM};function YM(){const[i,e]=T.useState([]),[s,r]=T.useState({name:"",phone:"",address:""}),[o,c]=T.useState(!1),f=Tc();T.useEffect(()=>{const m=JSON.parse(localStorage.getItem("cart"))||[];e(m)},[]);const h=m=>{r({...s,[m.target.name]:m.target.value})},p=m=>{if(m.preventDefault(),!s.name||!s.phone||!s.address){alert("Заполните все поля!");return}const y=i.map(b=>`${b.name} (x${b.quantity}): ${b.price*b.quantity} ₽`).join(`
`),E={user_name:s.name,user_phone:s.phone,user_address:s.address,order_details:y,total_price:i.reduce((b,x)=>b+x.price*(x.quantity||1),0)+" ₽"};FM.send(void 0,void 0,E,void 0).then(()=>{c(!0),localStorage.removeItem("cart"),e([]),r({name:"",phone:"",address:""}),setTimeout(()=>{c(!1),f("/")},3e3)}).catch(b=>{console.error("Ошибка отправки заказа:",b)})};return v.jsxs("section",{className:"checkout",children:[v.jsxs(Nn,{children:[v.jsx("h1",{className:"checkout__title",children:"Оформление заказа"}),i.length>0?v.jsxs("div",{children:[v.jsx("ul",{className:"checkout__list",children:i.map((m,y)=>v.jsxs("li",{className:"checkout__item",children:[m.name," (x",m.quantity||1,") - ",m.price*(m.quantity||1)," ₽"]},y))}),v.jsxs("h3",{children:["Итого: ",i.reduce((m,y)=>m+y.price*(y.quantity||1),0)," ₽"]}),v.jsxs(bn,{onSubmit:p,className:"checkout__form",children:[v.jsxs(bn.Group,{children:[v.jsx(bn.Label,{children:"Имя"}),v.jsx(bn.Control,{type:"text",name:"name",value:s.name,onChange:h,required:!0})]}),v.jsxs(bn.Group,{children:[v.jsx(bn.Label,{children:"Телефон"}),v.jsx(bn.Control,{type:"tel",name:"phone",value:s.phone,onChange:h,required:!0})]}),v.jsxs(bn.Group,{children:[v.jsx(bn.Label,{children:"Адрес"}),v.jsx(bn.Control,{type:"text",name:"address",value:s.address,onChange:h,required:!0})]}),v.jsx(Yy,{type:"submit",className:"checkout__btn",children:"Оформить заказ"})]})]}):v.jsx("p",{children:"Корзина пуста"})]}),v.jsx(av,{show:o,onHide:()=>c(!1),centered:!0,children:v.jsxs(av.Body,{className:"text-center",children:[v.jsx("h4",{children:"Заказ успешно оформлен!"}),v.jsx("p",{children:"Вы будете перенаправлены на главную страницу..."})]})})]})}function KM(){const{id:i}=Pw(),e=parseInt(i);console.log("Product ID from URL:",e);const s=sS.find(o=>o.id===e);if(!s)return console.log("Товар не найден"),v.jsx("div",{children:"Товар не найден."});const r=()=>{const{name:o,price:c,image:f,category:h}=s,p={name:o,price:c,image:f,category:h};let m=JSON.parse(localStorage.getItem("cart"))||[];m.push(p),localStorage.setItem("cart",JSON.stringify(m)),alert(`${o} добавлен в корзину`)};return v.jsx("div",{className:"productDetail",children:v.jsxs(Nn,{className:"productDetail__container",children:[v.jsx("div",{className:"productDetail__img",children:v.jsx("img",{src:s.image,alt:s.name})}),v.jsxs("div",{className:"productDetail__text",children:[v.jsx("h1",{className:"productDetail__Title",children:s.name}),v.jsxs("div",{className:"productDetail__price",children:[s.price," ₽"]}),v.jsx("button",{onClick:r,children:"Добавить в корзину"}),v.jsxs("div",{className:"productDetail__desc",children:[v.jsx("div",{className:"productDetail__disctitle",children:"О товаре"}),v.jsx("div",{className:"productDetail__disc",children:s.description})]})]})]})})}function WM(){return v.jsx(v.Fragment,{children:v.jsx("div",{className:"footer",children:v.jsxs(Nn,{className:"footer__container",children:[v.jsx("div",{className:"footer__logo",children:v.jsx(ut,{to:"/",children:v.jsxs("div",{className:"footer__logo",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"46",height:"46",fill:"white",children:v.jsx("path",{d:"M15.0049 2.00281C17.214 2.00281 19.0049 3.79367 19.0049 6.00281C19.0049 6.73184 18.8098 7.41532 18.4691 8.00392L23.0049 8.00281V10.0028H21.0049V20.0028C21.0049 20.5551 20.5572 21.0028 20.0049 21.0028H4.00488C3.4526 21.0028 3.00488 20.5551 3.00488 20.0028V10.0028H1.00488V8.00281L5.54065 8.00392C5.19992 7.41532 5.00488 6.73184 5.00488 6.00281C5.00488 3.79367 6.79574 2.00281 9.00488 2.00281C10.2001 2.00281 11.2729 2.52702 12.0058 3.35807C12.7369 2.52702 13.8097 2.00281 15.0049 2.00281ZM11.0049 10.0028H5.00488V19.0028H11.0049V10.0028ZM19.0049 10.0028H13.0049V19.0028H19.0049V10.0028ZM9.00488 4.00281C7.90031 4.00281 7.00488 4.89824 7.00488 6.00281C7.00488 7.05717 7.82076 7.92097 8.85562 7.99732L9.00488 8.00281H11.0049V6.00281C11.0049 5.00116 10.2686 4.1715 9.30766 4.02558L9.15415 4.00829L9.00488 4.00281ZM15.0049 4.00281C13.9505 4.00281 13.0867 4.81869 13.0104 5.85355L13.0049 6.00281V8.00281H15.0049C16.0592 8.00281 16.923 7.18693 16.9994 6.15207L17.0049 6.00281C17.0049 4.89824 16.1095 4.00281 15.0049 4.00281Z"})}),v.jsxs("h1",{children:["Cувенирный ",v.jsx("br",{}),"островок"]})]})})}),v.jsxs("div",{className:"footer__text",children:[v.jsxs("div",{className:"footer__textConts",children:[v.jsx("div",{className:"footer__textContsTitle",children:"Адрес:"}),v.jsxs("ol",{children:[v.jsx("li",{}),v.jsx("li",{})]})]}),v.jsxs("div",{className:"footer__textConts",children:[v.jsx("div",{className:"footer__textContsTitle",children:"Контакты:"}),v.jsxs("ol",{children:[v.jsx("li",{children:"+7(918)345-55-66"}),v.jsx("li",{children:"socuinerekgndjg@gmail.com"})]})]})]})]})})})}function $M(){const i=_l();return v.jsxs(v.Fragment,{children:[v.jsx(EM,{}),v.jsxs(iR,{location:i,children:[v.jsx($n,{path:"/",element:v.jsx(UM,{})}),v.jsx($n,{path:"/prom",element:v.jsx(iS,{})}),v.jsx($n,{path:"/about",element:v.jsx(jM,{})}),v.jsx($n,{path:"/cart",element:v.jsx(HM,{})}),v.jsx($n,{path:"/reg",element:v.jsx(zM,{})}),v.jsx($n,{path:"/log",element:v.jsx(BM,{})}),v.jsx($n,{path:"/product/:id",element:v.jsx(KM,{})})," ",v.jsx($n,{path:"checkout",element:v.jsx(YM,{})})]},i.pathname),v.jsx(WM,{})]})}jT.createRoot(document.getElementById("root")).render(v.jsx(uR,{children:v.jsx($M,{})}));
